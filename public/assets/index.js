var Il=Object.defineProperty;var El=(e,t,n)=>t in e?Il(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ct=(e,t,n)=>(El(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function Ce(){}function Ml(e,t){for(const n in t)e[n]=t[n];return e}function Rl(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function $l(e){return e()}function hn(){return Object.create(null)}function Oe(e){e.forEach($l)}function W(e){return typeof e=="function"}function Ie(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let It;function Ht(e,t){return It||(It=document.createElement("a")),It.href=t,e===It.href}function Fl(e){return Object.keys(e).length===0}function Ul(e,...t){if(e==null){for(const l of t)l(void 0);return Ce}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function lt(e,t,n){e.$$.on_destroy.push(Ul(t,n))}function Wl(e,t,n,l){if(e){const a=Sl(e,t,n,l);return e[0](a)}}function Sl(e,t,n,l){return e[1]&&l?Ml(n.ctx.slice(),e[1](l(t))):n.ctx}function jl(e,t,n,l){if(e[2]&&l){const a=e[2](l(n));if(t.dirty===void 0)return a;if(typeof a=="object"){const o=[],c=Math.max(t.dirty.length,a.length);for(let r=0;r<c;r+=1)o[r]=t.dirty[r]|a[r];return o}return t.dirty|a}return t.dirty}function Bl(e,t,n,l,a,o){if(a){const c=Sl(t,n,l,o);e.p(c,a)}}function ql(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let l=0;l<n;l++)t[l]=-1;return t}return-1}function Vl(e){return e&&W(e.destroy)?e.destroy:Ce}function i(e,t){e.appendChild(t)}function M(e,t,n){e.insertBefore(t,n||null)}function E(e){e.parentNode&&e.parentNode.removeChild(e)}function dt(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function d(e){return document.createElement(e)}function Gl(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Z(e){return document.createTextNode(e)}function w(){return Z(" ")}function bt(){return Z("")}function x(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function s(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Kl(e){return Array.from(e.childNodes)}function Te(e,t){t=""+t,e.data!==t&&(e.data=t)}function we(e,t){e.value=t??""}function nt(e,t,n,l){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,l?"important":"")}function qe(e,t,n){for(let l=0;l<e.options.length;l+=1){const a=e.options[l];if(a.__value===t){a.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function it(e,t,n){e.classList.toggle(t,!!n)}class zl{constructor(t=!1){ct(this,"is_svg",!1);ct(this,"e");ct(this,"n");ct(this,"t");ct(this,"a");this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,n,l=null){this.e||(this.is_svg?this.e=Gl(n.nodeName):this.e=d(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(t)),this.i(l)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)M(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(E)}}let Ot;function st(e){Ot=e}function en(){if(!Ot)throw new Error("Function called outside component initialization");return Ot}function Cl(e){en().$$.on_mount.push(e)}function Jl(e){en().$$.on_destroy.push(e)}function rt(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(l=>l.call(this,t))}const $t=[],Lt=[];let Ct=[];const qt=[],Yl=Promise.resolve();let Vt=!1;function Ql(){Vt||(Vt=!0,Yl.then(tn))}function Gt(e){Ct.push(e)}function gn(e){qt.push(e)}const Bt=new Set;let _t=0;function tn(){if(_t!==0)return;const e=Ot;do{try{for(;_t<$t.length;){const t=$t[_t];_t++,st(t),Zl(t.$$)}}catch(t){throw $t.length=0,_t=0,t}for(st(null),$t.length=0,_t=0;Lt.length;)Lt.pop()();for(let t=0;t<Ct.length;t+=1){const n=Ct[t];Bt.has(n)||(Bt.add(n),n())}Ct.length=0}while($t.length);for(;qt.length;)qt.pop()();Vt=!1,Bt.clear(),st(e)}function Zl(e){if(e.fragment!==null){e.update(),Oe(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Gt)}}function Xl(e){const t=[],n=[];Ct.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),Ct=t}const Rt=new Set;let gt;function Ne(){gt={r:0,c:[],p:gt}}function Pe(){gt.r||Oe(gt.c),gt=gt.p}function O(e,t){e&&e.i&&(Rt.delete(e),e.i(t))}function D(e,t,n,l){if(e&&e.o){if(Rt.has(e))return;Rt.add(e),gt.c.push(()=>{Rt.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}function xl(e,t){const n=t.token={};function l(a,o,c,r){if(t.token!==n)return;t.resolved=r;let u=t.ctx;c!==void 0&&(u=u.slice(),u[c]=r);const f=a&&(t.current=a)(u);let b=!1;t.block&&(t.blocks?t.blocks.forEach((p,m)=>{m!==o&&p&&(Ne(),D(p,1,1,()=>{t.blocks[m]===p&&(t.blocks[m]=null)}),Pe())}):t.block.d(1),f.c(),O(f,1),f.m(t.mount(),t.anchor),b=!0),t.block=f,t.blocks&&(t.blocks[o]=f),b&&tn()}if(Rl(e)){const a=en();if(e.then(o=>{st(a),l(t.then,1,t.value,o),st(null)},o=>{if(st(a),l(t.catch,2,t.error,o),st(null),!t.hasCatch)throw o}),t.current!==t.pending)return l(t.pending,0),!0}else{if(t.current!==t.then)return l(t.then,1,t.value,e),!0;t.resolved=e}}function ea(e,t,n){const l=t.slice(),{resolved:a}=e;e.current===e.then&&(l[e.value]=a),e.current===e.catch&&(l[e.error]=a),e.block.p(l,n)}function Ge(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function bn(e,t,n){const l=e.$$.props[t];l!==void 0&&(e.$$.bound[l]=n,n(e.$$.ctx[l]))}function V(e){e&&e.c()}function B(e,t,n){const{fragment:l,after_update:a}=e.$$;l&&l.m(t,n),Gt(()=>{const o=e.$$.on_mount.map($l).filter(W);e.$$.on_destroy?e.$$.on_destroy.push(...o):Oe(o),e.$$.on_mount=[]}),a.forEach(Gt)}function q(e,t){const n=e.$$;n.fragment!==null&&(Xl(n.after_update),Oe(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ta(e,t){e.$$.dirty[0]===-1&&($t.push(e),Ql(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Me(e,t,n,l,a,o,c,r=[-1]){const u=Ot;st(e);const f=e.$$={fragment:null,ctx:[],props:o,update:Ce,not_equal:a,bound:hn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:hn(),dirty:r,skip_bound:!1,root:t.target||u.$$.root};c&&c(f.root);let b=!1;if(f.ctx=n?n(e,t.props||{},(p,m,...v)=>{const h=v.length?v[0]:m;return f.ctx&&a(f.ctx[p],f.ctx[p]=h)&&(!f.skip_bound&&f.bound[p]&&f.bound[p](h),b&&ta(e,p)),m}):[],f.update(),b=!0,Oe(f.before_update),f.fragment=l?l(f.ctx):!1,t.target){if(t.hydrate){const p=Kl(t.target);f.fragment&&f.fragment.l(p),p.forEach(E)}else f.fragment&&f.fragment.c();t.intro&&O(e.$$.fragment),B(e,t.target,t.anchor),tn()}st(u)}class Re{constructor(){ct(this,"$$");ct(this,"$$set")}$destroy(){q(this,1),this.$destroy=Ce}$on(t,n){if(!W(n))return Ce;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const a=l.indexOf(n);a!==-1&&l.splice(a,1)}}$set(t){this.$$set&&!Fl(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const na="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(na);var kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tl={},Kt={exports:{}},Dt={};Dt.set=function(e,t,n){for(var l=t.split("."),a=l.pop(),o=e,c=0;c<l.length;c++){var r=l[c];if(!Ut(e,r))return o;e[r]=e[r]||{},e=e[r]}return Ut(e,a)&&(e[a]=n),o};Dt.get=function(e,t){for(var n=t.split("."),l=n.pop(),a=0;a<n.length;a++){var o=n[a];if(!e[o])return;e=e[o]}return e[l]};Dt.delete=function(e,t){for(var n=t.split("."),l=n.pop(),a=0;a<n.length;a++){var o=n[a];if(!e[o]||!Ut(e,o))return;e=e[o]}Ut(e,l)&&(Array.isArray(e)?e.splice(l,1):delete e[l])};function Ut(e,t){return aa(e)?e[t]===void 0||la(e,t):Array.isArray(e)?!isNaN(parseInt(t,10)):!1}function la(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function aa(e){return Object.prototype.toString.call(e)==="[object Object]"}var ia=vt;function vt(e,t){var n=vt[t];if(typeof n!="function")throw new Error("cannot cast to "+t);return n(e)}vt.string=function(e){return e.toString()};vt.number=function(e){var t=parseFloat(e);return isNaN(t)?null:t};vt.date=function(e){var t=new Date(e);return isNaN(t.valueOf())?null:t};vt.array=function(e){if(e instanceof Array)return e;for(var t=e.toString().split(","),n=0;n<t.length;n++)t[n]=t[n].trim();return t};vt.boolean=function(e){return!!e&&e!=="false"};var zt={exports:{}},Jt={exports:{}};(function(e,t){function n(H){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},n(H)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function l(H,g){for(var $=0;$<g.length;$++){var S=g[$];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(H,S.key,S)}}function a(H,g,$){return g&&l(H.prototype,g),$&&l(H,$),Object.defineProperty(H,"prototype",{writable:!1}),H}function o(H,g){if(!(H instanceof g))throw new TypeError("Cannot call a class as a function")}function c(H,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(g&&g.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),Object.defineProperty(H,"prototype",{writable:!1}),g&&h(H,g)}function r(H){var g=m();return function(){var S=_(H),N;if(g){var T=_(this).constructor;N=Reflect.construct(S,arguments,T)}else N=S.apply(this,arguments);return u(this,N)}}function u(H,g){if(g&&(n(g)==="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f(H)}function f(H){if(H===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}function b(H){var g=typeof Map=="function"?new Map:void 0;return b=function(S){if(S===null||!v(S))return S;if(typeof S!="function")throw new TypeError("Super expression must either be null or a function");if(typeof g<"u"){if(g.has(S))return g.get(S);g.set(S,N)}function N(){return p(S,arguments,_(this).constructor)}return N.prototype=Object.create(S.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),h(N,S)},b(H)}function p(H,g,$){return m()?p=Reflect.construct:p=function(N,T,k){var L=[null];L.push.apply(L,T);var A=Function.bind.apply(N,L),P=new A;return k&&h(P,k.prototype),P},p.apply(null,arguments)}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(H){return Function.toString.call(H).indexOf("[native code]")!==-1}function h(H,g){return h=Object.setPrototypeOf||function(S,N){return S.__proto__=N,S},h(H,g)}function _(H){return _=Object.setPrototypeOf?Object.getPrototypeOf:function($){return $.__proto__||Object.getPrototypeOf($)},_(H)}var y=function(H){c($,H);var g=r($);function $(S,N){var T;return o(this,$),T=g.call(this,S),C(f(T),"path",N),C(f(T),"expose",!0),C(f(T),"status",400),Error.captureStackTrace&&Error.captureStackTrace(f(T),$),T}return a($)}(b(Error));t.default=y;var C=function(g,$,S){Object.defineProperty(g,$,{enumerable:!1,configurable:!0,writable:!0,value:S})};e.exports=t.default})(Jt,Jt.exports);var Hl=Jt.exports,yt={},oa=Object.prototype.toString,Al=function(e){switch(oa.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return e===null?"null":e===void 0?"undefined":e!==e?"nan":e&&e.nodeType===1?"element":sa(e)?"buffer":(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e),typeof e)};function sa(e){return!!(e!=null&&(e._isBuffer||e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)))}Object.defineProperty(yt,"__esModule",{value:!0});yt.assign=ha;yt.enumerate=Pl;yt.join=St;yt.walk=Yt;var ra=Nl(Dt),ua=Nl(Al);function Nl(e){return e&&e.__esModule?e:{default:e}}function fa(e,t){return pa(e)||ma(e,t)||da(e,t)||ca()}function ca(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function da(e,t){if(e){if(typeof e=="string")return vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vn(e,t)}}function vn(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}function ma(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var l=[],a=!0,o=!1,c,r;try{for(n=n.call(e);!(a=(c=n.next()).done)&&(l.push(c.value),!(t&&l.length===t));a=!0);}catch(u){o=!0,r=u}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw r}}return l}}function pa(e){if(Array.isArray(e))return e}function ha(e,t,n){if(typeof e=="string"){n[e]=t;return}Object.keys(e).forEach(function(l){return n[l]=e[l]})}function Pl(e,t,n){var l=e.split(/\.\$(?=\.|$)/),a=l.shift(),o=ra.default.get(t,a);if(!l.length)return n(a,o);if(Array.isArray(o))for(var c=0;c<o.length;c++){var r=St(c,a),u=r+l.join(".$");Pl(u,t,n)}}function Yt(e,t,n,l){var a=(0,ua.default)(e);if(a==="array"){e.forEach(function(m,v){return Yt(m,t,St(v,n),St("$",l))});return}if(a==="object")for(var o=0,c=Object.entries(e);o<c.length;o++){var r=fa(c[o],2),u=r[0],f=r[1],b=St(u,n),p=St(u,l);t(b,p)&&Yt(f,t,b,p)}}function St(e,t){return t?"".concat(t,".").concat(e):e}(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(Hl),l=yt;function a(g){return g&&g.__esModule?g:{default:g}}function o(g){return u(g)||r(g)||p(g)||c()}function c(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r(g){if(typeof Symbol<"u"&&g[Symbol.iterator]!=null||g["@@iterator"]!=null)return Array.from(g)}function u(g){if(Array.isArray(g))return m(g)}function f(g,$){return h(g)||v(g,$)||p(g,$)||b()}function b(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p(g,$){if(g){if(typeof g=="string")return m(g,$);var S=Object.prototype.toString.call(g).slice(8,-1);if(S==="Object"&&g.constructor&&(S=g.constructor.name),S==="Map"||S==="Set")return Array.from(g);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return m(g,$)}}function m(g,$){($==null||$>g.length)&&($=g.length);for(var S=0,N=new Array($);S<$;S++)N[S]=g[S];return N}function v(g,$){var S=g==null?null:typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(S!=null){var N=[],T=!0,k=!1,L,A;try{for(S=S.call(g);!(T=(L=S.next()).done)&&(N.push(L.value),!($&&N.length===$));T=!0);}catch(P){k=!0,A=P}finally{try{!T&&S.return!=null&&S.return()}finally{if(k)throw A}}return N}}function h(g){if(Array.isArray(g))return g}function _(g,$){if(!(g instanceof $))throw new TypeError("Cannot call a class as a function")}function y(g,$){for(var S=0;S<$.length;S++){var N=$[S];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(g,N.key,N)}}function C(g,$,S){return $&&y(g.prototype,$),S&&y(g,S),Object.defineProperty(g,"prototype",{writable:!1}),g}var H=function(){function g($,S){_(this,g),this.name=$,this.registry={},this._schema=S,this._type=null,this.messages={}}return C(g,[{key:"message",value:function(S){typeof S=="string"&&(S={default:S});for(var N=Object.entries(S),T=0,k=N;T<k.length;T++){var L=f(k[T],2),A=L[0],P=L[1];this.messages[A]=P}return this}},{key:"schema",value:function(S){return this._schema.path(this.name,S),this}},{key:"use",value:function(S){var N=this;return Object.keys(S).forEach(function(T){var k=S[T];Array.isArray(k)||(k=[k]);var L=k.shift();N._register(T,k,L)}),this}},{key:"required",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this._register("required",[S])}},{key:"type",value:function(S){return this._type=S,this._register("type",[S])}},{key:"string",value:function(){return this.type(String)}},{key:"number",value:function(){return this.type(Number)}},{key:"array",value:function(){return this.type(Array)}},{key:"date",value:function(){return this.type(Date)}},{key:"length",value:function(S){return this._register("length",[S])}},{key:"size",value:function(S){return this._register("size",[S])}},{key:"enum",value:function(S){return this._register("enum",[S])}},{key:"match",value:function(S){return this._register("match",[S])}},{key:"each",value:function(S){return this._schema.path((0,l.join)("$",this.name),S),this}},{key:"elements",value:function(S){var N=this;return S.forEach(function(T,k){N._schema.path((0,l.join)(k,N.name),T)}),this}},{key:"properties",value:function(S){for(var N=0,T=Object.entries(S);N<T.length;N++){var k=f(T[N],2),L=k[0],A=k[1];this._schema.path((0,l.join)(L,this.name),A)}return this}},{key:"path",value:function(){var S;return(S=this._schema).path.apply(S,arguments)}},{key:"typecast",value:function(S){var N=this._schema,T=this._type;if(!T)return S;typeof T=="function"&&(T=T.name);var k=N.typecasters[T]||N.typecasters[T.toLowerCase()];if(typeof k!="function")throw new Error("Typecasting failed: No typecaster defined for ".concat(T,"."));return k(S)}},{key:"validate",value:function(S,N){for(var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.name,k=Object.keys(this.registry),L=0,A=k;L<A.length;L++){var P=A[L],R=this._run(P,S,N,T);if(R)return R}return null}},{key:"_run",value:function(S,N,T,k){if(this.registry[S]){var L=this._schema,A=this.registry[S],P=A.args,R=A.fn,U=R||L.validators[S],J=U.apply(void 0,[N,T].concat(o(P),[k]));if(!J)return this._error(S,T,P,k)}}},{key:"_register",value:function(S,N,T){return this.registry[S]={args:N,fn:T},this}},{key:"_error",value:function(S,N,T,k){var L=this._schema,A=this.messages[S]||this.messages.default||L.messages[S]||L.messages.default;return typeof A=="function"&&(A=A.apply(void 0,[k,N].concat(o(T)))),new n.default(A,k)}}]),g}();t.default=H,e.exports=t.default})(zt,zt.exports);var ga=zt.exports,Qt={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={type:function(o,c,r){return typeof r=="function"&&(r=r.name),"".concat(o," must be of type ").concat(r,".")},required:function(o){return"".concat(o," is required.")},match:function(o,c,r){return"".concat(o," must match ").concat(r,".")},length:function(o,c,r){if(typeof r=="number")return"".concat(o," must have a length of ").concat(r,".");var u=r.min,f=r.max;if(u&&f)return"".concat(o," must have a length between ").concat(u," and ").concat(f,".");if(f)return"".concat(o," must have a maximum length of ").concat(f,".");if(u)return"".concat(o," must have a minimum length of ").concat(u,".")},size:function(o,c,r){if(typeof r=="number")return"".concat(o," must have a size of ").concat(r,".");var u=r.min,f=r.max;if(u!==void 0&&f!==void 0)return"".concat(o," must be between ").concat(u," and ").concat(f,".");if(f!==void 0)return"".concat(o," must be less than ").concat(f,".");if(u!==void 0)return"".concat(o," must be greater than ").concat(u,".")},enum:function(o,c,r){var u=r.slice(),f=u.pop();return"".concat(o," must be either ").concat(u.join(", ")," or ").concat(f,".")},illegal:function(o){return"".concat(o," is not allowed.")},default:function(o){return"Validation failed for ".concat(o,".")}},l=n;t.default=l,e.exports=t.default})(Qt,Qt.exports);var ba=Qt.exports,Zt={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(Al);function l(c){return c&&c.__esModule?c:{default:c}}var a={required:function(r,u,f){return f===!1?!0:r!=null&&r!==""},type:function(r,u,f){return r==null?!0:typeof f=="function"?r.constructor===f:(0,n.default)(r)===f},length:function(r,u,f){if(r==null)return!0;if(typeof f=="number")return r.length===f;var b=f.min,p=f.max;return!(b&&r.length<b||p&&r.length>p)},size:function(r,u,f){if(r==null)return!0;if(typeof f=="number")return r===f;var b=f.min,p=f.max;return!(parseInt(b)!=null&&r<b||parseInt(p)!=null&&r>p)},enum:function(r,u,f){return r==null?!0:f.includes(r)},match:function(r,u,f){return r==null?!0:f.test(r)}},o=a;t.default=o,e.exports=t.default})(Zt,Zt.exports);var va=Zt.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=f(Dt),l=f(ia),a=f(ga),o=f(ba),c=f(va),r=f(Hl),u=yt;function f(k){return k&&k.__esModule?k:{default:k}}function b(k){return v(k)||m(k)||y(k)||p()}function p(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(k){if(typeof Symbol<"u"&&k[Symbol.iterator]!=null||k["@@iterator"]!=null)return Array.from(k)}function v(k){if(Array.isArray(k))return C(k)}function h(k,L){return g(k)||H(k,L)||y(k,L)||_()}function _(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(k,L){if(k){if(typeof k=="string")return C(k,L);var A=Object.prototype.toString.call(k).slice(8,-1);if(A==="Object"&&k.constructor&&(A=k.constructor.name),A==="Map"||A==="Set")return Array.from(k);if(A==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return C(k,L)}}function C(k,L){(L==null||L>k.length)&&(L=k.length);for(var A=0,P=new Array(L);A<L;A++)P[A]=k[A];return P}function H(k,L){var A=k==null?null:typeof Symbol<"u"&&k[Symbol.iterator]||k["@@iterator"];if(A!=null){var P=[],R=!0,U=!1,J,G;try{for(A=A.call(k);!(R=(J=A.next()).done)&&(P.push(J.value),!(L&&P.length===L));R=!0);}catch(F){U=!0,G=F}finally{try{!R&&A.return!=null&&A.return()}finally{if(U)throw G}}return P}}function g(k){if(Array.isArray(k))return k}function $(k,L){if(!(k instanceof L))throw new TypeError("Cannot call a class as a function")}function S(k,L){for(var A=0;A<L.length;A++){var P=L[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(k,P.key,P)}}function N(k,L,A){return L&&S(k.prototype,L),A&&S(k,A),Object.defineProperty(k,"prototype",{writable:!1}),k}var T=function(){function k(){var L=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};$(this,k),this.opts=P,this.hooks=[],this.props={},this.messages=Object.assign({},o.default),this.validators=Object.assign({},c.default),this.typecasters=Object.assign({},l.default),Object.keys(A).forEach(function(R){return L.path(R,A[R])})}return N(k,[{key:"path",value:function(A,P){var R=this,U=A.split("."),J=U.pop(),G=U.join(".");if(G&&this.path(G),J==="$"&&this.path(G).type(Array),P instanceof k)return P.hook(function(ue,ye){return R.path((0,u.join)(ue,A),ye)}),this.path(A,P.props);if(P instanceof a.default)return this.props[A]=P,this.propagate(A,P),P;var F=this.props[A]||new a.default(A,this);if(this.props[A]=F,this.propagate(A,F),!P)return F;if(typeof P=="string"||typeof P=="function")return F.type(P),F;if(Array.isArray(P))return F.type(Array),P.length===1?F.each(P[0]):F.elements(P),F;for(var Q=Object.keys(P),Y=!1,te=0,se=Q;te<se.length;te++){var me=se[te];if(typeof F[me]!="function"){F.type(Object),Y=!0;break}}return Q.forEach(function(ue){var ye=P[ue];if(Y)return R.path((0,u.join)(ue,A),ye);F[ue](ye)}),F}},{key:"typecast",value:function(A){for(var P=function(){var G=h(U[R],2),F=G[0],Q=G[1];(0,u.enumerate)(F,A,function(Y,te){if(te!=null){var se=Q.typecast(te);se!==te&&n.default.set(A,Y,se)}})},R=0,U=Object.entries(this.props);R<U.length;R++)P();return this}},{key:"strip",value:function(A){var P=this;return(0,u.walk)(A,function(R,U){return P.props[U]?!0:(n.default.delete(A,R),!1)}),this}},{key:"enforce",value:function(A){var P=this,R=[];return(0,u.walk)(A,function(U,J){if(P.props[J])return!0;var G=new r.default(o.default.illegal(U),U);return R.push(G),!1}),R}},{key:"validate",value:function(A){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};P=Object.assign(this.opts,P);var R=[];P.typecast&&this.typecast(A),P.strict&&R.push.apply(R,b(this.enforce(A))),P.strip!==!1&&this.strip(A);for(var U=function(){var Q=h(G[J],2),Y=Q[0],te=Q[1];(0,u.enumerate)(Y,A,function(se,me){var ue=te.validate(me,A,se);ue&&R.push(ue)})},J=0,G=Object.entries(this.props);J<G.length;J++)U();return R}},{key:"assert",value:function(A,P){var R=this.validate(A,P),U=h(R,1),J=U[0];if(J)throw J}},{key:"message",value:function(A,P){return(0,u.assign)(A,P,this.messages),this}},{key:"validator",value:function(A,P){return(0,u.assign)(A,P,this.validators),this}},{key:"typecaster",value:function(A,P){return(0,u.assign)(A,P,this.typecasters),this}},{key:"hook",value:function(A){return this.hooks.push(A),this}},{key:"propagate",value:function(A,P){return this.hooks.forEach(function(R){return R(A,P)}),this}}]),k}();t.default=T,T.ValidationError=r.default,e.exports=t.default})(Kt,Kt.exports);var ya=Kt.exports;(function(e){var t=kt&&kt.__classPrivateFieldGet||function(p,m,v,h){if(v==="a"&&!h)throw new TypeError("Private accessor was defined without a getter");if(typeof m=="function"?p!==m||!h:!m.has(p))throw new TypeError("Cannot read private member from an object whose class did not declare it");return v==="m"?h:v==="a"?h.call(p):h?h.value:m.get(p)},n=kt&&kt.__classPrivateFieldSet||function(p,m,v,h,_){if(h==="m")throw new TypeError("Private method is not writable");if(h==="a"&&!_)throw new TypeError("Private accessor was defined without a setter");if(typeof m=="function"?p!==m||!_:!m.has(p))throw new TypeError("Cannot write private member to an object whose class did not declare it");return h==="a"?_.call(p,v):_?_.value=v:m.set(p,v),v},l=kt&&kt.__importDefault||function(p){return p&&p.__esModule?p:{default:p}},a;Object.defineProperty(e,"__esModule",{value:!0}),e.MicroLobby=e.GameClientLobbyPayloadSchema=e.PlayerPayloadSchema=e.ExtraDataSchema=e.ChatMessageArraySchema=e.ChatMessageSchema=e.BattleTagRegex=void 0;const o=l(ya),c={type:Number,size:{min:0,max:24},required:!0},r={type:Number,size:{min:0,max:24}},u={type:Number,size:{min:1,max:25},required:!0};e.BattleTagRegex=/(^([A-zÀ-ú][A-zÀ-ú0-9]{2,11})|(^([а-яёА-ЯЁÀ-ú][а-яёА-ЯЁ0-9À-ú]{2,11})))(#[0-9]{4,8})$/,e.ChatMessageSchema=new o.default({name:{type:String,match:e.BattleTagRegex,required:!0},message:{type:String,length:{min:1,max:255},required:!0},time:{type:Number,length:{min:0,max:Number.MAX_SAFE_INTEGER}}}),e.ChatMessageArraySchema=new o.default({messages:{type:Array,each:e.ChatMessageSchema}}),e.ExtraDataSchema=new o.default({played:{type:Number,size:{min:-1},required:!0},wins:{type:Number,size:{min:-1},required:!0},losses:{type:Number,size:{min:-1},required:!0},rating:{type:Number,required:!0},lastChange:{type:Number,required:!0},rank:{type:Number,size:{min:1},required:!0}}),e.PlayerPayloadSchema=new o.default({slotStatus:{type:Number,size:{min:0,max:3},required:!0},slot:c,team:c,slotType:{type:Number,size:{min:0,max:1},required:!0},isObserver:{type:Boolean,required:!0},isSelf:{type:Boolean,required:!0},slotTypeChangeEnabled:{type:Boolean,required:!0},id:{type:Number,size:{min:0,max:255},required:!0},name:{type:String,length:{min:0,max:32}},playerRegion:{type:String,enum:["us","eu","usw",""]},playerGateway:{type:Number,required:!0},color:c,colorChangeEnabled:{type:Boolean,required:!0},teamChangeEnabled:{type:Boolean,required:!0},race:{type:Number,size:{min:0,max:32},required:!0},raceChangeEnabled:{type:Boolean,required:!0},handicap:{type:Number,size:{min:50,max:100},required:!0},handicapChangeEnabled:{type:Boolean,required:!0}});const f={isHost:{type:Boolean,required:!0},playerHost:{type:String,match:e.BattleTagRegex,required:!0},maxTeams:{type:Number,size:{min:1,max:24},required:!0},isCustomForces:{type:Boolean,required:!0},isCustomPlayers:{type:Boolean,required:!0},mapData:{mapSize:{type:String,length:{min:4,max:32},required:!0},mapSpeed:{type:String,length:{min:4,max:32},required:!0},mapName:{type:String,length:{min:2,max:36},required:!0},mapPath:{type:String,length:{min:4,max:127},required:!0},mapAuthor:{type:String,length:{min:1,max:32},required:!0},description:{type:String,length:{min:0,max:256},required:!1},suggested_players:{type:String,length:{min:1,max:32},required:!0},mapAllowsSD:{type:Boolean,required:!0},mapAllowsHD:{type:Boolean,required:!0}},lobbyName:{type:String,length:{min:1,max:32},required:!0},mapFlags:{flagLockTeams:{type:Boolean,required:!0},flagPlaceTeamsTogether:{type:Boolean,required:!0},flagFullSharedUnitControl:{type:Boolean,required:!0},flagRandomRaces:{type:Boolean,required:!0},flagRandomHero:{type:Boolean,required:!0},settingObservers:{type:String,enum:["No Observers","Observers on Defeat","Referees","Full Observers"],required:!0},typeObservers:{type:Number,required:!0},settingVisibility:{type:String,enum:["Default","Hide Terrain","Map Explored","Always Visible"],required:!0},typeVisibility:{type:Number,size:{min:0,max:3},required:!0}},availableColors:{type:Array,each:{type:Number,enum:[0,1]},size:{min:0,max:25},required:!1},availableTeamColors:{0:[r],1:[r],2:[r],3:[r],4:[r],5:[r],6:[r],7:[r],8:[r],9:[r],10:[r],11:[r],12:[r],13:[r],14:[r],15:[r],16:[r],17:[r],18:[r],19:[r],20:[r],21:[r],22:[r],23:[r],24:[r]}};e.GameClientLobbyPayloadSchema=new o.default({teamData:{teams:[{name:{type:String,length:{min:1,max:32}},team:c,filledSlots:c,totalSlots:r}],playableSlots:c,filledPlayableSlots:u,observerSlotsRemaining:c},players:[e.PlayerPayloadSchema],...f});class b{constructor(m,v=!0){var h,_,y,C;if(this.slots={},this.teamListLookup={},this.chatMessages=[],a.set(this,{}),this.allPlayers=[],this.nonSpecPlayers=[],this.statsAvailable=!1,this.log=!0,this.log=v,m.payload){if(!m.region||!["us","eu","usw"].includes(m.region))throw new Error("Invalid region");const g=e.GameClientLobbyPayloadSchema.validate(m.payload,{strict:!0});if(g.length>0)throw g.forEach($=>{console.error($.path,$.message)}),new Error("Invalid Data: "+Object.entries(JSON.stringify(g[0])).join(", "));if(Object.values(m.payload.players).find($=>$.isSelf)!==void 0){let{teamData:$,availableTeamColors:S,players:N,availableColors:T,...k}=m.payload;this.lobbyStatic=k,this.region=m.region;for(const L of m.payload.teamData.teams){const A=L.name;let P="playerTeams",R=m.payload.players.filter(U=>U.team===L.team);this.lobbyStatic.isHost?R.filter(U=>U.isObserver).length>0?P="specTeams":R.filter(U=>U.slotTypeChangeEnabled||U.isSelf).length===0?P="otherTeams":this.testTeam(A)==="specTeams"&&(P="specTeams"):R.filter(U=>U.isObserver).length>0?P="specTeams":R.filter(U=>U.slotStatus===2&&!U.playerRegion).length===R.length?P="otherTeams":this.testTeam(A)==="specTeams"&&(P="specTeams"),this.teamListLookup[L.team]={type:P,name:A}}m.payload.players.forEach(L=>{this.slots[L.slot]=L,(L.playerRegion||L.isSelf)&&(t(this,a,"f")[L.name]={joinedAt:Date.now(),cleared:!1})})}else throw new Error("Invalid New Lobby Payload Data.")}else if(m.fullData){if(!m.fullData.region||!["us","eu","usw"].includes(m.fullData.region))throw new Error("Invalid region");if(!m.fullData.slots||typeof m.fullData.slots!="object")throw new Error("Invalid Data: Slots Invalid type or missing.");if(Object.keys(m.fullData.slots).length>24)throw new Error("Invalid Data: Slots Over 24");let g=new o.default(f).validate(m.fullData.lobbyStatic,{strict:!0,strip:!1});if(Object.entries(m.fullData.slots).forEach(([$,S])=>{if(parseInt($).toString()!==$||parseInt($)<0||parseInt($)>23)throw new Error("Invalid Data: Slots Invalid Slot Number: "+$);g.concat(e.PlayerPayloadSchema.validate(S,{strict:!0,strip:!1}))}),Array.isArray(m.fullData.chatMessages))m.fullData.chatMessages.forEach($=>{let S=JSON.stringify($);if(g.concat(e.ChatMessageSchema.validate($,{strict:!0,strip:!1})),S!==JSON.stringify($))throw new Error("Invalid Data: Message Invalid: "+$);console.log(S,$)});else throw new Error("Invalid Data: Chat Messages Invalid type or missing.");if(Object.entries(m.fullData.teamListLookup).forEach(([$,S])=>{if(parseInt($).toString()!==$||parseInt($)<0||parseInt($)>24)throw new Error("Invalid Data: Slots Invalid Team Number: "+$);g.concat(new o.default({type:{type:String,enum:["otherTeams","specTeams","playerTeams"],required:!0},name:{type:String,length:{min:0,max:32},required:!0}}).validate(S,{strict:!0,strip:!1}))}),Object.entries(m.fullData.playerData).forEach(([$,S])=>{if($.length>32)throw new Error("Invalid Data: Player Name too long: "+$);g.concat(new o.default({joinedAt:{type:Number,required:!0},cleared:{type:Boolean,required:!0},extra:e.ExtraDataSchema}).validate(S,{strict:!0,strip:!1}))}),g.length>0)throw g.forEach($=>{console.error($.path,$.message)}),new Error("Invalid New Lobby Full Data: "+Object.entries(g[0]).join(", "));if(m.fullData.statsAvailable=(h=m.fullData.statsAvailable)!==null&&h!==void 0?h:!1,typeof m.fullData.statsAvailable!="boolean")throw new Error("Invalid New Lobby Full Data: StatsAvailable is not boolean.");this.statsAvailable=m.fullData.statsAvailable,this.lobbyStatic=m.fullData.lobbyStatic,this.region=m.fullData.region,this.slots=m.fullData.slots,this.teamListLookup=m.fullData.teamListLookup,this.chatMessages=m.fullData.chatMessages,n(this,a,m.fullData.playerData,"f"),this.ingestUpdate({playerPayload:Object.values(m.fullData.slots)})}else throw new Error("Missing New Lobby data.");this.lobbyStatic.mapData.mapPath=this.cleanPathName(this.lobbyStatic.mapData.mapPath);let H=this.cleanMapName(this.lobbyStatic.mapData.mapName);this.lookupName=H.mapName,this.statsAvailable=(C=(_=m.statsAvailableOverride)!==null&&_!==void 0?_:(y=m.fullData)===null||y===void 0?void 0:y.statsAvailable)!==null&&C!==void 0?C:H.statsAvailable,this.allPlayers=this.getAllPlayers(!0),this.nonSpecPlayers=this.getAllPlayers(!1)}updateLobbySlots(m){let v=[],h={isUpdated:!1,events:[]};return m.forEach(_=>{if(e.PlayerPayloadSchema.validate(_,{strict:!0,strip:!1}).length>0){console.warn("Invalid Player Payload: ",_);return}JSON.stringify(this.slots[_.slot])!==JSON.stringify(_)&&((_.playerRegion||_.isSelf)&&_.name||!_.playerRegion)&&v.push(_)}),v.length>0?(h=this.ingestUpdate({playerPayload:v}),{playerUpdates:v,events:h}):(this.log&&console.log("No player updates"),{playerUpdates:v,events:h})}ingestUpdate(m){var v;let h=!1,_=[];if(m.chatMessage){let y=e.ChatMessageSchema.validate(m.chatMessage,{strict:!0,strip:!1});y.length>0?y.forEach(C=>{console.error(C.path,C.message)}):h=this.newChat(m.chatMessage.name,m.chatMessage.message)}else if(m.playerPayload){for(const y of m.playerPayload){let C=e.PlayerPayloadSchema.validate(y,{strict:!0,strip:!1});if(C.length>0){C.forEach(H=>{console.error(H.path,H.message)});break}this.slots[y.slot]&&this.slots[y.slot]!==y&&(h=!0,y.playerRegion&&(!this.allPlayers.includes(y.name)&&!t(this,a,"f")[y.name]?(this.log&&console.log("New Player: "+y.name),_.push({playerJoined:y}),t(this,a,"f")[y.name]={joinedAt:Date.now(),cleared:!1}):this.slots[y.slot].playerRegion?_.filter(H=>H.playersSwapped).length===0&&(this.log&&console.log("Players swapped: ",y.name,this.slots[y.slot].name," Slots: ",y.slot,this.playerToSlot(y.name)),_.push({playersSwapped:{slots:[y.slot,this.playerToSlot(y.name)],players:[y.name,this.slots[y.slot].name]}})):(console.log("Player Moved: ",{from:this.playerToSlot(y.name),to:y.slot,name:y.name}),_.push({playerMoved:{from:this.playerToSlot(y.name),to:y.slot,name:y.name}}))))}for(const y of m.playerPayload)this.slots[y.slot]=y;for(const y of this.allPlayers)this.getAllPlayers(!0).includes(y)||(h=!0,this.log&&console.log("Player left: "+y),_.push({playerLeft:y}),delete t(this,a,"f")[y]);if(this.allPlayers=this.getAllPlayers(!0),this.nonSpecPlayers=this.getAllPlayers(!1),!((v=m.playerData)===null||v===void 0)&&v.extraData){let y=e.ExtraDataSchema.validate(m.playerData.extraData,{strict:!0});y.length>0?y.forEach(C=>{console.error(C.path,C.message)}):t(this,a,"f")[m.playerData.name]?(h=JSON.stringify(t(this,a,"f")[m.playerData.name].extra)!==JSON.stringify(m.playerData.extraData),t(this,a,"f")[m.playerData.name].extra=m.playerData.extraData):this.getAllPlayers(!0).includes(m.playerData.name)&&(this.log&&console.warn("Player Data Update for non-existent player, but they are in lobby: "+m.playerData.name),h=!0,t(this,a,"f")[m.playerData.name]={joinedAt:Date.now(),cleared:!1,extra:m.playerData.extraData})}}else if(m.playerData&&t(this,a,"f")[m.playerData.name]&&(m.playerData.extraData&&(t(this,a,"f")[m.playerData.name].extra=m.playerData.extraData,_.push(m),h=!0),m.playerData.data))for(const[y,C]of Object.entries(m.playerData.data))t(this,a,"f")[m.playerData.name][y]!==void 0&&(t(this,a,"f")[m.playerData.name][y]=C,h=!0);return{isUpdated:h,events:_}}getAllPlayerData(){return t(this,a,"f")}getAllPlayers(m=!1){return(m?Object.values(this.slots).filter(h=>h.playerRegion||h.isSelf):Object.values(this.slots).filter(h=>this.teamListLookup[h.team].type==="playerTeams"&&(h.playerRegion||h.isSelf))).map(h=>h.name)}newChat(m,v){let h=new Date().getTime();return Object.values(this.chatMessages).filter(_=>_.message===v&&Math.abs(_.time-h)<1e3).length===0?(this.chatMessages.push({name:m,message:v,time:h}),!0):!1}exportTeamStructure(m=!0){let v={};return Object.entries(this.teamListLookup).filter(_=>m?_[1].type==="playerTeams":!0).map(_=>[_[0],_[1].name]).forEach(([_,y])=>{let C=parseInt(_);v[y??C]=Object.values(this.slots).filter(H=>C===H.team).map(H=>{var g;return{name:H.slotStatus===2?H.name:H.slotStatus===1?"CLOSED":"OPEN",realPlayer:H.playerRegion!=="",slotStatus:H.slotStatus,slot:this.playerToSlot(H.name),data:(g=t(this,a,"f")[H.name])!==null&&g!==void 0?g:H.playerRegion!==""?{joinedAt:Date.now(),cleared:!1}:-1}})}),v}exportMin(){return{lobbyStatic:this.lobbyStatic,region:this.region,slots:this.slots,teamListLookup:this.teamListLookup,chatMessages:this.chatMessages,playerData:t(this,a,"f"),statsAvailable:this.statsAvailable}}getSelf(){var m,v;return(v=(m=Object.values(this.slots).find(h=>h.isSelf))===null||m===void 0?void 0:m.name)!==null&&v!==void 0?v:""}getSelfSlot(){var m,v;return(v=(m=Object.values(this.slots).find(h=>h.isSelf))===null||m===void 0?void 0:m.slot)!==null&&v!==void 0?v:!1}cleanPathName(m){return m.includes("/")?m.substring(m.lastIndexOf("/")+1):m}cleanMapName(m){let v=!0,h="";return m.match(/(HLW)/i)?h="HLW":m.match(/(pyro\s*td\s*league)/i)?h="Pyro TD":m.match(/(vampirism\s*fire)/i)?h="Vampirism Fire":m.match(/(footmen.*vs.*grunts)/i)?h="Footmen Vs Grunts":m.match(/Broken.*Alliances/i)?h="Broken Alliances":m.match(/Reforged.*Footmen/i)?h="Reforged Footmen Frenzy":m.match(/Direct.*Strike.*Reforged/i)?h="Direct Strike":m.match(/WW3.*Diplomacy/i)?h="WW3 Diplomacy":m.match(/Legion.*TD/i)?h="Legion TD":m.match(/Tree.*Tag/i)?h="Tree Tag":m.match(/Battleships.*Crossfire/i)?h="Battleships Crossfire":m.match(/Risk.*Europe/i)?h="Risk Europe":(v=!1,h=m.trim().replace(/\s*v?\.?(\d+\.)?(\*|\d+)\w*\s*$/gi,"")),{statsAvailable:v,mapName:h}}playerToSlot(m){let v=Object.values(this.slots).find(h=>h.name===m);return v?v.slot:(console.log(this.slots),console.warn("Player not found in slot list: "+m),-1)}searchPlayer(m){return this.allPlayers.filter(v=>v.match(new RegExp(m,"i")))}testTeam(m){if(m){if(m.match(/((computer)|(creeps)|(summoned))/i))return"otherTeams";if(m.match(/((host)|(spectator)|(observer)|(referee))/i))return"specTeams"}else return"playerTeams";return"playerTeams"}}e.MicroLobby=b,a=new WeakMap})(Tl);function _a(e){let t,n,l,a,o,c,r,u;const f=e[4].default,b=Wl(f,e,e[3],null);return{c(){t=d("div"),n=d("div"),l=d("button"),a=d("strong"),b&&b.c(),s(l,"type","button"),s(l,"class","coture w-full h-full"),l.disabled=e[0],s(n,"class","w-full h-full"),s(t,"class",o="generic-btn generic-btn-"+e[2]+(e[1]?"-active":"")+" "+(e[0]?"generic-btn-disabled":""))},m(p,m){M(p,t,m),i(t,n),i(n,l),i(l,a),b&&b.m(a,null),c=!0,r||(u=x(l,"click",e[5]),r=!0)},p(p,[m]){b&&b.p&&(!c||m&8)&&Bl(b,f,p,p[3],c?jl(f,p[3],m,null):ql(p[3]),null),(!c||m&1)&&(l.disabled=p[0]),(!c||m&7&&o!==(o="generic-btn generic-btn-"+p[2]+(p[1]?"-active":"")+" "+(p[0]?"generic-btn-disabled":"")))&&s(t,"class",o)},i(p){c||(O(b,p),c=!0)},o(p){D(b,p),c=!1},d(p){p&&E(t),b&&b.d(p),r=!1,u()}}}function ka(e,t,n){let{$$slots:l={},$$scope:a}=t,{disabled:o=!1}=t,{active:c=!1}=t,{color:r="blue"}=t;function u(f){rt.call(this,e,f)}return e.$$set=f=>{"disabled"in f&&n(0,o=f.disabled),"active"in f&&n(1,c=f.active),"color"in f&&n(2,r=f.color),"$$scope"in f&&n(3,a=f.$$scope)},[o,c,r,a,l,u]}class Ve extends Re{constructor(t){super(),Me(this,t,ka,_a,Ie,{disabled:0,active:1,color:2})}}function wa(e){let t;return{c(){t=d("div"),t.innerHTML='<div class="right-0"><button class="menu-button min-button"></button> <button class="menu-button max-button"></button> <button class="menu-button close-button"></button></div>',s(t,"class","w-100 fixed flex justify-end right-6"),nt(t,"z-index","10000")},m(n,l){M(n,t,l)},p:Ce,i:Ce,o:Ce,d(n){n&&E(t)}}}class $a extends Re{constructor(t){super(),Me(this,t,null,wa,Ie,{})}}const wt=[];function Wt(e,t=Ce){let n;const l=new Set;function a(r){if(Ie(e,r)&&(e=r,n)){const u=!wt.length;for(const f of l)f[1](),wt.push(f,e);if(u){for(let f=0;f<wt.length;f+=2)wt[f][0](wt[f+1]);wt.length=0}}}function o(r){a(r(e))}function c(r,u=Ce){const f=[r,u];return l.add(f),l.size===1&&(n=t(a,o)||Ce),r(e),()=>{l.delete(f),l.size===0&&n&&(n(),n=null)}}return{set:a,update:o,subscribe:c}}const Tt=Wt({battleTag:"",banReason:"",lastAction:"",updateStatus:""}),Ft=Wt({selfRegion:"",menuState:"OUT_OF_MENUS",selfBattleTag:"",inGame:!1,action:"openingWarcraft",openLobbyParams:void 0,connected:!1,gameVersion:""}),Xt=Wt({tableVersion:0,latestUploadedReplay:0,currentStep:"",currentStepProgress:0,currentIP:"",vpnActive:!1,ipCountry:"",ipIsEU:!1}),ot=Wt({autoHost:{type:"off",private:!1,sounds:!1,increment:!0,mapName:"",gameName:"",mapPath:"N/A",announceIsBot:!1,announceCustom:!1,announceRestingInterval:30,moveToSpec:!1,moveToTeam:"",rapidHostTimer:0,smartHostTimeout:0,voteStart:!1,voteStartPercent:60,voteStartTeamFill:!0,closeSlots:[],customAnnouncement:"",observers:"0",advancedMapOptions:!1,flagLockTeams:!0,flagPlaceTeamsTogether:!0,flagFullSharedUnitControl:!1,flagRandomRaces:!1,flagRandomHero:!1,settingVisibility:"0",leaveAlternate:!1,shufflePlayers:!1,regionChangeType:"off",regionChangeTimeEU:"11:00",regionChangeOpenVPNConfigEU:"",regionChangeTimeNA:"01:00",regionChangeOpenVPNConfigNA:"",whitelist:!1,minPlayers:0,delayStart:0,openVPNPath:""},obs:{enabled:!1,sceneSwitchType:"off",inGameHotkey:!1,outOfGameHotkey:!1,inGameWSScene:"",outOfGameWSScene:"",address:"",token:"",autoStream:!1,textSource:!1},elo:{type:"off",dbIP:"127.0.0.1",dbPort:3306,dbUser:"",dbPassword:"",dbName:"",dbTableName:"",dbSecondaryTable:"",dbPrimaryTableKey:"",dbSecondaryTableKey:"",dbUserColumn:"player",dbELOColumn:"rating",dbDefaultElo:500,dbRankColumn:"rank",dbLastChangeColumn:"",dbPlayedColumn:"played",dbWonColumn:"wins",dbSeasonColumn:"",dbCurrentSeason:"",sqlitePath:"",balanceTeams:!0,announce:!0,hideElo:!1,excludeHostFromSwap:!0,lookupName:"",privateKey:"",available:!1,wc3StatsVariant:"",handleReplays:!0,requireStats:!1,minGames:0,minWins:0,minRank:0,minRating:0},discord:{enabled:!1,token:"",announceChannel:"",chatChannel:"",useThreads:!0,adminChannel:"",logLevel:"error",bidirectionalChat:!1,sendInGameChat:!1,adminRole:"wc3mt",customName:""},client:{restartOnUpdate:!1,checkForUpdates:!0,performanceMode:!1,openWarcraftOnStart:!1,startOnLogin:!1,commAddress:"",language:"en",translateToLobby:!1,antiCrash:!0,alternateLaunch:!1,bnetPassword:"",bnetUsername:"",releaseChannel:"latest",debugAssistance:!1},streaming:{enabled:!1,seToken:"",sendTipsInGame:!1,sendTipsInLobby:!1,sendTipsInDiscord:!1,minInGameTip:1}});function Sa(e){let t,n,l,a;return{c(){t=d("div"),n=d("div"),l=d("a"),a=Z(e[0]),s(l,"class","coture"),s(l,"href",e[1]),s(n,"class","w-full h-full flex justify-center items-center cursor-pointer"),s(t,"class","generic-btn generic-btn-blue content-center")},m(o,c){M(o,t,c),i(t,n),i(n,l),i(l,a)},p(o,[c]){c&1&&Te(a,o[0]),c&2&&s(l,"href",o[1])},i:Ce,o:Ce,d(o){o&&E(t)}}}function Ca(e,t,n){let{label:l}=t,{href:a}=t;return e.$$set=o=>{"label"in o&&n(0,l=o.label),"href"in o&&n(1,a=o.href)},[l,a]}class yn extends Re{constructor(t){super(),Me(this,t,Ca,Sa,Ie,{label:0,href:1})}}function _n(e,t,n){const l=e.slice();return l[7]=t[n][0],l[8]=t[n][1],l}function kn(e,t,n){const l=e.slice();return l[11]=t[n],l}function wn(e,t,n){const l=e.slice();return l[14]=t[n][0],l[15]=t[n][1],l}function $n(e,t,n){const l=e.slice();return l[14]=t[n][0],l[15]=t[n][1],l}function Ta(e){let t;return{c(){t=Z("Open Logs")},m(n,l){M(n,t,l)},d(n){n&&E(t)}}}function Sn(e){let t,n=e[14]+"",l,a,o=(typeof e[15]!="object"?e[15]:JSON.stringify(e[15]))+"",c;return{c(){t=d("div"),l=Z(n),a=Z(": "),c=Z(o),s(t,"class","d-flex justify-content-center pt-1")},m(r,u){M(r,t,u),i(t,l),i(t,a),i(t,c)},p(r,u){u&8&&n!==(n=r[14]+"")&&Te(l,n),u&8&&o!==(o=(typeof r[15]!="object"?r[15]:JSON.stringify(r[15]))+"")&&Te(c,o)},d(r){r&&E(t)}}}function Cn(e){let t,n=e[14]+"",l,a,o=(typeof e[15]!="object"?e[15]:JSON.stringify(e[15]))+"",c,r;return{c(){t=d("div"),l=Z(n),a=Z(": "),c=Z(o),r=w(),s(t,"class","d-flex justify-content-center pt-1")},m(u,f){M(u,t,f),i(t,l),i(t,a),i(t,c),i(t,r)},p(u,f){f&16&&n!==(n=u[14]+"")&&Te(l,n),f&16&&o!==(o=(typeof u[15]!="object"?u[15]:JSON.stringify(u[15]))+"")&&Te(c,o)},d(u){u&&E(t)}}}function Ha(e){let t,n,l,a,o,c,r;return{c(){t=d("td"),n=w(),l=d("td"),a=w(),o=d("td"),c=w(),r=d("td"),s(t,"id","mapName"),s(l,"id","lobbyName"),s(o,"id","gameHost"),s(r,"id","eloAvailable")},m(u,f){M(u,t,f),M(u,n,f),M(u,l,f),M(u,a,f),M(u,o,f),M(u,c,f),M(u,r,f)},p:Ce,d(u){u&&(E(t),E(n),E(l),E(a),E(o),E(c),E(r))}}}function Aa(e){let t,n=e[1].lobbyStatic.mapData.mapName+"",l,a,o,c=e[1].lobbyStatic.lobbyName+"",r,u,f,b=e[1].lobbyStatic.playerHost+"",p,m,v,h=e[1].statsAvailable+"",_;return{c(){t=d("td"),l=Z(n),a=w(),o=d("td"),r=Z(c),u=w(),f=d("td"),p=Z(b),m=w(),v=d("td"),_=Z(h),s(t,"id","mapName"),s(o,"id","lobbyName"),s(f,"id","gameHost"),s(v,"id","eloAvailable")},m(y,C){M(y,t,C),i(t,l),M(y,a,C),M(y,o,C),i(o,r),M(y,u,C),M(y,f,C),i(f,p),M(y,m,C),M(y,v,C),i(v,_)},p(y,C){C&2&&n!==(n=y[1].lobbyStatic.mapData.mapName+"")&&Te(l,n),C&2&&c!==(c=y[1].lobbyStatic.lobbyName+"")&&Te(r,c),C&2&&b!==(b=y[1].lobbyStatic.playerHost+"")&&Te(p,b),C&2&&h!==(h=y[1].statsAvailable+"")&&Te(_,h)},d(y){y&&(E(t),E(a),E(o),E(u),E(f),E(m),E(v))}}}function Tn(e){let t,n,l=Ge(e[0]),a=[];for(let c=0;c<l.length;c+=1)a[c]=Nn(_n(e,l,c));const o=c=>D(a[c],1,1,()=>{a[c]=null});return{c(){for(let c=0;c<a.length;c+=1)a[c].c();t=bt()},m(c,r){for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(c,r);M(c,t,r),n=!0},p(c,r){if(r&5){l=Ge(c[0]);let u;for(u=0;u<l.length;u+=1){const f=_n(c,l,u);a[u]?(a[u].p(f,r),O(a[u],1)):(a[u]=Nn(f),a[u].c(),O(a[u],1),a[u].m(t.parentNode,t))}for(Ne(),u=l.length;u<a.length;u+=1)o(u);Pe()}},i(c){if(!n){for(let r=0;r<l.length;r+=1)O(a[r]);n=!0}},o(c){a=a.filter(Boolean);for(let r=0;r<a.length;r+=1)D(a[r]);n=!1},d(c){c&&E(t),dt(a,c)}}}function Hn(e){let t,n;function l(){return e[6](e[11])}return t=new Ve({props:{$$slots:{default:[Na]},$$scope:{ctx:e}}}),t.$on("click",l),{c(){V(t.$$.fragment)},m(a,o){B(t,a,o),n=!0},p(a,o){e=a;const c={};o&1048576&&(c.$$scope={dirty:o,ctx:e}),t.$set(c)},i(a){n||(O(t.$$.fragment,a),n=!0)},o(a){D(t.$$.fragment,a),n=!1},d(a){q(t,a)}}}function Na(e){let t;return{c(){t=Z("Ban")},m(n,l){M(n,t,l)},d(n){n&&E(t)}}}function An(e){let t,n,l,a,o=e[11].name+"",c,r,u,f=(e[11].data.joinedAt?new Date(e[11].data.joinedAt).toLocaleString(void 0,{timeZone:"UTC",minute:"2-digit",hour:"2-digit"}):"")+"",b,p,m,v=(e[11].data.extra&&e[11].data.extra.rating>-1?[e[11].data.extra.rating,e[11].data.extra.rank,e[11].data.extra.played,e[11].data.extra.wins,e[11].data.extra.losses].join(" / "):"N/A")+"",h,_,y,C=e[11].slotStatus===2&&e[11].realPlayer&&Hn(e);return{c(){t=d("tr"),n=d("td"),C&&C.c(),l=w(),a=d("td"),c=Z(o),r=d("br"),u=w(),b=Z(f),p=w(),m=d("td"),h=Z(v),_=w()},m(H,g){M(H,t,g),i(t,n),C&&C.m(n,null),i(t,l),i(t,a),i(a,c),i(a,r),i(a,u),i(a,b),i(t,p),i(t,m),i(m,h),i(t,_),y=!0},p(H,g){H[11].slotStatus===2&&H[11].realPlayer?C?(C.p(H,g),g&1&&O(C,1)):(C=Hn(H),C.c(),O(C,1),C.m(n,null)):C&&(Ne(),D(C,1,1,()=>{C=null}),Pe()),(!y||g&1)&&o!==(o=H[11].name+"")&&Te(c,o),(!y||g&1)&&f!==(f=(H[11].data.joinedAt?new Date(H[11].data.joinedAt).toLocaleString(void 0,{timeZone:"UTC",minute:"2-digit",hour:"2-digit"}):"")+"")&&Te(b,f),(!y||g&1)&&v!==(v=(H[11].data.extra&&H[11].data.extra.rating>-1?[H[11].data.extra.rating,H[11].data.extra.rank,H[11].data.extra.played,H[11].data.extra.wins,H[11].data.extra.losses].join(" / "):"N/A")+"")&&Te(h,v)},i(H){y||(O(C),y=!0)},o(H){D(C),y=!1},d(H){H&&E(t),C&&C.d()}}}function Nn(e){let t,n,l,a,o,c,r=e[7]+"",u,f,b,p,m,v,h,_,y=Ge(e[8]),C=[];for(let g=0;g<y.length;g+=1)C[g]=An(kn(e,y,g));const H=g=>D(C[g],1,1,()=>{C[g]=null});return{c(){t=d("table"),n=d("thead"),l=d("tr"),a=d("th"),a.textContent="Actions",o=w(),c=d("th"),u=Z(r),f=Z(" Players"),b=w(),p=d("th"),p.textContent="ELO/Rank/Games/Wins/Losses",m=w(),v=d("tbody");for(let g=0;g<C.length;g+=1)C[g].c();h=w(),s(t,"class","table w-full")},m(g,$){M(g,t,$),i(t,n),i(n,l),i(l,a),i(l,o),i(l,c),i(c,u),i(c,f),i(l,b),i(l,p),i(t,m),i(t,v);for(let S=0;S<C.length;S+=1)C[S]&&C[S].m(v,null);i(t,h),_=!0},p(g,$){if((!_||$&1)&&r!==(r=g[7]+"")&&Te(u,r),$&5){y=Ge(g[8]);let S;for(S=0;S<y.length;S+=1){const N=kn(g,y,S);C[S]?(C[S].p(N,$),O(C[S],1)):(C[S]=An(N),C[S].c(),O(C[S],1),C[S].m(v,null))}for(Ne(),S=y.length;S<C.length;S+=1)H(S);Pe()}},i(g){if(!_){for(let $=0;$<y.length;$+=1)O(C[$]);_=!0}},o(g){C=C.filter(Boolean);for(let $=0;$<C.length;$+=1)D(C[$]);_=!1},d(g){g&&E(t),dt(C,g)}}}function Pa(e){let t,n,l,a=e[2].updateStatus+"",o,c,r,u,f,b,p,m,v,h,_,y,C,H,g,$,S,N,T,k,L,A,P=e[4].currentStep+"",R,U,J,G,F,Q,Y,te,se,me,ue,ye,ve,_e;b=new Ve({props:{$$slots:{default:[Ta]},$$scope:{ctx:e}}}),b.$on("click",e[5]),v=new yn({props:{label:"Visit The Hub",href:"https://war.trenchguns.com"}}),y=new yn({props:{label:"Discord",href:"https://discord.gg/yNAyJyE9V8"}});let ee=Ge(Object.entries(e[3])),ae=[];for(let z=0;z<ee.length;z+=1)ae[z]=Sn($n(e,ee,z));let I=Ge(Object.entries(e[4])),j=[];for(let z=0;z<I.length;z+=1)j[z]=Cn(wn(e,I,z));function ke(z,he){return z[1]?Aa:Ha}let be=ke(e),ce=be(e),re=e[0]&&Tn(e);return{c(){t=d("div"),n=d("div"),l=d("span"),o=Z(a),c=w(),r=d("div"),u=d("div"),f=d("div"),V(b.$$.fragment),p=w(),m=d("div"),V(v.$$.fragment),h=w(),_=d("div"),V(y.$$.fragment),C=w(),H=d("div"),g=d("details"),$=d("summary"),$.textContent="Advanced Status",S=w();for(let z=0;z<ae.length;z+=1)ae[z].c();N=w();for(let z=0;z<j.length;z+=1)j[z].c();T=w(),k=d("h4"),L=Z("Current Step: "),A=d("span"),R=Z(P),U=w(),J=d("div"),G=d("div"),Q=w(),Y=d("table"),te=d("thead"),te.innerHTML="<tr><th>Map Name</th> <th>Game Name</th> <th>Game Host</th> <th>ELO Available</th></tr>",se=w(),me=d("tbody"),ue=d("tr"),ce.c(),ye=w(),ve=d("div"),re&&re.c(),s(l,"class","badge bg-primary"),s(l,"id","mainStatus"),s(n,"class","d-flex justify-content-center p-2"),s(f,"class","my-auto"),s(m,"class","my-auto"),s(_,"class","my-auto"),s(u,"class","flex justify-center"),s(r,"class","content-center"),s($,"class","bg-secondary rounded-2 p-2"),s(g,"class","bg-primary rounded-2 m-1"),s(H,"class","d-flex justify-content-center pt-1"),s(G,"id","progressBar"),s(G,"class","progress-bar progress-bar-striped progress-bar-animated"),s(G,"role","progressbar"),s(G,"aria-valuenow",F=e[4].currentStepProgress),nt(G,"width",e[4].currentStepProgress.toString()+"%"),s(J,"class","progress"),s(Y,"class","table w-full"),s(ve,"class","p-2"),s(ve,"id","tablesDiv"),s(t,"class","container-lg h-100")},m(z,he){M(z,t,he),i(t,n),i(n,l),i(l,o),i(t,c),i(t,r),i(r,u),i(u,f),B(b,f,null),i(u,p),i(u,m),B(v,m,null),i(u,h),i(u,_),B(y,_,null),i(t,C),i(t,H),i(H,g),i(g,$),i(g,S);for(let de=0;de<ae.length;de+=1)ae[de]&&ae[de].m(g,null);i(g,N);for(let de=0;de<j.length;de+=1)j[de]&&j[de].m(g,null);i(t,T),i(t,k),i(k,L),i(k,A),i(k,R),i(t,U),i(t,J),i(J,G),i(t,Q),i(t,Y),i(Y,te),i(Y,se),i(Y,me),i(me,ue),ce.m(ue,null),i(t,ye),i(t,ve),re&&re.m(ve,null),_e=!0},p(z,[he]){(!_e||he&4)&&a!==(a=z[2].updateStatus+"")&&Te(o,a);const de={};if(he&1048576&&(de.$$scope={dirty:he,ctx:z}),b.$set(de),he&8){ee=Ge(Object.entries(z[3]));let X;for(X=0;X<ee.length;X+=1){const K=$n(z,ee,X);ae[X]?ae[X].p(K,he):(ae[X]=Sn(K),ae[X].c(),ae[X].m(g,N))}for(;X<ae.length;X+=1)ae[X].d(1);ae.length=ee.length}if(he&16){I=Ge(Object.entries(z[4]));let X;for(X=0;X<I.length;X+=1){const K=wn(z,I,X);j[X]?j[X].p(K,he):(j[X]=Cn(K),j[X].c(),j[X].m(g,null))}for(;X<j.length;X+=1)j[X].d(1);j.length=I.length}(!_e||he&16)&&P!==(P=z[4].currentStep+"")&&Te(R,P),(!_e||he&16&&F!==(F=z[4].currentStepProgress))&&s(G,"aria-valuenow",F),(!_e||he&16)&&nt(G,"width",z[4].currentStepProgress.toString()+"%"),be===(be=ke(z))&&ce?ce.p(z,he):(ce.d(1),ce=be(z),ce&&(ce.c(),ce.m(ue,null))),z[0]?re?(re.p(z,he),he&1&&O(re,1)):(re=Tn(z),re.c(),O(re,1),re.m(ve,null)):re&&(Ne(),D(re,1,1,()=>{re=null}),Pe())},i(z){_e||(O(b.$$.fragment,z),O(v.$$.fragment,z),O(y.$$.fragment,z),O(re),_e=!0)},o(z){D(b.$$.fragment,z),D(v.$$.fragment,z),D(y.$$.fragment,z),D(re),_e=!1},d(z){z&&E(t),q(b),q(v),q(y),dt(ae,z),dt(j,z),ce.d(),re&&re.d()}}}function Pn(e){window.api.send("toMain",e)}function Oa(e,t,n){let l,a,o;lt(e,Tt,b=>n(2,l=b)),lt(e,Ft,b=>n(3,a=b)),lt(e,Xt,b=>n(4,o=b));let{structuredTeamData:c}=t,{lobby:r}=t;const u=()=>Pn({messageType:"openLogs"}),f=b=>Pn({messageType:"addWhiteBan",addWhiteBan:{type:"banList",player:b.name,reason:l.banReason}});return e.$$set=b=>{"structuredTeamData"in b&&n(0,c=b.structuredTeamData),"lobby"in b&&n(1,r=b.lobby)},[c,r,l,a,o,u,f]}class La extends Re{constructor(t){super(),Me(this,t,Oa,Pa,Ie,{structuredTeamData:0,lobby:1})}}const At="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAgCAYAAACVU7GwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAaESURBVFhHvVf5U1NXFP7eS0JIIAkSQYKAhMUWRW2ltojsKKuyqLWDtI6OY/sPWavWcfyhy7gAjlYRqwKyWB3bWndFlF2WAAlLICHJ7XmPQI0JSbCj30yWeXc5551zz3e+C09Iz/iUCb+ZWSmsuDBd/P8hwTl/F1D5VSELCg7E2KgRyuAghGrUMIwY8fOvdW5z3xdcDOXnfc6S18TDYrdDJpWC4zjYZm0ICJCht28Yp8/W+3Qsj/ZIiI+GwWBEdc31d3qRhUXl5TkscoWWnJGIT2dtNthsDkhlUgSQgxOT0+h42YPGpj+9Gjq4v5SFaFSw2uwAY+jtH0Lt+YYlOccLXzt35jF9TARkEgkkUh42itSRo9Xc8RO1XFfna9rbAY1KCf2qSHGRJ6RnbGSHDpYzlSqIXsgOnqIsDwxA2PIQ5wz/wecXbGZyOY+BQQNmKVXGsUl8/8O5hTe7VNfCPW3vgSxACoVSjrzczzwe/JioMKhVwXBQdBgc9ITBbJ4Rnavcs21JxcLlkpFgRQBFSEIRkeD8hUaPoS4s2MLi9ZEwjU+hq/c1eJ5HU6NrKvdVFbHwcC2MpgnMzFigDJTDYrVhZHQUpolpNDff8yuN4qTszA1MKpPh2vW7Xhdt25bKPlmXCMOoiYoA6OjoR9NN1zUF+ZtZ/dVb4rOSojQWEx2BYcMoFYscIyMm1P/+h1cbAnxOeBt7dm9lwtmaoQh097z2eYi/3lvEdCvCKMJC9GbQ8aofrW3/eF0jHvSl4My5a1xn94CYPp0uDOVl2V7Py0+/1HF9AwY6X1OwUwGtjFzuHFkcS47UPPbs2sZi9TqYp2bwqqsPly63et1ra24KpVJHFiWYMk+jh3ivrfVvj2ve2SkBuypyWSIR5ejYOLH+GEXDiitX2xbd88C+EqbWaIj/bFTpVjxt78bNpr/c5vvlVEZmCtuQHEe0MYpz1a4sXV6awxISomC1WMmYHV2UWoFGnMNuOLBvO1MoFeTULFW7HSdOXnSb6/NMZRApro6PQlCQAhHE+JlZrjx1/kIDNzAwCJ6IVyDLCF2oc8Qz2l90wzxppvPlgEKhQGVlgduZ9OnU6oRoaEM1mKQ2IyXD+lh3VjeaxmF32OnNGRTkmDe0tN3nhokaVNTshVYm7FlABJ6ds4nlbU1laVtS+n06NUZEaKZSFhr04pA4xzko6e3T0tZ7rUiBgHlqZxQsIn4Oa1fHITlJj3X0SU352HekampucF1dvWSPmgeZkkl45Ga7pvC3S62cmSpKSl1hasqCNoqGc8gj1Cr5XOSJVkJD1JgUKrizn5r3MKamZ/yvvoryDLYqOoo6GmCnHnn46Fm3td8eqmDHf6z1umcVkWmQMlB0atkyNZjDgSPH/uu1Avx2SsB3ZFSpCKR/vNhsj52oXtL63bvmuoHFahWdmaWu8OjpczS3PHTZZ0mMfoyiwNESYQehGndVbPV6dt5E2Y4s0llBuP/oGQaHDAgOVmKIuO1thwQsySkB9x60i/JEUKW6CC2Ki3xr+NLtmeyjxBiSPzLU19/mTp+5xt25+wQ1tZ775pKdutFwh3vw8KVYkQGBUuplYSSBv1jUsbId2WxNUqzYWgykFuZx/cbtRVPPCXnWajV49KQTLc3epe6byKYK1MfqIJfLxah1dg2grq7ZZf0OSpk+Rkd6ykhcZqL+OCdpfIEPDVURkSmJJFcii65UzuduyM7e5DLW2HiX63zVB8uMldQlj1Ux4c6ROewmiR1PDbujs49uQlc4fx0SwAu3lcePX9CVyoQ1SXHISN/o5lhFRR5LXqtHSXGmy1gDNVObnZyiu4adLhlfUtTziZWrKkmBhoVQusZgMpqcs/0Hf/LURe7ylVtCBhCsViIxIcY5NIeyshwWEb6MSFOKqJXuWmhw0CS2ismJSShJw8fFRSKU+MdimSUylSI8TOuc6T8WQrr/mxKmXR4qamuhJ42bJkVjanWQ2DwFAxzPcPiIO2kKFRgXp6M5MpHVh4YNJH8D4LAxnDx1we+0zWNhQU7ORhZLejowUIlpixkatUo0Mj01DcZzRHR2vHhB9763NPk8iovTmYKqUU73xH5SmtTc0NjgXfMvBpdFWRnrWVJSAvrpAilAuJkoSfsIfe/5s24ScP4f1v8DF55qar7PDQ6NQasNoTRaYSSxL+jqvt7BD+aQAI+GqvYWilfvMeMEBgaGiTD956/3ip2lmay4MHVR3np/AP4FeIqsKvWyVa4AAAAASUVORK5CYII=";function Da(e){let t,n,l,a,o,c,r,u,f,b,p,m;return{c(){t=d("span"),n=d("label"),l=d("input"),c=w(),r=d("label"),f=w(),b=Z(e[1]),s(l,"type","checkbox"),s(l,"id",a="closeSlot"+e[1]),s(l,"data-key","closeSlots"),s(l,"data-slot",o=parseInt(e[1])-1),s(l,"data-setting","autoHost"),s(r,"for",u="closeSlot"+e[1]),s(n,"class","flex cursor-pointer"),s(t,"class","flex"),it(t,"text-active-text",e[0])},m(v,h){M(v,t,h),i(t,n),i(n,l),l.checked=e[0],i(n,c),i(n,r),i(n,f),i(n,b),p||(m=[x(l,"change",e[2]),x(l,"change",e[3])],p=!0)},p(v,[h]){h&2&&a!==(a="closeSlot"+v[1])&&s(l,"id",a),h&2&&o!==(o=parseInt(v[1])-1)&&s(l,"data-slot",o),h&1&&(l.checked=v[0]),h&2&&u!==(u="closeSlot"+v[1])&&s(r,"for",u),h&2&&Te(b,v[1]),h&1&&it(t,"text-active-text",v[0])},i:Ce,o:Ce,d(v){v&&E(t),p=!1,Oe(m)}}}function Ia(e,t,n){let{number:l="1"}=t,{checked:a=!1}=t;function o(r){rt.call(this,e,r)}function c(){a=this.checked,n(0,a)}return e.$$set=r=>{"number"in r&&n(1,l=r.number),"checked"in r&&n(0,a=r.checked)},[a,l,o,c]}class Ol extends Re{constructor(t){super(),Me(this,t,Ia,Da,Ie,{number:1,checked:0})}}const Ea=e=>e.replace(/-_$/g,"").replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z])([A-Z])(?=[a-z])/g,"$1-$2").toLowerCase(),Ma=(e,t)=>{const l=e.getBoundingClientRect().width+2,a=window.getComputedStyle(e),o=parseInt(a.getPropertyValue("padding-left"),10),c=parseInt(a.getPropertyValue("padding-right"),10),r=o+c,u=l-r;return Math.round(Math.min(t,u||t))},Ra=e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},Fa={left:"right",right:"left",top:"bottom",bottom:"top"};function On(e){let t,n;return{c(){t=new zl(!1),n=bt(),t.a=n},m(l,a){t.m(e[1],l,a),M(l,n,a)},p(l,a){a&2&&t.p(l[1])},d(l){l&&(E(n),t.d())}}}function Ua(e){let t,n,l=!e[10]&&On(e);return{c(){t=d("div"),l&&l.c(),s(t,"class",n="tooltip animation-"+e[8]+" "+e[0]+" "+e[4]+" svelte-1gb9ply"),nt(t,"min-width",e[7]+"px"),nt(t,"max-width",e[3]+"px"),nt(t,"text-align",e[2]),it(t,"show",e[9]),it(t,"arrowless",!e[5])},m(a,o){M(a,t,o),l&&l.m(t,null),e[14](t)},p(a,[o]){a[10]?l&&(l.d(1),l=null):l?l.p(a,o):(l=On(a),l.c(),l.m(t,null)),o&273&&n!==(n="tooltip animation-"+a[8]+" "+a[0]+" "+a[4]+" svelte-1gb9ply")&&s(t,"class",n),o&128&&nt(t,"min-width",a[7]+"px"),o&8&&nt(t,"max-width",a[3]+"px"),o&4&&nt(t,"text-align",a[2]),o&785&&it(t,"show",a[9]),o&305&&it(t,"arrowless",!a[5])},i:Ce,o:Ce,d(a){a&&E(t),l&&l.d(),e[14](null)}}}function Wa(e,t,n){let l,{content:a=""}=t,{align:o="left"}=t,{position:c="top"}=t,{maxWidth:r=200}=t,{style:u=null}=t,{theme:f=""}=t,{animation:b=""}=t,{arrow:p=!0}=t,{autoPosition:m=!1}=t,v=null,h=0,_=null,y=null,C=!1;Cl(()=>{const g=b?200:0;if(v!==null&&(l&&!_&&(_=new a.component({target:v,props:a.props})),n(7,h=Ma(v,r)),u&&typeof u=="object"))for(let $ in u){const S=Ea($),N=u[$];v.style.setProperty(`--tooltip-${S}`,N)}m&&!Ra(v)&&n(0,c=Fa[c]),b&&n(8,y=b),setTimeout(()=>n(9,C=!0),g)}),Jl(()=>{_&&(_.$destroy(),_=null)});function H(g){Lt[g?"unshift":"push"](()=>{v=g,n(6,v)})}return e.$$set=g=>{"content"in g&&n(1,a=g.content),"align"in g&&n(2,o=g.align),"position"in g&&n(0,c=g.position),"maxWidth"in g&&n(3,r=g.maxWidth),"style"in g&&n(11,u=g.style),"theme"in g&&n(4,f=g.theme),"animation"in g&&n(12,b=g.animation),"arrow"in g&&n(5,p=g.arrow),"autoPosition"in g&&n(13,m=g.autoPosition)},e.$$.update=()=>{e.$$.dirty&2&&n(10,l=typeof a=="object")},[c,a,o,r,f,p,v,h,y,C,l,u,b,m,H]}class ja extends Re{constructor(t){super(),Me(this,t,Wa,Ua,Ie,{content:1,align:2,position:0,maxWidth:3,style:11,theme:4,animation:12,arrow:5,autoPosition:13})}}const Ba=ja,qa=(e,t)=>{let n=null,l=e.getAttribute("title");l&&(e.removeAttribute("title"),t={content:l,...t});const a=()=>{n||(n=new Ba({target:e,props:t}))},o=()=>{n&&(n.$destroy(),n=null)};return e.addEventListener("mouseenter",a),e.addEventListener("mouseleave",o),e.style.position="relative",{destroy(){e.removeEventListener("mouseenter",a),e.removeEventListener("mouseleave",o),l&&e.setAttribute("title",l)}}};function Va(e){let t,n,l,a,o,c,r,u,f;return{c(){t=d("span"),n=d("label"),l=d("input"),a=w(),o=d("label"),c=w(),r=Z(e[2]),s(l,"type","checkbox"),s(l,"id",e[1]),s(o,"class","cursor-pointer"),s(o,"for",e[1]),s(n,"class","cursor-pointer flex"),s(t,"class","flex"),it(t,"text-inactive-text",!e[0])},m(b,p){M(b,t,p),i(t,n),i(n,l),l.checked=e[0],i(n,a),i(n,o),i(n,c),i(n,r),u||(f=[x(l,"change",e[7]),x(l,"change",e[5])],u=!0)},p(b,p){p&2&&s(l,"id",b[1]),p&1&&(l.checked=b[0]),p&2&&s(o,"for",b[1]),p&4&&Te(r,b[2]),p&1&&it(t,"text-inactive-text",!b[0])},d(b){b&&E(t),u=!1,Oe(f)}}}function Ga(e){let t,n,l,a,o,c,r,u,f,b;return{c(){t=d("span"),n=d("label"),l=d("input"),a=w(),o=d("label"),c=w(),r=Z(e[2]),s(l,"type","checkbox"),s(l,"id",e[1]),s(o,"class","cursor-pointer"),s(o,"for",e[1]),s(n,"class","cursor-pointer flex"),s(t,"class","flex"),s(t,"title",e[3]),it(t,"text-inactive-text",!e[0])},m(p,m){M(p,t,m),i(t,n),i(n,l),l.checked=e[0],i(n,a),i(n,o),i(n,c),i(n,r),f||(b=[x(l,"change",e[6]),x(l,"change",e[4]),Vl(u=qa.call(null,t,e[0]))],f=!0)},p(p,m){m&2&&s(l,"id",p[1]),m&1&&(l.checked=p[0]),m&2&&s(o,"for",p[1]),m&4&&Te(r,p[2]),m&8&&s(t,"title",p[3]),u&&W(u.update)&&m&1&&u.update.call(null,p[0]),m&1&&it(t,"text-inactive-text",!p[0])},d(p){p&&E(t),f=!1,Oe(b)}}}function Ka(e){let t;function n(o,c){return o[3]?Ga:Va}let l=n(e),a=l(e);return{c(){a.c(),t=bt()},m(o,c){a.m(o,c),M(o,t,c)},p(o,[c]){l===(l=n(o))&&a?a.p(o,c):(a.d(1),a=l(o),a&&(a.c(),a.m(t.parentNode,t)))},i:Ce,o:Ce,d(o){o&&E(t),a.d(o)}}}function za(e,t,n){let{key:l}=t,{checked:a=!1}=t,{frontFacingName:o=l}=t,{tooltipContent:c=""}=t;function r(p){rt.call(this,e,p)}function u(p){rt.call(this,e,p)}function f(){a=this.checked,n(0,a)}function b(){a=this.checked,n(0,a)}return e.$$set=p=>{"key"in p&&n(1,l=p.key),"checked"in p&&n(0,a=p.checked),"frontFacingName"in p&&n(2,o=p.frontFacingName),"tooltipContent"in p&&n(3,c=p.tooltipContent)},[a,l,o,c,r,u,f,b]}class ge extends Re{constructor(t){super(),Me(this,t,za,Ka,Ie,{key:1,checked:0,frontFacingName:2,tooltipContent:3})}}function Ja(e,t){let n=new Date().getUTCHours()*100+new Date().getUTCMinutes(),l={eu:parseInt(e.replace(":","")),us:parseInt(t.replace(":",""))};return l.us>l.eu?n>l.eu&&n<l.us?"eu":"us":n>l.us&&n<l.eu?"us":"eu"}function Ya(e){let t;try{t=new URL(e)}catch{return!1}return!0}function Qa(e){let t,n,l;return{c(){t=d("input"),s(t,"type",e[0]),s(t,"id",e[1]),s(t,"placeholder",e[4]),t.value=e[2],s(t,"maxlength",e[5]),s(t,"minlength",e[6])},m(a,o){M(a,t,o),n||(l=[x(t,"change",e[9]),x(t,"keydown",e[10])],n=!0)},p(a,o){o&1&&s(t,"type",a[0]),o&2&&s(t,"id",a[1]),o&16&&s(t,"placeholder",a[4]),o&4&&t.value!==a[2]&&(t.value=a[2]),o&32&&s(t,"maxlength",a[5]),o&64&&s(t,"minlength",a[6])},d(a){a&&E(t),n=!1,Oe(l)}}}function Za(e){let t,n,l;return{c(){t=d("input"),s(t,"type",e[0]),s(t,"id",e[1]),s(t,"placeholder",e[4]),t.value=e[2],s(t,"max",e[5]),s(t,"min",e[6])},m(a,o){M(a,t,o),n||(l=[x(t,"change",e[7]),x(t,"keydown",e[8])],n=!0)},p(a,o){o&1&&s(t,"type",a[0]),o&2&&s(t,"id",a[1]),o&16&&s(t,"placeholder",a[4]),o&4&&t.value!==a[2]&&(t.value=a[2]),o&32&&s(t,"max",a[5]),o&64&&s(t,"min",a[6])},d(a){a&&E(t),n=!1,Oe(l)}}}function Xa(e){let t,n,l,a,o,c,r;function u(p,m){return p[0]==="number"?Za:Qa}let f=u(e),b=f(e);return{c(){t=d("table"),n=d("tr"),l=d("td"),a=d("label"),o=Z(e[3]),c=w(),r=d("td"),b.c(),s(a,"for",e[1]),s(t,"class","table w-100")},m(p,m){M(p,t,m),i(t,n),i(n,l),i(l,a),i(a,o),i(n,c),i(n,r),b.m(r,null)},p(p,[m]){m&8&&Te(o,p[3]),m&2&&s(a,"for",p[1]),f===(f=u(p))&&b?b.p(p,m):(b.d(1),b=f(p),b&&(b.c(),b.m(r,null)))},i:Ce,o:Ce,d(p){p&&E(t),b.d()}}}function xa(e,t,n){let{key:l}=t,{value:a}=t,{frontFacingName:o=l}=t,{placeholder:c=o}=t,{maxlength:r=255}=t,{minlength:u=0}=t,{type:f="text"}=t;(l.toLowerCase().includes("password")||l.toLowerCase().includes("token"))&&(f="password");function b(h){rt.call(this,e,h)}function p(h){rt.call(this,e,h)}function m(h){rt.call(this,e,h)}function v(h){rt.call(this,e,h)}return e.$$set=h=>{"key"in h&&n(1,l=h.key),"value"in h&&n(2,a=h.value),"frontFacingName"in h&&n(3,o=h.frontFacingName),"placeholder"in h&&n(4,c=h.placeholder),"maxlength"in h&&n(5,r=h.maxlength),"minlength"in h&&n(6,u=h.minlength),"type"in h&&n(0,f=h.type)},[f,l,a,o,c,r,u,b,p,m,v]}class Ee extends Re{constructor(t){super(),Me(this,t,xa,Xa,Ie,{key:1,value:2,frontFacingName:3,placeholder:4,maxlength:5,minlength:6,type:0})}}function Ln(e,t,n){const l=e.slice();return l[15]=t[n],l}function Dn(e,t,n){const l=e.slice();return l[15]=t[n],l}function In(e){let t,n,l,a,o,c,r,u,f,b,p,m,v,h,_=["rapidHost","smartHost"].includes(e[4].autoHost.type),y,C,H,g,$,S,N,T,k,L,A,P=e[4].autoHost.mapPath+"",R,U,J,G,F,Q,Y,te,se,me,ue=["rapidHost","smartHost"].includes(e[4].autoHost.type),ye,ve,_e,ee,ae,I,j,ke,be,ce,re=e[4].autoHost.voteStart&&["rapidHost","smartHost"].includes(e[4].autoHost.type),z,he,de=e[4].autoHost.announceIsBot&&["rapidHost","smartHost"].includes(e[4].autoHost.type)||e[4].autoHost.announceCustom,X,K,le=e[4].autoHost.announceIsBot&&["rapidHost","smartHost"].includes(e[4].autoHost.type)||e[4].autoHost.announceCustom,ie,ne,pe,He,$e,Se,xe,Ke,ut,at,et,ze,Nt,mt,ln,an,ft,jt,on;o=new ge({props:{key:"private",frontFacingName:"Private Lobbies",checked:e[4].autoHost.private,tooltipContent:"Will host private lobbies."}}),o.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),r=new ge({props:{key:"increment",frontFacingName:"Incremental Lobbies",checked:e[4].autoHost.increment,tooltipContent:"Will append the current game number to end of the lobby name."}}),r.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),f=new ge({props:{frontFacingName:"Sound Notifications",key:"sounds",checked:e[4].autoHost.sounds,tooltipContent:"Will play sounds when a game is full, when a game loads in, and when a game ends."}}),f.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),p=new ge({props:{frontFacingName:"Move to Spec/Host/Team",key:"moveToSpec",checked:e[4].autoHost.moveToSpec,tooltipContent:"Will move the local user to a spectator slot upon joining the lobby."}}),p.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),v=new ge({props:{frontFacingName:"Custom Announcement",key:"announceCustom",checked:e[4].autoHost.announceCustom,tooltipContent:"Will announce custom text to the lobby."}}),v.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)});let Fe=_&&En(e);C=new ge({props:{key:"advancedMapOptions",frontFacingName:"Advanced Map Options",checked:e[4].autoHost.advancedMapOptions,tooltipContent:"Will show advanced map options."}}),C.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),g=new ge({props:{key:"whitelist",frontFacingName:"Whitelist",checked:e[4].autoHost.whitelist,tooltipContent:"Only allow certain players to join."}}),g.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)});let Ue=e[4].autoHost.advancedMapOptions&&Un(e);F=new Ee({props:{type:"text",key:"gameName",frontFacingName:"Game Name",value:e[4].autoHost.gameName,maxlength:27,minlength:3}}),F.$on("keydown",e[9]),F.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),se=new Ee({props:{type:"number",key:"delayStart",frontFacingName:"Delay Start",minlength:0,maxlength:30,value:e[4].autoHost.delayStart}}),se.$on("change",function(){W(e[1])&&e[1].apply(this,arguments)});let We=ue&&Wn(e),je=e[4].autoHost.moveToSpec&&jn(e),pt=Ge(Array.from(Array(12).keys())),Le=[];for(let fe=0;fe<pt.length;fe+=1)Le[fe]=Bn(Dn(e,pt,fe));const Ll=fe=>D(Le[fe],1,1,()=>{Le[fe]=null});let ht=Ge(Array.from(Array(12).keys())),De=[];for(let fe=0;fe<ht.length;fe+=1)De[fe]=qn(Ln(e,ht,fe));const Dl=fe=>D(De[fe],1,1,()=>{De[fe]=null});let Be=re&&Vn(e),Je=e[4].autoHost.type==="rapidHost"&&Gn(e),Ye=de&&Kn(e),Qe=e[4].autoHost.announceCustom&&Yn(e),Ze=le&&Qn(e),Xe=e[4].autoHost.regionChangeType!=="off"&&Zn(e);return{c(){t=d("div"),n=d("div"),l=d("div"),a=d("div"),V(o.$$.fragment),c=w(),V(r.$$.fragment),u=w(),V(f.$$.fragment),b=w(),V(p.$$.fragment),m=w(),V(v.$$.fragment),h=w(),Fe&&Fe.c(),y=w(),V(C.$$.fragment),H=w(),V(g.$$.fragment),$=w(),Ue&&Ue.c(),S=w(),N=d("div"),T=d("div"),k=d("button"),k.textContent="Current Map:",L=w(),A=d("span"),R=Z(P),U=w(),J=d("div"),G=d("div"),V(F.$$.fragment),Q=w(),Y=d("div"),te=d("div"),V(se.$$.fragment),me=w(),We&&We.c(),ye=w(),je&&je.c(),ve=w(),_e=d("div"),ee=d("div"),ae=Z(`Close Slots:\r
          `),I=d("div");for(let fe=0;fe<Le.length;fe+=1)Le[fe].c();j=w(),ke=d("div");for(let fe=0;fe<De.length;fe+=1)De[fe].c();be=w(),ce=d("div"),Be&&Be.c(),z=w(),Je&&Je.c(),he=w(),Ye&&Ye.c(),X=w(),Qe&&Qe.c(),K=w(),Ze&&Ze.c(),ie=w(),ne=d("div"),pe=d("div"),He=d("label"),He.textContent="Change Region",$e=w(),Se=d("select"),xe=d("option"),xe.textContent="Off",Ke=d("option"),ut=Z("Bnet Realm"),et=d("option"),et.textContent="OpenVPN",ze=d("option"),Nt=Z("Both"),an=w(),Xe&&Xe.c(),s(a,"class","grid grid-cols-3"),s(l,"class","col"),s(n,"class","row p-2"),s(k,"type","button"),s(k,"class","btn btn-primary"),s(k,"id","autoHostMapPath"),s(T,"class","col"),s(N,"class","row p-2"),s(G,"class","col"),s(J,"class","row p-2"),s(te,"class","col"),s(Y,"class","row p-2"),s(I,"class","w-100 py-1 grid grid-cols-12"),s(ke,"class","w-100 py-1 grid grid-cols-12"),s(ee,"class","col"),s(_e,"class","row p-2"),s(ce,"class","row p-2"),s(He,"for","regionChangeType"),xe.__value="off",we(xe,xe.__value),xe.selected=!0,Ke.disabled=at=e[4].client.alternateLaunch,Ke.__value="realm",we(Ke,Ke.__value),et.__value="openVPN",we(et,et.__value),ze.disabled=mt=e[4].client.alternateLaunch,ze.__value="both",we(ze,ze.__value),s(Se,"class","form-control form-control-sm"),s(Se,"id","regionChangeType"),s(pe,"class","col"),s(ne,"class","row p-2"),s(t,"id","autoHostSettings"),s(t,"class","border m-2")},m(fe,oe){M(fe,t,oe),i(t,n),i(n,l),i(l,a),B(o,a,null),i(a,c),B(r,a,null),i(a,u),B(f,a,null),i(a,b),B(p,a,null),i(a,m),B(v,a,null),i(a,h),Fe&&Fe.m(a,null),i(a,y),B(C,a,null),i(a,H),B(g,a,null),i(n,$),Ue&&Ue.m(n,null),i(t,S),i(t,N),i(N,T),i(T,k),i(T,L),i(T,A),i(A,R),i(t,U),i(t,J),i(J,G),B(F,G,null),i(t,Q),i(t,Y),i(Y,te),B(se,te,null),i(Y,me),We&&We.m(Y,null),i(t,ye),je&&je.m(t,null),i(t,ve),i(t,_e),i(_e,ee),i(ee,ae),i(ee,I);for(let tt=0;tt<Le.length;tt+=1)Le[tt]&&Le[tt].m(I,null);i(ee,j),i(ee,ke);for(let tt=0;tt<De.length;tt+=1)De[tt]&&De[tt].m(ke,null);i(t,be),i(t,ce),Be&&Be.m(ce,null),i(ce,z),Je&&Je.m(ce,null),i(t,he),Ye&&Ye.m(t,null),i(t,X),Qe&&Qe.m(t,null),i(t,K),Ze&&Ze.m(t,null),i(t,ie),i(t,ne),i(ne,pe),i(pe,He),i(pe,$e),i(pe,Se),i(Se,xe),i(Se,Ke),i(Ke,ut),i(Se,et),i(Se,ze),i(ze,Nt),qe(Se,e[4].autoHost.regionChangeType),i(t,an),Xe&&Xe.m(t,null),ft=!0,jt||(on=[x(k,"click",e[8]),x(Se,"change",function(){W(e[0])&&e[0].apply(this,arguments)})],jt=!0)},p(fe,oe){e=fe;const tt={};oe&16&&(tt.checked=e[4].autoHost.private),o.$set(tt);const sn={};oe&16&&(sn.checked=e[4].autoHost.increment),r.$set(sn);const rn={};oe&16&&(rn.checked=e[4].autoHost.sounds),f.$set(rn);const un={};oe&16&&(un.checked=e[4].autoHost.moveToSpec),p.$set(un);const fn={};oe&16&&(fn.checked=e[4].autoHost.announceCustom),v.$set(fn),oe&16&&(_=["rapidHost","smartHost"].includes(e[4].autoHost.type)),_?Fe?(Fe.p(e,oe),oe&16&&O(Fe,1)):(Fe=En(e),Fe.c(),O(Fe,1),Fe.m(a,y)):Fe&&(Ne(),D(Fe,1,1,()=>{Fe=null}),Pe());const cn={};oe&16&&(cn.checked=e[4].autoHost.advancedMapOptions),C.$set(cn);const dn={};oe&16&&(dn.checked=e[4].autoHost.whitelist),g.$set(dn),e[4].autoHost.advancedMapOptions?Ue?(Ue.p(e,oe),oe&16&&O(Ue,1)):(Ue=Un(e),Ue.c(),O(Ue,1),Ue.m(n,null)):Ue&&(Ne(),D(Ue,1,1,()=>{Ue=null}),Pe()),(!ft||oe&16)&&P!==(P=e[4].autoHost.mapPath+"")&&Te(R,P);const mn={};oe&16&&(mn.value=e[4].autoHost.gameName),F.$set(mn);const pn={};if(oe&16&&(pn.value=e[4].autoHost.delayStart),se.$set(pn),oe&16&&(ue=["rapidHost","smartHost"].includes(e[4].autoHost.type)),ue?We?(We.p(e,oe),oe&16&&O(We,1)):(We=Wn(e),We.c(),O(We,1),We.m(Y,null)):We&&(Ne(),D(We,1,1,()=>{We=null}),Pe()),e[4].autoHost.moveToSpec?je?(je.p(e,oe),oe&16&&O(je,1)):(je=jn(e),je.c(),O(je,1),je.m(t,ve)):je&&(Ne(),D(je,1,1,()=>{je=null}),Pe()),oe&24){pt=Ge(Array.from(Array(12).keys()));let Ae;for(Ae=0;Ae<pt.length;Ae+=1){const Pt=Dn(e,pt,Ae);Le[Ae]?(Le[Ae].p(Pt,oe),O(Le[Ae],1)):(Le[Ae]=Bn(Pt),Le[Ae].c(),O(Le[Ae],1),Le[Ae].m(I,null))}for(Ne(),Ae=pt.length;Ae<Le.length;Ae+=1)Ll(Ae);Pe()}if(oe&24){ht=Ge(Array.from(Array(12).keys()));let Ae;for(Ae=0;Ae<ht.length;Ae+=1){const Pt=Ln(e,ht,Ae);De[Ae]?(De[Ae].p(Pt,oe),O(De[Ae],1)):(De[Ae]=qn(Pt),De[Ae].c(),O(De[Ae],1),De[Ae].m(ke,null))}for(Ne(),Ae=ht.length;Ae<De.length;Ae+=1)Dl(Ae);Pe()}oe&16&&(re=e[4].autoHost.voteStart&&["rapidHost","smartHost"].includes(e[4].autoHost.type)),re?Be?(Be.p(e,oe),oe&16&&O(Be,1)):(Be=Vn(e),Be.c(),O(Be,1),Be.m(ce,z)):Be&&(Ne(),D(Be,1,1,()=>{Be=null}),Pe()),e[4].autoHost.type==="rapidHost"?Je?Je.p(e,oe):(Je=Gn(e),Je.c(),Je.m(ce,null)):Je&&(Je.d(1),Je=null),oe&16&&(de=e[4].autoHost.announceIsBot&&["rapidHost","smartHost"].includes(e[4].autoHost.type)||e[4].autoHost.announceCustom),de?Ye?Ye.p(e,oe):(Ye=Kn(e),Ye.c(),Ye.m(t,X)):Ye&&(Ye.d(1),Ye=null),e[4].autoHost.announceCustom?Qe?Qe.p(e,oe):(Qe=Yn(e),Qe.c(),Qe.m(t,K)):Qe&&(Qe.d(1),Qe=null),oe&16&&(le=e[4].autoHost.announceIsBot&&["rapidHost","smartHost"].includes(e[4].autoHost.type)||e[4].autoHost.announceCustom),le?Ze?Ze.p(e,oe):(Ze=Qn(e),Ze.c(),Ze.m(t,ie)):Ze&&(Ze.d(1),Ze=null),(!ft||oe&16&&at!==(at=e[4].client.alternateLaunch))&&(Ke.disabled=at),(!ft||oe&16&&mt!==(mt=e[4].client.alternateLaunch))&&(ze.disabled=mt),(!ft||oe&16&&ln!==(ln=e[4].autoHost.regionChangeType))&&qe(Se,e[4].autoHost.regionChangeType),e[4].autoHost.regionChangeType!=="off"?Xe?Xe.p(e,oe):(Xe=Zn(e),Xe.c(),Xe.m(t,null)):Xe&&(Xe.d(1),Xe=null)},i(fe){if(!ft){O(o.$$.fragment,fe),O(r.$$.fragment,fe),O(f.$$.fragment,fe),O(p.$$.fragment,fe),O(v.$$.fragment,fe),O(Fe),O(C.$$.fragment,fe),O(g.$$.fragment,fe),O(Ue),O(F.$$.fragment,fe),O(se.$$.fragment,fe),O(We),O(je);for(let oe=0;oe<pt.length;oe+=1)O(Le[oe]);for(let oe=0;oe<ht.length;oe+=1)O(De[oe]);O(Be),ft=!0}},o(fe){D(o.$$.fragment,fe),D(r.$$.fragment,fe),D(f.$$.fragment,fe),D(p.$$.fragment,fe),D(v.$$.fragment,fe),D(Fe),D(C.$$.fragment,fe),D(g.$$.fragment,fe),D(Ue),D(F.$$.fragment,fe),D(se.$$.fragment,fe),D(We),D(je),Le=Le.filter(Boolean);for(let oe=0;oe<Le.length;oe+=1)D(Le[oe]);De=De.filter(Boolean);for(let oe=0;oe<De.length;oe+=1)D(De[oe]);D(Be),ft=!1},d(fe){fe&&E(t),q(o),q(r),q(f),q(p),q(v),Fe&&Fe.d(),q(C),q(g),Ue&&Ue.d(),q(F),q(se),We&&We.d(),je&&je.d(),dt(Le,fe),dt(De,fe),Be&&Be.d(),Je&&Je.d(),Ye&&Ye.d(),Qe&&Qe.d(),Ze&&Ze.d(),Xe&&Xe.d(),jt=!1,Oe(on)}}}function En(e){let t,n,l,a,o,c,r,u;t=new ge({props:{frontFacingName:"Announce Is Bot",key:"announceIsBot",checked:e[4].autoHost.announceIsBot,tooltipContent:"Will announce if the local user is a bot. You can check the message below."}}),t.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),l=new ge({props:{frontFacingName:"Vote start",key:"voteStart",checked:e[4].autoHost.voteStart,tooltipContent:"Will allow users to vote to start the game."}}),l.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)});let f=(e[4].elo.type==="off"||!e[4].elo.balanceTeams)&&Mn(e),b=e[4].autoHost.voteStart&&Rn(e),p=e[4].autoHost.type==="smartHost"&&e[4].autoHost.moveToSpec&&e[4].autoHost.observers&&Fn(e);return{c(){V(t.$$.fragment),n=w(),V(l.$$.fragment),a=w(),f&&f.c(),o=w(),b&&b.c(),c=w(),p&&p.c(),r=bt()},m(m,v){B(t,m,v),M(m,n,v),B(l,m,v),M(m,a,v),f&&f.m(m,v),M(m,o,v),b&&b.m(m,v),M(m,c,v),p&&p.m(m,v),M(m,r,v),u=!0},p(m,v){e=m;const h={};v&16&&(h.checked=e[4].autoHost.announceIsBot),t.$set(h);const _={};v&16&&(_.checked=e[4].autoHost.voteStart),l.$set(_),e[4].elo.type==="off"||!e[4].elo.balanceTeams?f?(f.p(e,v),v&16&&O(f,1)):(f=Mn(e),f.c(),O(f,1),f.m(o.parentNode,o)):f&&(Ne(),D(f,1,1,()=>{f=null}),Pe()),e[4].autoHost.voteStart?b?(b.p(e,v),v&16&&O(b,1)):(b=Rn(e),b.c(),O(b,1),b.m(c.parentNode,c)):b&&(Ne(),D(b,1,1,()=>{b=null}),Pe()),e[4].autoHost.type==="smartHost"&&e[4].autoHost.moveToSpec&&e[4].autoHost.observers?p?(p.p(e,v),v&16&&O(p,1)):(p=Fn(e),p.c(),O(p,1),p.m(r.parentNode,r)):p&&(Ne(),D(p,1,1,()=>{p=null}),Pe())},i(m){u||(O(t.$$.fragment,m),O(l.$$.fragment,m),O(f),O(b),O(p),u=!0)},o(m){D(t.$$.fragment,m),D(l.$$.fragment,m),D(f),D(b),D(p),u=!1},d(m){m&&(E(n),E(a),E(o),E(c),E(r)),q(t,m),q(l,m),f&&f.d(m),b&&b.d(m),p&&p.d(m)}}}function Mn(e){let t,n;return t=new ge({props:{frontFacingName:"Shuffle Players",key:"shufflePlayers",checked:e[4].autoHost.shufflePlayers,tooltipContent:"Shuffles players randomly before starting."}}),t.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),{c(){V(t.$$.fragment)},m(l,a){B(t,l,a),n=!0},p(l,a){e=l;const o={};a&16&&(o.checked=e[4].autoHost.shufflePlayers),t.$set(o)},i(l){n||(O(t.$$.fragment,l),n=!0)},o(l){D(t.$$.fragment,l),n=!1},d(l){q(t,l)}}}function Rn(e){let t,n;return t=new ge({props:{frontFacingName:"Require All Teams for Votestart",key:"voteStartTeamFill",checked:e[4].autoHost.voteStartTeamFill,tooltipContent:"Will require all teams to have at least 1 player before players can vote start."}}),t.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),{c(){V(t.$$.fragment)},m(l,a){B(t,l,a),n=!0},p(l,a){e=l;const o={};a&16&&(o.checked=e[4].autoHost.voteStartTeamFill),t.$set(o)},i(l){n||(O(t.$$.fragment,l),n=!0)},o(l){D(t.$$.fragment,l),n=!1},d(l){q(t,l)}}}function Fn(e){let t,n;return t=new ge({props:{frontFacingName:"Intrusive check",key:"leaveAlternate",checked:e[4].autoHost.leaveAlternate,tooltipContent:"Queries the chat menu periodically in game in order to attempt to see if there are any other players left in lobby. Note: this still will not guarantee that it games will be left successfully due to a minor WC3 bug."}}),t.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),{c(){V(t.$$.fragment)},m(l,a){B(t,l,a),n=!0},p(l,a){e=l;const o={};a&16&&(o.checked=e[4].autoHost.leaveAlternate),t.$set(o)},i(l){n||(O(t.$$.fragment,l),n=!0)},o(l){D(t.$$.fragment,l),n=!1},d(l){q(t,l)}}}function Un(e){let t,n,l,a,o,c,r,u,f,b,p,m,v,h,_,y,C,H,g,$,S,N,T,k,L,A,P,R,U,J;return l=new ge({props:{key:"flagLockTeams",frontFacingName:"Lock Teams",checked:e[4].autoHost.flagLockTeams}}),l.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),o=new ge({props:{key:"flagFullSharedUnitControl",frontFacingName:"Full Shared Unit Control",checked:e[4].autoHost.flagFullSharedUnitControl}}),o.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),r=new ge({props:{key:"flagPlaceTeamsTogether",frontFacingName:"Place Teams Together",checked:e[4].autoHost.flagPlaceTeamsTogether}}),r.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),f=new ge({props:{key:"flagRandomRaces",frontFacingName:"Random Races",checked:e[4].autoHost.flagRandomRaces}}),f.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),{c(){t=d("div"),n=d("div"),V(l.$$.fragment),a=w(),V(o.$$.fragment),c=w(),V(r.$$.fragment),u=w(),V(f.$$.fragment),b=w(),p=d("label"),p.textContent="Add observers:",m=w(),v=d("select"),h=d("option"),h.textContent="None",_=d("option"),_.textContent="Obs on defeat",y=d("option"),y.textContent="Referees(Recommended)",C=d("option"),C.textContent="Observers",g=w(),$=d("label"),$.textContent="Visibility:",S=w(),N=d("select"),T=d("option"),T.textContent="Default",k=d("option"),k.textContent="Hide Terrain",L=d("option"),L.textContent="Map Explored",A=d("option"),A.textContent="Always Visible",s(p,"for","observers"),h.__value="0",we(h,h.__value),_.__value="1",we(_,_.__value),y.__value="2",we(y,y.__value),C.__value="3",we(C,C.__value),s(v,"class","form-control form-control-sm"),s(v,"id","observers"),s(n,"class","grid grid-cols-2"),s($,"for","autoHostsettingVisibility"),T.__value="0",we(T,T.__value),k.__value="1",we(k,k.__value),L.__value="2",we(L,L.__value),A.__value="3",we(A,A.__value),s(N,"class","form-control form-control-sm"),s(N,"id","autoHostsettingVisibility"),s(t,"class","col")},m(G,F){M(G,t,F),i(t,n),B(l,n,null),i(n,a),B(o,n,null),i(n,c),B(r,n,null),i(n,u),B(f,n,null),i(n,b),i(n,p),i(n,m),i(n,v),i(v,h),i(v,_),i(v,y),i(v,C),qe(v,e[4].autoHost.observers),i(t,g),i(t,$),i(t,S),i(t,N),i(N,T),i(N,k),i(N,L),i(N,A),qe(N,e[4].autoHost.settingVisibility),R=!0,U||(J=[x(v,"change",function(){W(e[0])&&e[0].apply(this,arguments)}),x(N,"change",function(){W(e[0])&&e[0].apply(this,arguments)})],U=!0)},p(G,F){e=G;const Q={};F&16&&(Q.checked=e[4].autoHost.flagLockTeams),l.$set(Q);const Y={};F&16&&(Y.checked=e[4].autoHost.flagFullSharedUnitControl),o.$set(Y);const te={};F&16&&(te.checked=e[4].autoHost.flagPlaceTeamsTogether),r.$set(te);const se={};F&16&&(se.checked=e[4].autoHost.flagRandomRaces),f.$set(se),(!R||F&16&&H!==(H=e[4].autoHost.observers))&&qe(v,e[4].autoHost.observers),(!R||F&16&&P!==(P=e[4].autoHost.settingVisibility))&&qe(N,e[4].autoHost.settingVisibility)},i(G){R||(O(l.$$.fragment,G),O(o.$$.fragment,G),O(r.$$.fragment,G),O(f.$$.fragment,G),R=!0)},o(G){D(l.$$.fragment,G),D(o.$$.fragment,G),D(r.$$.fragment,G),D(f.$$.fragment,G),R=!1},d(G){G&&E(t),q(l),q(o),q(r),q(f),U=!1,Oe(J)}}}function Wn(e){let t,n,l;return n=new Ee({props:{type:"number",key:"minPlayers",frontFacingName:"Min Players to Autostart",minlength:0,maxlength:24,value:e[4].autoHost.minPlayers}}),n.$on("change",function(){W(e[1])&&e[1].apply(this,arguments)}),{c(){t=d("div"),V(n.$$.fragment),s(t,"class","col")},m(a,o){M(a,t,o),B(n,t,null),l=!0},p(a,o){e=a;const c={};o&16&&(c.value=e[4].autoHost.minPlayers),n.$set(c)},i(a){l||(O(n.$$.fragment,a),l=!0)},o(a){D(n.$$.fragment,a),l=!1},d(a){a&&E(t),q(n)}}}function jn(e){let t,n,l,a;return l=new Ee({props:{type:"text",key:"moveToTeam",frontFacingName:"Target Team Name (Blank for Auto)",minlength:0,maxlength:30,value:e[4].autoHost.moveToTeam}}),l.$on("change",function(){W(e[1])&&e[1].apply(this,arguments)}),l.$on("keydown",e[10]),{c(){t=d("div"),n=d("div"),V(l.$$.fragment),s(n,"class","col"),s(t,"class","row p-2")},m(o,c){M(o,t,c),i(t,n),B(l,n,null),a=!0},p(o,c){e=o;const r={};c&16&&(r.value=e[4].autoHost.moveToTeam),l.$set(r)},i(o){a||(O(l.$$.fragment,o),a=!0)},o(o){D(l.$$.fragment,o),a=!1},d(o){o&&E(t),q(l)}}}function Bn(e){let t,n;function l(...a){return e[11](e[15],...a)}return t=new Ol({props:{checked:e[4].autoHost.closeSlots.includes(e[15])??!1,number:(e[15]+1).toString()}}),t.$on("change",l),{c(){V(t.$$.fragment)},m(a,o){B(t,a,o),n=!0},p(a,o){e=a;const c={};o&16&&(c.checked=e[4].autoHost.closeSlots.includes(e[15])??!1),t.$set(c)},i(a){n||(O(t.$$.fragment,a),n=!0)},o(a){D(t.$$.fragment,a),n=!1},d(a){q(t,a)}}}function qn(e){let t,n;function l(...a){return e[12](e[15],...a)}return t=new Ol({props:{checked:e[4].autoHost.closeSlots.includes(e[15]+12)??!1,number:(e[15]+13).toString()}}),t.$on("change",l),{c(){V(t.$$.fragment)},m(a,o){B(t,a,o),n=!0},p(a,o){e=a;const c={};o&16&&(c.checked=e[4].autoHost.closeSlots.includes(e[15]+12)??!1),t.$set(c)},i(a){n||(O(t.$$.fragment,a),n=!0)},o(a){D(t.$$.fragment,a),n=!1},d(a){q(t,a)}}}function Vn(e){let t,n,l;return n=new Ee({props:{type:"number",key:"voteStartPercent",frontFacingName:"Vote Start Percentage",minlength:5,maxlength:100,value:e[4].autoHost.voteStartPercent}}),n.$on("change",e[13]),{c(){t=d("div"),V(n.$$.fragment),s(t,"class","col")},m(a,o){M(a,t,o),B(n,t,null),l=!0},p(a,o){const c={};o&16&&(c.value=a[4].autoHost.voteStartPercent),n.$set(c)},i(a){l||(O(n.$$.fragment,a),l=!0)},o(a){D(n.$$.fragment,a),l=!1},d(a){a&&E(t),q(n)}}}function Gn(e){let t,n,l,a,o,c,r;return{c(){t=d("div"),n=d("label"),n.textContent="Rapid Host Timer",l=w(),a=d("input"),s(n,"for","rapidHostTimer"),s(n,"class","form-label"),s(a,"type","number"),s(a,"id","rapidHostTimer"),s(a,"class","form-control"),s(a,"min","-1"),s(a,"max","360"),a.value=o=e[4].autoHost.rapidHostTimer,s(t,"class","col")},m(u,f){M(u,t,f),i(t,n),i(t,l),i(t,a),c||(r=x(a,"change",function(){W(e[0])&&e[0].apply(this,arguments)}),c=!0)},p(u,f){e=u,f&16&&o!==(o=e[4].autoHost.rapidHostTimer)&&a.value!==o&&(a.value=o)},d(u){u&&E(t),c=!1,r()}}}function Kn(e){let t,n,l,a,o=e[4].autoHost.announceIsBot&&["rapidHost","smartHost"].includes(e[4].autoHost.type),c,r=o&&zn(e),u=e[4].autoHost.announceCustom&&Jn(e);return{c(){t=d("div"),n=d("div"),l=d("h4"),l.textContent="Bot Announcement:",a=w(),r&&r.c(),c=w(),u&&u.c(),s(n,"class","col"),s(t,"class","row p-2")},m(f,b){M(f,t,b),i(t,n),i(n,l),i(n,a),r&&r.m(n,null),i(n,c),u&&u.m(n,null)},p(f,b){b&16&&(o=f[4].autoHost.announceIsBot&&["rapidHost","smartHost"].includes(f[4].autoHost.type)),o?r?r.p(f,b):(r=zn(f),r.c(),r.m(n,c)):r&&(r.d(1),r=null),f[4].autoHost.announceCustom?u?u.p(f,b):(u=Jn(f),u.c(),u.m(n,null)):u&&(u.d(1),u=null)},d(f){f&&E(t),r&&r.d(),u&&u.d()}}}function zn(e){let t,n;return{c(){t=d("span"),n=Z(e[6])},m(l,a){M(l,t,a),i(t,n)},p(l,a){a&64&&Te(n,l[6])},d(l){l&&E(t)}}}function Jn(e){let t,n=e[4].autoHost.customAnnouncement+"",l;return{c(){t=d("p"),l=Z(n)},m(a,o){M(a,t,o),i(t,l)},p(a,o){o&16&&n!==(n=a[4].autoHost.customAnnouncement+"")&&Te(l,n)},d(a){a&&E(t)}}}function Yn(e){let t,n,l,a,o,c,r,u;return{c(){t=d("div"),n=d("div"),l=d("label"),l.textContent="Custom Announcement",a=w(),o=d("input"),s(l,"for","customAnnouncement"),s(l,"class","form-label"),s(o,"type","text"),s(o,"id","customAnnouncement"),s(o,"class","form-control"),s(o,"maxlength","120"),s(o,"placeholder","120 Character Max"),o.value=c=e[4].autoHost.customAnnouncement,s(n,"class","col"),s(t,"class","row p-2")},m(f,b){M(f,t,b),i(t,n),i(n,l),i(n,a),i(n,o),r||(u=x(o,"change",function(){W(e[0])&&e[0].apply(this,arguments)}),r=!0)},p(f,b){e=f,b&16&&c!==(c=e[4].autoHost.customAnnouncement)&&o.value!==c&&(o.value=c)},d(f){f&&E(t),r=!1,u()}}}function Qn(e){let t,n,l,a,o,c,r,u;return{c(){t=d("div"),n=d("div"),l=d("label"),l.textContent="Minimum seconds between announcements",a=w(),o=d("input"),s(l,"for","announceRestingInterval"),s(l,"class","form-label"),s(o,"type","number"),s(o,"id","announceRestingInterval"),s(o,"class","form-control"),s(o,"min","0"),s(o,"max","600"),o.value=c=e[4].autoHost.announceRestingInterval,s(n,"class","col"),s(t,"class","row p-2")},m(f,b){M(f,t,b),i(t,n),i(n,l),i(n,a),i(n,o),r||(u=x(o,"change",function(){W(e[1])&&e[1].apply(this,arguments)}),r=!0)},p(f,b){e=f,b&16&&c!==(c=e[4].autoHost.announceRestingInterval)&&o.value!==c&&(o.value=c)},d(f){f&&E(t),r=!1,u()}}}function Zn(e){let t,n,l,a,o,c,r,u,f,b,p,m,v,h,_,y,C,H,g,$,S,N,T=(e[4].autoHost.regionChangeType==="both"||e[4].autoHost.regionChangeType==="openVPN")&&Xn(e);return{c(){t=d("div"),n=d("div"),l=Z("Current UTC time is: "),a=Z(e[5]),o=Z(`\r
            Target: `),c=Z(e[7]),r=w(),T&&T.c(),u=w(),f=d("div"),b=d("div"),p=d("label"),p.textContent="UTC time to swap to NA",m=w(),v=d("input"),_=w(),y=d("div"),C=d("label"),C.textContent="UTC time to swap to EU",H=w(),g=d("input"),s(n,"class","col flex text-center"),s(t,"class","row p-2"),s(p,"for","regionChangeTimeNA"),s(p,"class","form-label"),s(v,"type","time"),s(v,"id","regionChangeTimeNA"),s(v,"class","form-control"),v.value=h=e[4].autoHost.regionChangeTimeNA,s(b,"class","col"),s(C,"for","regionChangeTimeEU"),s(C,"class","form-label"),s(g,"type","time"),s(g,"id","regionChangeTimeEU"),s(g,"class","form-control"),g.value=$=e[4].autoHost.regionChangeTimeEU,s(y,"class","col"),s(f,"class","row p-2")},m(k,L){M(k,t,L),i(t,n),i(n,l),i(n,a),i(n,o),i(n,c),M(k,r,L),T&&T.m(k,L),M(k,u,L),M(k,f,L),i(f,b),i(b,p),i(b,m),i(b,v),i(f,_),i(f,y),i(y,C),i(y,H),i(y,g),S||(N=[x(v,"change",function(){W(e[0])&&e[0].apply(this,arguments)}),x(g,"change",function(){W(e[0])&&e[0].apply(this,arguments)})],S=!0)},p(k,L){e=k,L&32&&Te(a,e[5]),L&128&&Te(c,e[7]),e[4].autoHost.regionChangeType==="both"||e[4].autoHost.regionChangeType==="openVPN"?T?T.p(e,L):(T=Xn(e),T.c(),T.m(u.parentNode,u)):T&&(T.d(1),T=null),L&16&&h!==(h=e[4].autoHost.regionChangeTimeNA)&&v.value!==h&&(v.value=h),L&16&&$!==($=e[4].autoHost.regionChangeTimeEU)&&g.value!==$&&(g.value=$)},d(k){k&&(E(t),E(r),E(u),E(f)),T&&T.d(k),S=!1,Oe(N)}}}function Xn(e){let t,n,l,a,o,c,r,u=(e[4].autoHost.openVPNPath||"Please set a path.")+"",f,b,p,m,v,h,_,y,C,H,g,$,S,N,T,k,L;return{c(){t=d("div"),n=d("div"),l=d("button"),a=Z("OpenVPN-GUI.exe Path:"),c=w(),r=d("span"),f=Z(u),p=w(),m=d("div"),v=d("div"),h=d("label"),h.textContent="NA OVPN File Name",_=w(),y=d("input"),H=w(),g=d("div"),$=d("label"),$.textContent="EU OVPN File Name",S=w(),N=d("input"),s(l,"type","button"),s(l,"class",o="btn btn-sm "+(e[4].autoHost.openVPNPath?"btn-primary":"btn-danger")),s(l,"id","openVPNPath"),s(r,"class",b=e[4].autoHost.openVPNPath?"":"alert-warning"),s(n,"class","col"),s(t,"class","row p-2"),s(h,"for","regionChangeOpenVPNConfigNA"),s(h,"class","form-label"),s(y,"type","text"),s(y,"id","regionChangeOpenVPNConfigNA"),s(y,"class","form-control"),s(y,"placeholder","With or without extension"),y.value=C=e[4].autoHost.regionChangeOpenVPNConfigNA,s(v,"class","col"),s($,"for","regionChangeOpenVPNConfigEU"),s($,"class","form-label"),s(N,"type","text"),s(N,"id","regionChangeOpenVPNConfigEU"),s(N,"class","form-control"),s(N,"placeholder","With or without extension"),N.value=T=e[4].autoHost.regionChangeOpenVPNConfigEU,s(g,"class","col"),s(m,"class","row p-2")},m(A,P){M(A,t,P),i(t,n),i(n,l),i(l,a),i(n,c),i(n,r),i(r,f),M(A,p,P),M(A,m,P),i(m,v),i(v,h),i(v,_),i(v,y),i(m,H),i(m,g),i(g,$),i(g,S),i(g,N),k||(L=[x(l,"click",e[14]),x(y,"change",function(){W(e[0])&&e[0].apply(this,arguments)}),x(N,"change",function(){W(e[0])&&e[0].apply(this,arguments)})],k=!0)},p(A,P){e=A,P&16&&o!==(o="btn btn-sm "+(e[4].autoHost.openVPNPath?"btn-primary":"btn-danger"))&&s(l,"class",o),P&16&&u!==(u=(e[4].autoHost.openVPNPath||"Please set a path.")+"")&&Te(f,u),P&16&&b!==(b=e[4].autoHost.openVPNPath?"":"alert-warning")&&s(r,"class",b),P&16&&C!==(C=e[4].autoHost.regionChangeOpenVPNConfigNA)&&y.value!==C&&(y.value=C),P&16&&T!==(T=e[4].autoHost.regionChangeOpenVPNConfigEU)&&N.value!==T&&(N.value=T)},d(A){A&&(E(t),E(p),E(m)),k=!1,Oe(L)}}}function ei(e){let t,n,l,a,o,c,r,u,f,b,p,m,v,h,_,y,C,H,g,$,S,N=e[4].autoHost.type!=="off"&&In(e);return{c(){t=d("form"),n=d("div"),l=d("img"),o=w(),c=d("span"),c.textContent="Auto Host",r=w(),u=d("div"),f=d("div"),b=d("label"),b.innerHTML=`<details><summary>Auto Host Details (click to expand)</summary><strong>Lobby Host:</strong>
          Starts a lobby with specified settings.<br/> <strong>Rapid Host:</strong> Hosts lobbies, auto starts, leaves the game after
          specified timer(minutes). (-1 will force quit at loading screen)<br/> <strong>Smart Host:</strong> Hosts lobbies, auto starts, quits the game if you
          use the wc3mt lib (see discord), with a fallback to attempting to see if this
          screen opens(OCR, unreliable):
          <img class="img-fluid" src="quitNormal.png" alt="Quit Normal"/>
          Intrusive Check will check the chat menu to see if anyone else is left.</details>`,p=w(),m=d("select"),v=d("option"),v.textContent="Disabled",h=d("option"),h.textContent="Lobby Host: Host but don't autostart",_=d("option"),_.textContent="Rapid Host: Leave after time",y=d("option"),y.textContent="Smart Host: Use OCR to detect game end",H=w(),N&&N.c(),s(l,"class","float-left p-2"),Ht(l.src,a=At)||s(l,"src",a),s(c,"class","flex-1"),s(n,"class","d-flex justify-content-center text-4xl text-active-text"),s(b,"for","autoHostState"),s(b,"class","form-label"),v.__value="off",we(v,v.__value),h.__value="lobbyHost",we(h,h.__value),_.__value="rapidHost",we(_,_.__value),y.__value="smartHost",we(y,y.__value),s(m,"id","autoHostType"),s(m,"class","form-select"),s(f,"class","col"),s(u,"class","row"),s(t,"name","autoHost"),s(t,"class","p-2")},m(T,k){M(T,t,k),i(t,n),i(n,l),i(n,o),i(n,c),i(t,r),i(t,u),i(u,f),i(f,b),i(f,p),i(f,m),i(m,v),i(m,h),i(m,_),i(m,y),qe(m,e[4].autoHost.type),i(t,H),N&&N.m(t,null),g=!0,$||(S=x(m,"change",function(){W(e[0])&&e[0].apply(this,arguments)}),$=!0)},p(T,[k]){e=T,(!g||k&16&&C!==(C=e[4].autoHost.type))&&qe(m,e[4].autoHost.type),e[4].autoHost.type!=="off"?N?(N.p(e,k),k&16&&O(N,1)):(N=In(e),N.c(),O(N,1),N.m(t,null)):N&&(Ne(),D(N,1,1,()=>{N=null}),Pe())},i(T){g||(O(N),g=!0)},o(T){D(N),g=!1},d(T){T&&E(t),N&&N.d(),$=!1,S()}}}function ti(e,t,n){let l,a,o;lt(e,ot,H=>n(4,o=H));let{onInputChange:c}=t,{updateNumber:r}=t,{toMain:u}=t,{updateSettingSingle:f}=t,b=("0"+new Date().getUTCHours().toString()).slice(-2)+":"+("0"+new Date().getUTCMinutes().toString()).slice(-2);setInterval(()=>{n(5,b=("0"+new Date().getUTCHours().toString()).slice(-2)+":"+("0"+new Date().getUTCMinutes().toString()).slice(-2))},6e4);const p=()=>u({messageType:"getMapPath"}),m=H=>{H.key==="Enter"&&c(H)},v=H=>{H.key==="Enter"&&c(H)},h=(H,g)=>{f("autoHost","closeSlots",g.currentTarget.checked,H)},_=(H,g)=>{f("autoHost","closeSlots",g.target.checked,H+12)},y=H=>f("autoHost","voteStartPercent",Math.min(Math.max(parseInt(H.currentTarget.value),5),100)),C=()=>u({messageType:"getOpenVPNPath"});return e.$$set=H=>{"onInputChange"in H&&n(0,c=H.onInputChange),"updateNumber"in H&&n(1,r=H.updateNumber),"toMain"in H&&n(2,u=H.toMain),"updateSettingSingle"in H&&n(3,f=H.updateSettingSingle)},e.$$.update=()=>{e.$$.dirty&16&&n(7,l=Ja(o.autoHost.regionChangeTimeEU,o.autoHost.regionChangeTimeNA)),e.$$.dirty&16&&n(6,a=`Welcome. I am a bot. ${o.elo.available&&o.elo.type!=="off"?`I will fetch ELO from ${o.elo.type}. ${o.elo.balanceTeams?"I will try to balance teams before we start.":""}`:""}${(o.elo.type==="off"||!o.elo.balanceTeams)&&o.autoHost.shufflePlayers?"I will shuffle players before we start.":""} ${["smartHost","rapidHost"].includes(o.autoHost.type)?o.autoHost.minPlayers<1?"I will start when slots are full.":"I will start with "+o.autoHost.minPlayers+" players.":""} ${o.autoHost.voteStart?" You can vote start with ?votestart":""}`)},[c,r,u,f,o,b,a,l,p,m,v,h,_,y,C]}class ni extends Re{constructor(t){super(),Me(this,t,ti,ei,Ie,{onInputChange:0,updateNumber:1,toMain:2,updateSettingSingle:3})}}function xn(e){let t,n,l;return n=new ge({props:{frontFacingName:"Send to lobby",key:"translateToLobby",tooltipContent:"Send translated messages back to the lobby.",checked:e[2].client.translateToLobby}}),n.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),{c(){t=d("div"),V(n.$$.fragment),s(t,"class","col text-center m-auto")},m(a,o){M(a,t,o),B(n,t,null),l=!0},p(a,o){e=a;const c={};o&4&&(c.checked=e[2].client.translateToLobby),n.$set(c)},i(a){l||(O(n.$$.fragment,a),l=!0)},o(a){D(n.$$.fragment,a),l=!1},d(a){a&&E(t),q(n)}}}function el(e){let t,n,l,a,o,c,r,u,f,b,p,m,v,h,_,y,C;return{c(){t=d("div"),n=d("div"),n.innerHTML=`<div class="col text-center m-auto text-warning">Please don&#39;t actually use this. Your information is stored insecurely, and
            malicious actors may steal this data. Would you trust me with your password?</div>`,l=w(),a=d("div"),o=d("div"),c=d("label"),c.textContent="Battle.net Username",r=w(),u=d("input"),b=w(),p=d("div"),m=d("label"),m.textContent="Battle.net Password",v=w(),h=d("input"),s(n,"class","row"),s(c,"for","bnetUsername"),s(u,"type","text"),s(u,"class","form-control"),s(u,"id","bnetUsername"),s(u,"placeholder","BNet Username"),u.value=f=e[2].client.bnetUsername,s(u,"maxlength","35"),s(o,"class","col"),s(m,"for","bnetPassword"),s(h,"type","password"),s(h,"class","form-control"),s(h,"id","bnetPassword"),s(h,"placeholder","BNet Password"),h.value=_=e[2].client.bnetPassword,s(h,"maxlength","35"),s(p,"class","col"),s(a,"class","row"),s(t,"class","border border-dashed p-1 m-1")},m(H,g){M(H,t,g),i(t,n),i(t,l),i(t,a),i(a,o),i(o,c),i(o,r),i(o,u),i(a,b),i(a,p),i(p,m),i(p,v),i(p,h),y||(C=[x(u,"change",function(){W(e[0])&&e[0].apply(this,arguments)}),x(h,"change",function(){W(e[0])&&e[0].apply(this,arguments)})],y=!0)},p(H,g){e=H,g&4&&f!==(f=e[2].client.bnetUsername)&&u.value!==f&&(u.value=f),g&4&&_!==(_=e[2].client.bnetPassword)&&h.value!==_&&(h.value=_)},d(H){H&&E(t),y=!1,Oe(C)}}}function li(e){let t,n,l,a,o,c,r,u,f,b,p,m,v,h,_,y,C,H,g,$,S,N,T,k,L,A,P,R,U,J,G,F,Q,Y,te,se,me,ue,ye,ve,_e,ee,ae,I,j,ke,be,ce,re,z,he,de,X,K,le;m=new ge({props:{frontFacingName:"Restart on update",key:"restartOnUpdate",tooltipContent:"Restart the client when a new version is downloaded and installed.",checked:e[2].client.restartOnUpdate}}),m.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),h=new ge({props:{frontFacingName:"Check for updates",key:"checkForUpdates",tooltipContent:"Check for updates on startup and every 30 minutes.",checked:e[2].client.checkForUpdates}}),h.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),y=new ge({props:{frontFacingName:"Performance Mode(Beta)",key:"performanceMode",tooltipContent:"Enable this to strip out Warcraft 3's UI. Does not affect anything in game, mainly meant for low power systems running Rapid Host",checked:e[2].client.performanceMode}}),y.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),H=new ge({props:{frontFacingName:"Open warcraft on start",key:"openWarcraftOnStart",tooltipContent:"Open up Warcraft when WC3MT is opened",checked:e[2].client.openWarcraftOnStart}}),H.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),$=new ge({props:{frontFacingName:"Start on Login",key:"startOnLogin",tooltipContent:"Open up WC3MT when you log in",checked:e[2].client.startOnLogin}}),$.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),N=new ge({props:{frontFacingName:"Anti-Crash",key:"antiCrash",tooltipContent:"Restart Warcraft on crash.",checked:e[2].client.antiCrash}}),N.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),k=new ge({props:{frontFacingName:"Alternate Launch",key:"alternateLaunch",tooltipContent:"Launches Warcraft directly without OCR",checked:e[2].client.alternateLaunch}}),k.$on("change",e[3]),A=new ge({props:{frontFacingName:"Debug Assistance",key:"debugAssistance",tooltipContent:"Gives the bot developer (Trenchguns) admin powers.",checked:e[2].client.debugAssistance}}),A.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)});let ie=e[2].client.language&&xn(e),ne=e[2].client.alternateLaunch&&el(e);return{c(){t=d("form"),n=d("div"),l=d("img"),o=w(),c=d("span"),c.textContent="Client",r=w(),u=d("div"),f=d("div"),b=d("div"),p=d("div"),V(m.$$.fragment),v=w(),V(h.$$.fragment),_=w(),V(y.$$.fragment),C=w(),V(H.$$.fragment),g=w(),V($.$$.fragment),S=w(),V(N.$$.fragment),T=w(),V(k.$$.fragment),L=w(),V(A.$$.fragment),P=w(),R=d("div"),U=d("div"),J=d("label"),J.textContent="Release Channel",G=w(),F=d("select"),Q=d("option"),Q.textContent="Latest",Y=d("option"),Y.textContent="Beta",te=d("option"),te.textContent="Alpha",me=w(),ue=d("div"),ye=d("div"),ve=d("label"),ve.textContent="Comm Address (For Adv Users)",_e=w(),ee=d("input"),I=w(),j=d("div"),ke=d("div"),be=d("label"),be.textContent="Translate Target Language",ce=w(),re=d("input"),he=w(),ie&&ie.c(),de=w(),ne&&ne.c(),s(l,"class","float-left p-2"),Ht(l.src,a=At)||s(l,"src",a),s(c,"class","flex-1"),s(n,"class","d-flex justify-content-center text-4xl text-active-text"),s(p,"class","grid grid-cols-4"),nt(p,"flex-wrap","wrap"),s(p,"role","group"),s(b,"class","col p-2"),s(J,"for","releaseChannel"),s(J,"class","form-label"),Q.__value="latest",we(Q,Q.__value),Y.__value="beta",we(Y,Y.__value),te.__value="alpha",we(te,te.__value),s(F,"id","releaseChannel"),s(F,"class","form-select"),s(U,"class","col"),s(R,"class","row"),s(f,"class","row m-2"),s(ve,"for","commAddress"),s(ee,"type","url"),s(ee,"class","form-control"),s(ee,"id","commAddress"),s(ee,"placeholder","WebSocket Address"),ee.value=ae=e[2].client.commAddress,s(ye,"class","col"),s(ue,"class","row"),s(be,"for","targetLanguage"),s(re,"type","text"),s(re,"class","form-control"),s(re,"id","targetLanguage"),s(re,"placeholder","2 letter ISO code (Blank for none)"),re.value=z=e[2].client.language,s(re,"maxlength","2"),s(ke,"class","col"),s(j,"class","row"),s(u,"class","border"),s(t,"id","clientForm"),s(t,"name","client"),s(t,"class","p-2")},m(pe,He){M(pe,t,He),i(t,n),i(n,l),i(n,o),i(n,c),i(t,r),i(t,u),i(u,f),i(f,b),i(b,p),B(m,p,null),i(p,v),B(h,p,null),i(p,_),B(y,p,null),i(p,C),B(H,p,null),i(p,g),B($,p,null),i(p,S),B(N,p,null),i(p,T),B(k,p,null),i(p,L),B(A,p,null),i(f,P),i(f,R),i(R,U),i(U,J),i(U,G),i(U,F),i(F,Q),i(F,Y),i(F,te),qe(F,e[2].client.releaseChannel),i(u,me),i(u,ue),i(ue,ye),i(ye,ve),i(ye,_e),i(ye,ee),i(u,I),i(u,j),i(j,ke),i(ke,be),i(ke,ce),i(ke,re),i(j,he),ie&&ie.m(j,null),i(u,de),ne&&ne.m(u,null),X=!0,K||(le=[x(F,"change",function(){W(e[0])&&e[0].apply(this,arguments)}),x(ee,"change",e[4]),x(re,"change",function(){W(e[0])&&e[0].apply(this,arguments)})],K=!0)},p(pe,[He]){e=pe;const $e={};He&4&&($e.checked=e[2].client.restartOnUpdate),m.$set($e);const Se={};He&4&&(Se.checked=e[2].client.checkForUpdates),h.$set(Se);const xe={};He&4&&(xe.checked=e[2].client.performanceMode),y.$set(xe);const Ke={};He&4&&(Ke.checked=e[2].client.openWarcraftOnStart),H.$set(Ke);const ut={};He&4&&(ut.checked=e[2].client.startOnLogin),$.$set(ut);const at={};He&4&&(at.checked=e[2].client.antiCrash),N.$set(at);const et={};He&4&&(et.checked=e[2].client.alternateLaunch),k.$set(et);const ze={};He&4&&(ze.checked=e[2].client.debugAssistance),A.$set(ze),(!X||He&4&&se!==(se=e[2].client.releaseChannel))&&qe(F,e[2].client.releaseChannel),(!X||He&4&&ae!==(ae=e[2].client.commAddress)&&ee.value!==ae)&&(ee.value=ae),(!X||He&4&&z!==(z=e[2].client.language)&&re.value!==z)&&(re.value=z),e[2].client.language?ie?(ie.p(e,He),He&4&&O(ie,1)):(ie=xn(e),ie.c(),O(ie,1),ie.m(j,null)):ie&&(Ne(),D(ie,1,1,()=>{ie=null}),Pe()),e[2].client.alternateLaunch?ne?ne.p(e,He):(ne=el(e),ne.c(),ne.m(u,null)):ne&&(ne.d(1),ne=null)},i(pe){X||(O(m.$$.fragment,pe),O(h.$$.fragment,pe),O(y.$$.fragment,pe),O(H.$$.fragment,pe),O($.$$.fragment,pe),O(N.$$.fragment,pe),O(k.$$.fragment,pe),O(A.$$.fragment,pe),O(ie),X=!0)},o(pe){D(m.$$.fragment,pe),D(h.$$.fragment,pe),D(y.$$.fragment,pe),D(H.$$.fragment,pe),D($.$$.fragment,pe),D(N.$$.fragment,pe),D(k.$$.fragment,pe),D(A.$$.fragment,pe),D(ie),X=!1},d(pe){pe&&E(t),q(m),q(h),q(y),q(H),q($),q(N),q(k),q(A),ie&&ie.d(),ne&&ne.d(),K=!1,Oe(le)}}}function ai(e,t,n){let l;lt(e,ot,u=>n(2,l=u));let{onInputChange:a}=t,{updateSettingSingle:o}=t;const c=u=>{u.target.checked||(o("client","bnetUsername",""),o("client","bnetPassword","")),o("client","alternateLaunch",u.target.checked)},r=u=>{let f=u.currentTarget.value;Ya(f)||f===""?a(u):alert("Invalid Comm URL")};return e.$$set=u=>{"onInputChange"in u&&n(0,a=u.onInputChange),"updateSettingSingle"in u&&n(1,o=u.updateSettingSingle)},[a,o,l,c,r]}class ii extends Re{constructor(t){super(),Me(this,t,ai,li,Ie,{onInputChange:0,updateSettingSingle:1})}}function tl(e){let t,n,l,a,o,c,r,u,f,b,p,m,v,h,_,y,C,H,g,$,S,N,T,k,L,A,P,R,U,J,G,F,Q,Y,te,se,me,ue,ye,ve,_e,ee,ae,I,j,ke,be,ce,re,z,he,de;b=new Ee({props:{frontFacingName:"Custom Name (For Multi. Clients, future use)",key:"customName",value:e[1].discord.customName}}),b.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)});let X=!e[1].discord.useThreads&&nl(e);U=new ge({props:{key:"useThreads",frontFacingName:"Use Threads For Chat",checked:e[1].discord.useThreads,tooltipContent:"Will use threads on each lobby announcement for chat instead of a separate channel"}}),U.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)});let K=e[1].discord.adminChannel&&ll(e);ee=new Ee({props:{frontFacingName:"Admin Role",key:"adminRole",placeholder:"Role name for admins",value:e[1].discord.adminRole}}),ee.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),ce=new ge({props:{frontFacingName:"Bidirectional Chat",key:"bidirectionalChat",checked:e[1].discord.bidirectionalChat,tooltipContent:"Users may send messages to the to the lobby from the Discord channel."}}),ce.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)});let le=e[1].discord.bidirectionalChat&&(e[1].autoHost.type!=="smartHost"||e[1].autoHost.leaveAlternate===!1)&&al(e);return{c(){t=d("div"),n=d("div"),l=d("div"),l.textContent="Discord Settings",a=w(),o=d("div"),o.innerHTML='<div class="col d-flex justify-content-center">1 Discord bot per client</div>',c=w(),r=d("div"),r.innerHTML='<div class="col d-flex justify-content-center">(If not, slash cmds will break.)</div>',u=w(),f=d("div"),V(b.$$.fragment),p=w(),m=d("div"),v=d("div"),h=d("label"),h.textContent="Token",_=w(),y=d("input"),H=w(),g=d("div"),$=d("div"),S=d("label"),S.textContent="New Lobby Announce Channel",N=w(),T=d("input"),L=w(),A=d("div"),X&&X.c(),P=w(),R=d("div"),V(U.$$.fragment),J=w(),G=d("div"),G.innerHTML='<div class="col d-flex justify-content-center">Users within the channel or with the role will have admin permissions</div>',F=w(),Q=d("div"),Y=d("div"),te=d("label"),te.textContent="Admin Channel",se=w(),me=d("input"),ye=w(),K&&K.c(),ve=w(),_e=d("div"),V(ee.$$.fragment),ae=w(),I=d("div"),j=d("div"),ke=d("div"),be=d("div"),V(ce.$$.fragment),re=w(),le&&le.c(),s(l,"class","col d-flex justify-content-center"),s(o,"class","row"),s(r,"class","row"),s(f,"class","row"),s(h,"for","discordToken"),s(y,"type","password"),s(y,"class","form-control"),s(y,"id","discordToken"),s(y,"placeholder","Token"),y.value=C=e[1].discord.token,s(v,"class","col"),s(m,"class","row"),s(S,"for","discordChannel"),s(T,"type","text"),s(T,"class","form-control"),s(T,"id","discordAnnounceChannel"),s(T,"placeholder","Name or ID"),T.value=k=e[1].discord.announceChannel,s($,"class","col"),s(g,"class","row"),s(R,"class","col-auto m-auto"),s(A,"class","row"),s(G,"class","row"),s(te,"for","adminChannel"),s(me,"type","text"),s(me,"class","form-control"),s(me,"id","adminChannel"),s(me,"placeholder","Name or ID"),me.value=ue=e[1].discord.adminChannel,s(Y,"class","col"),s(Q,"class","row"),s(_e,"class","row"),s(n,"class","row"),s(be,"class","btn-group btn-group-sm w-100 py-1"),s(be,"role","group"),s(ke,"class","d-flex justify-content-center"),s(j,"class","col"),s(I,"class","row"),s(t,"class","border m-2 p-2")},m(ie,ne){M(ie,t,ne),i(t,n),i(n,l),i(n,a),i(n,o),i(n,c),i(n,r),i(n,u),i(n,f),B(b,f,null),i(n,p),i(n,m),i(m,v),i(v,h),i(v,_),i(v,y),i(n,H),i(n,g),i(g,$),i($,S),i($,N),i($,T),i(n,L),i(n,A),X&&X.m(A,null),i(A,P),i(A,R),B(U,R,null),i(n,J),i(n,G),i(n,F),i(n,Q),i(Q,Y),i(Y,te),i(Y,se),i(Y,me),i(Q,ye),K&&K.m(Q,null),i(n,ve),i(n,_e),B(ee,_e,null),i(t,ae),i(t,I),i(I,j),i(j,ke),i(ke,be),B(ce,be,null),i(be,re),le&&le.m(be,null),z=!0,he||(de=[x(y,"change",function(){W(e[0])&&e[0].apply(this,arguments)}),x(T,"change",function(){W(e[0])&&e[0].apply(this,arguments)}),x(me,"change",function(){W(e[0])&&e[0].apply(this,arguments)})],he=!0)},p(ie,ne){e=ie;const pe={};ne&2&&(pe.value=e[1].discord.customName),b.$set(pe),(!z||ne&2&&C!==(C=e[1].discord.token)&&y.value!==C)&&(y.value=C),(!z||ne&2&&k!==(k=e[1].discord.announceChannel)&&T.value!==k)&&(T.value=k),e[1].discord.useThreads?X&&(X.d(1),X=null):X?X.p(e,ne):(X=nl(e),X.c(),X.m(A,P));const He={};ne&2&&(He.checked=e[1].discord.useThreads),U.$set(He),(!z||ne&2&&ue!==(ue=e[1].discord.adminChannel)&&me.value!==ue)&&(me.value=ue),e[1].discord.adminChannel?K?K.p(e,ne):(K=ll(e),K.c(),K.m(Q,null)):K&&(K.d(1),K=null);const $e={};ne&2&&($e.value=e[1].discord.adminRole),ee.$set($e);const Se={};ne&2&&(Se.checked=e[1].discord.bidirectionalChat),ce.$set(Se),e[1].discord.bidirectionalChat&&(e[1].autoHost.type!=="smartHost"||e[1].autoHost.leaveAlternate===!1)?le?(le.p(e,ne),ne&2&&O(le,1)):(le=al(e),le.c(),O(le,1),le.m(be,null)):le&&(Ne(),D(le,1,1,()=>{le=null}),Pe())},i(ie){z||(O(b.$$.fragment,ie),O(U.$$.fragment,ie),O(ee.$$.fragment,ie),O(ce.$$.fragment,ie),O(le),z=!0)},o(ie){D(b.$$.fragment,ie),D(U.$$.fragment,ie),D(ee.$$.fragment,ie),D(ce.$$.fragment,ie),D(le),z=!1},d(ie){ie&&E(t),q(b),X&&X.d(),q(U),K&&K.d(),q(ee),q(ce),le&&le.d(),he=!1,Oe(de)}}}function nl(e){let t,n,l,a,o,c,r;return{c(){t=d("div"),n=d("label"),n.textContent="Lobby Chat Channel",l=w(),a=d("input"),s(n,"for","discordChannel"),s(a,"type","text"),s(a,"class","form-control"),s(a,"id","discordChatChannel"),s(a,"placeholder","Name or ID"),a.value=o=e[1].discord.chatChannel,s(t,"class","col")},m(u,f){M(u,t,f),i(t,n),i(t,l),i(t,a),c||(r=x(a,"change",function(){W(e[0])&&e[0].apply(this,arguments)}),c=!0)},p(u,f){e=u,f&2&&o!==(o=e[1].discord.chatChannel)&&a.value!==o&&(a.value=o)},d(u){u&&E(t),c=!1,r()}}}function ll(e){let t,n,l,a,o,c,r,u,f,b;return{c(){t=d("div"),n=d("label"),n.textContent="Log Level",l=w(),a=d("select"),o=d("option"),o.textContent="Disabled",c=d("option"),c.textContent="Warnings",r=d("option"),r.textContent="Errors",s(n,"for","logLevel"),o.__value="off",we(o,o.__value),o.selected=!0,c.__value="warn",we(c,c.__value),r.__value="error",we(r,r.__value),s(a,"id","logLevel"),s(a,"class","form-select"),s(t,"class","col-auto")},m(p,m){M(p,t,m),i(t,n),i(t,l),i(t,a),i(a,o),i(a,c),i(a,r),qe(a,e[1].discord.logLevel),f||(b=x(a,"change",function(){W(e[0])&&e[0].apply(this,arguments)}),f=!0)},p(p,m){e=p,m&2&&u!==(u=e[1].discord.logLevel)&&qe(a,e[1].discord.logLevel)},d(p){p&&E(t),f=!1,b()}}}function al(e){let t,n;return t=new ge({props:{frontFacingName:"Send Chat in Game",key:"sendInGameChat",checked:e[1].discord.sendInGameChat,tooltipContent:"Users may send messages during game from the Discord channel. Not recommended."}}),t.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),{c(){V(t.$$.fragment)},m(l,a){B(t,l,a),n=!0},p(l,a){e=l;const o={};a&2&&(o.checked=e[1].discord.sendInGameChat),t.$set(o)},i(l){n||(O(t.$$.fragment,l),n=!0)},o(l){D(t.$$.fragment,l),n=!1},d(l){q(t,l)}}}function oi(e){let t,n,l,a,o,c,r,u,f,b,p,m,v;p=new ge({props:{key:"discordEnabled",frontFacingName:"Discord Integration",checked:e[1].discord.enabled}}),p.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)});let h=e[1].discord.enabled&&tl(e);return{c(){t=d("form"),n=d("div"),l=d("img"),o=w(),c=d("span"),c.textContent="Discord",r=w(),u=d("div"),f=d("div"),b=d("div"),V(p.$$.fragment),m=w(),h&&h.c(),s(l,"class","float-left p-2"),Ht(l.src,a=At)||s(l,"src",a),s(c,"class","flex-1"),s(n,"class","d-flex justify-content-center text-4xl text-active-text"),s(b,"class","d-flex justify-content-center"),s(f,"class","col"),s(u,"class","row"),s(t,"name","discord"),s(t,"class","p-2")},m(_,y){M(_,t,y),i(t,n),i(n,l),i(n,o),i(n,c),i(t,r),i(t,u),i(u,f),i(f,b),B(p,b,null),i(t,m),h&&h.m(t,null),v=!0},p(_,[y]){e=_;const C={};y&2&&(C.checked=e[1].discord.enabled),p.$set(C),e[1].discord.enabled?h?(h.p(e,y),y&2&&O(h,1)):(h=tl(e),h.c(),O(h,1),h.m(t,null)):h&&(Ne(),D(h,1,1,()=>{h=null}),Pe())},i(_){v||(O(p.$$.fragment,_),O(h),v=!0)},o(_){D(p.$$.fragment,_),D(h),v=!1},d(_){_&&E(t),q(p),h&&h.d()}}}function si(e,t,n){let l;lt(e,ot,o=>n(1,l=o));let{onInputChange:a}=t;return e.$$set=o=>{"onInputChange"in o&&n(0,a=o.onInputChange)},[a,l]}class ri extends Re{constructor(t){super(),Me(this,t,si,oi,Ie,{onInputChange:0})}}function il(e,t,n){const l=e.slice();return l[6]=t[n],l}function ol(e){let t,n,l,a,o,c,r,u,f,b=["mysql","mariadb","sqlite"].includes(e[2].elo.type),p,m,v,h,_,y,C,H,g,$,S,N,T,k,L;const A=[fi,ui],P=[];function R(Q,Y){return Y&4&&(c=null),c==null&&(c=!!["mysql","mariadb"].includes(Q[2].elo.type)),c?0:Q[2].elo.type==="sqlite"?1:-1}~(r=R(e,-1))&&(u=P[r]=A[r](e));let U=b&&sl(e),J=e[2].autoHost.type!=="off"&&rl(e);h=new ge({props:{key:"balanceTeams",frontFacingName:"Balance teams",checked:e[2].elo.balanceTeams,tooltipContent:"Balance teams based off ELO. Only tested with 2 teams."}}),h.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),y=new ge({props:{key:"excludeHostFromSwap",frontFacingName:"Don't swap host",checked:e[2].elo.excludeHostFromSwap,tooltipContent:"Will not swap the local user during auto balancing."}}),y.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)});let G=e[2].elo.type==="wc3stats"&&dl(e);g=new ge({props:{key:"announce",frontFacingName:"Announce Stats",checked:e[2].elo.announce,tooltipContent:"Announce stats to the lobby."}}),g.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),S=new ge({props:{frontFacingName:"Hide ELO",key:"hideElo",tooltipContent:"Will hide ELO from all channels.",checked:e[2].elo.hideElo}}),S.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),T=new ge({props:{key:"requireStats",frontFacingName:"Require Stats",checked:e[2].elo.requireStats,tooltipContent:"Will require minimum stats of games/wins/rank/rating in order to join the lobby."}}),T.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)});let F=e[2].elo.requireStats&&ml(e);return{c(){t=d("div"),n=d("div"),l=d("div"),a=d("div"),a.textContent="ELO Settings",o=w(),u&&u.c(),f=w(),U&&U.c(),p=w(),J&&J.c(),m=w(),v=d("div"),V(h.$$.fragment),_=w(),V(y.$$.fragment),C=w(),G&&G.c(),H=w(),V(g.$$.fragment),$=w(),V(S.$$.fragment),N=w(),V(T.$$.fragment),k=w(),F&&F.c(),s(a,"class","d-flex justify-content-center"),s(v,"class","grid grid-cols-4"),nt(v,"flex-wrap","wrap"),s(v,"role","group"),s(l,"class","col"),s(n,"class","row"),s(t,"id","eloSettings"),s(t,"class","border p-2")},m(Q,Y){M(Q,t,Y),i(t,n),i(n,l),i(l,a),i(l,o),~r&&P[r].m(l,null),i(l,f),U&&U.m(l,null),i(l,p),J&&J.m(l,null),i(l,m),i(l,v),B(h,v,null),i(v,_),B(y,v,null),i(v,C),G&&G.m(v,null),i(v,H),B(g,v,null),i(v,$),B(S,v,null),i(v,N),B(T,v,null),i(t,k),F&&F.m(t,null),L=!0},p(Q,Y){e=Q;let te=r;r=R(e,Y),r===te?~r&&P[r].p(e,Y):(u&&(Ne(),D(P[te],1,1,()=>{P[te]=null}),Pe()),~r?(u=P[r],u?u.p(e,Y):(u=P[r]=A[r](e),u.c()),O(u,1),u.m(l,f)):u=null),Y&4&&(b=["mysql","mariadb","sqlite"].includes(e[2].elo.type)),b?U?(U.p(e,Y),Y&4&&O(U,1)):(U=sl(e),U.c(),O(U,1),U.m(l,p)):U&&(Ne(),D(U,1,1,()=>{U=null}),Pe()),e[2].autoHost.type!=="off"?J?J.p(e,Y):(J=rl(e),J.c(),J.m(l,m)):J&&(J.d(1),J=null);const se={};Y&4&&(se.checked=e[2].elo.balanceTeams),h.$set(se);const me={};Y&4&&(me.checked=e[2].elo.excludeHostFromSwap),y.$set(me),e[2].elo.type==="wc3stats"?G?(G.p(e,Y),Y&4&&O(G,1)):(G=dl(e),G.c(),O(G,1),G.m(v,H)):G&&(Ne(),D(G,1,1,()=>{G=null}),Pe());const ue={};Y&4&&(ue.checked=e[2].elo.announce),g.$set(ue);const ye={};Y&4&&(ye.checked=e[2].elo.hideElo),S.$set(ye);const ve={};Y&4&&(ve.checked=e[2].elo.requireStats),T.$set(ve),e[2].elo.requireStats?F?F.p(e,Y):(F=ml(e),F.c(),F.m(t,null)):F&&(F.d(1),F=null)},i(Q){L||(O(u),O(U),O(h.$$.fragment,Q),O(y.$$.fragment,Q),O(G),O(g.$$.fragment,Q),O(S.$$.fragment,Q),O(T.$$.fragment,Q),L=!0)},o(Q){D(u),D(U),D(h.$$.fragment,Q),D(y.$$.fragment,Q),D(G),D(g.$$.fragment,Q),D(S.$$.fragment,Q),D(T.$$.fragment,Q),L=!1},d(Q){Q&&E(t),~r&&P[r].d(),U&&U.d(),J&&J.d(),q(h),q(y),G&&G.d(),q(g),q(S),q(T),F&&F.d()}}}function ui(e){let t,n,l;return n=new Ee({props:{frontFacingName:"Sqlite Path",key:"sqlitePath",placeholder:"Absolute Path",value:e[2].elo.sqlitePath}}),n.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),{c(){t=d("div"),V(n.$$.fragment),s(t,"class","row")},m(a,o){M(a,t,o),B(n,t,null),l=!0},p(a,o){e=a;const c={};o&4&&(c.value=e[2].elo.sqlitePath),n.$set(c)},i(a){l||(O(n.$$.fragment,a),l=!0)},o(a){D(n.$$.fragment,a),l=!1},d(a){a&&E(t),q(n)}}}function fi(e){let t,n,l,a,o,c,r,u,f,b,p,m,v,h,_,y,C,H,g,$,S,N,T;return _=new Ee({props:{frontFacingName:"Database User",key:"dbUser",value:e[2].elo.dbUser}}),_.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),C=new Ee({props:{frontFacingName:"Database Pass",placeholder:"Password",key:"dbPassword",value:e[2].elo.dbPassword}}),C.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),$=new Ee({props:{frontFacingName:"Databse Name",key:"dbName",value:e[2].elo.dbName}}),$.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),{c(){t=d("div"),n=d("div"),l=d("label"),l.textContent="Databse Address",a=w(),o=d("input"),r=w(),u=d("div"),f=d("label"),f.textContent="Databse Port",b=w(),p=d("input"),v=w(),h=d("div"),V(_.$$.fragment),y=w(),V(C.$$.fragment),H=w(),g=d("div"),V($.$$.fragment),s(l,"for","dbIP"),s(o,"type","text"),s(o,"class","form-control"),s(o,"id","dbIP"),s(o,"placeholder",""),o.value=c=e[2].elo.dbIP,s(n,"class","col"),s(f,"for","dbPort"),s(p,"type","number"),s(p,"class","form-control"),s(p,"id","dbPort"),s(p,"min","20"),s(p,"max","25565"),p.value=m=e[2].elo.dbPort,s(u,"class","col"),s(t,"class","row"),s(h,"class","row"),s(g,"class","row")},m(k,L){M(k,t,L),i(t,n),i(n,l),i(n,a),i(n,o),i(t,r),i(t,u),i(u,f),i(u,b),i(u,p),M(k,v,L),M(k,h,L),B(_,h,null),i(h,y),B(C,h,null),M(k,H,L),M(k,g,L),B($,g,null),S=!0,N||(T=[x(o,"change",function(){W(e[0])&&e[0].apply(this,arguments)}),x(p,"change",e[4])],N=!0)},p(k,L){e=k,(!S||L&4&&c!==(c=e[2].elo.dbIP)&&o.value!==c)&&(o.value=c),(!S||L&4&&m!==(m=e[2].elo.dbPort)&&p.value!==m)&&(p.value=m);const A={};L&4&&(A.value=e[2].elo.dbUser),_.$set(A);const P={};L&4&&(P.value=e[2].elo.dbPassword),C.$set(P);const R={};L&4&&(R.value=e[2].elo.dbName),$.$set(R)},i(k){S||(O(_.$$.fragment,k),O(C.$$.fragment,k),O($.$$.fragment,k),S=!0)},o(k){D(_.$$.fragment,k),D(C.$$.fragment,k),D($.$$.fragment,k),S=!1},d(k){k&&(E(t),E(v),E(h),E(H),E(g)),q(_),q(C),q($),N=!1,Oe(T)}}}function sl(e){let t,n,l,a,o,c,r,u,f,b,p,m,v,h,_,y,C,H,g,$,S,N,T,k,L,A,P,R,U,J,G,F,Q,Y,te,se,me,ue,ye,ve,_e,ee,ae,I,j,ke,be,ce,re,z,he,de,X,K,le,ie,ne,pe,He;return se=new Ee({props:{frontFacingName:"Rank",key:"dbRankColumn",value:e[2].elo.dbRankColumn}}),se.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),ue=new Ee({props:{frontFacingName:"Played",key:"dbPlayedColumn",value:e[2].elo.dbPlayedColumn}}),ue.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),ve=new Ee({props:{frontFacingName:"Wins",key:"dbWonColumn",value:e[2].elo.dbWonColumn}}),ve.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),j=new Ee({props:{frontFacingName:"Season Column",placeholder:"Season Column",key:"dbSeasonColumn",value:e[2].elo.dbSeasonColumn}}),j.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),be=new Ee({props:{frontFacingName:"Use Season",placeholder:"Default: Desc Order",key:"dbCurrentSeason",value:e[2].elo.dbCurrentSeason}}),be.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),de=new Ee({props:{frontFacingName:"Join Table (2)",key:"dbSecondaryTable",placeholder:"Secondary Table",value:e[2].elo.dbSecondaryTable}}),de.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),K=new Ee({props:{frontFacingName:"Table 1 Key",key:"dbPrimaryTableKey",value:e[2].elo.dbPrimaryTableKey}}),K.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),ie=new Ee({props:{frontFacingName:"Table 2 Key",key:"dbSecondaryTableKey",value:e[2].elo.dbSecondaryTableKey}}),ie.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),{c(){t=d("div"),n=d("div"),l=d("label"),l.textContent="Default Elo",a=w(),o=d("input"),r=w(),u=d("div"),f=d("div"),f.textContent="Column Mappings",b=w(),p=d("div"),m=d("div"),v=d("label"),v.textContent="User Table",h=w(),_=d("input"),C=w(),H=d("div"),g=d("label"),g.textContent="Username",$=w(),S=d("input"),T=w(),k=d("div"),L=d("label"),L.textContent="ELO/Rating",A=w(),P=d("input"),U=w(),J=d("div"),J.innerHTML='<div class="col text-center">Optional (Blank to disable)</div>',G=w(),F=d("div"),Q=d("div"),Q.textContent="Extra Column Mappings",Y=w(),te=d("div"),V(se.$$.fragment),me=w(),V(ue.$$.fragment),ye=w(),V(ve.$$.fragment),_e=w(),ee=d("div"),ee.textContent="Seasons",ae=w(),I=d("div"),V(j.$$.fragment),ke=w(),V(be.$$.fragment),ce=w(),re=d("div"),re.innerHTML='<div class="col text-center">Advanced</div>',z=w(),he=d("div"),V(de.$$.fragment),X=w(),V(K.$$.fragment),le=w(),V(ie.$$.fragment),s(l,"for","dbDefaultElo"),s(o,"type","number"),s(o,"class","form-control"),s(o,"id","dbDefaultElo"),s(o,"placeholder","0 for none"),o.value=c=e[2].elo.dbDefaultElo,s(n,"class","col"),s(t,"class","row"),s(f,"class","text-center"),s(v,"for","dbTableName"),s(_,"type","text"),s(_,"class","form-control"),s(_,"id","dbTableName"),s(_,"placeholder","User Table"),_.value=y=e[2].elo.dbTableName,s(m,"class","col"),s(g,"for","dbUserColumn"),s(S,"type","text"),s(S,"class","form-control"),s(S,"id","dbUserColumn"),s(S,"placeholder","Username Column"),S.value=N=e[2].elo.dbUserColumn,s(H,"class","col"),s(L,"for","dbELOColumn"),s(P,"type","text"),s(P,"class","form-control"),s(P,"id","dbELOColumn"),s(P,"placeholder","ELO Column"),P.value=R=e[2].elo.dbELOColumn,s(k,"class","col"),s(p,"class","row"),s(J,"class","row pt-2"),s(Q,"class","text-center"),s(te,"class","row"),s(ee,"class","text-center"),s(I,"class","row"),s(re,"class","row pt-2"),s(he,"class","row"),s(F,"class","border m-1 p-1"),s(u,"class","border m-2 p-2")},m($e,Se){M($e,t,Se),i(t,n),i(n,l),i(n,a),i(n,o),M($e,r,Se),M($e,u,Se),i(u,f),i(u,b),i(u,p),i(p,m),i(m,v),i(m,h),i(m,_),i(p,C),i(p,H),i(H,g),i(H,$),i(H,S),i(p,T),i(p,k),i(k,L),i(k,A),i(k,P),i(u,U),i(u,J),i(u,G),i(u,F),i(F,Q),i(F,Y),i(F,te),B(se,te,null),i(te,me),B(ue,te,null),i(te,ye),B(ve,te,null),i(F,_e),i(F,ee),i(F,ae),i(F,I),B(j,I,null),i(I,ke),B(be,I,null),i(F,ce),i(F,re),i(F,z),i(F,he),B(de,he,null),i(he,X),B(K,he,null),i(he,le),B(ie,he,null),ne=!0,pe||(He=[x(o,"change",function(){W(e[1])&&e[1].apply(this,arguments)}),x(_,"change",function(){W(e[0])&&e[0].apply(this,arguments)}),x(S,"change",function(){W(e[0])&&e[0].apply(this,arguments)}),x(P,"change",function(){W(e[0])&&e[0].apply(this,arguments)})],pe=!0)},p($e,Se){e=$e,(!ne||Se&4&&c!==(c=e[2].elo.dbDefaultElo)&&o.value!==c)&&(o.value=c),(!ne||Se&4&&y!==(y=e[2].elo.dbTableName)&&_.value!==y)&&(_.value=y),(!ne||Se&4&&N!==(N=e[2].elo.dbUserColumn)&&S.value!==N)&&(S.value=N),(!ne||Se&4&&R!==(R=e[2].elo.dbELOColumn)&&P.value!==R)&&(P.value=R);const xe={};Se&4&&(xe.value=e[2].elo.dbRankColumn),se.$set(xe);const Ke={};Se&4&&(Ke.value=e[2].elo.dbPlayedColumn),ue.$set(Ke);const ut={};Se&4&&(ut.value=e[2].elo.dbWonColumn),ve.$set(ut);const at={};Se&4&&(at.value=e[2].elo.dbSeasonColumn),j.$set(at);const et={};Se&4&&(et.value=e[2].elo.dbCurrentSeason),be.$set(et);const ze={};Se&4&&(ze.value=e[2].elo.dbSecondaryTable),de.$set(ze);const Nt={};Se&4&&(Nt.value=e[2].elo.dbPrimaryTableKey),K.$set(Nt);const mt={};Se&4&&(mt.value=e[2].elo.dbSecondaryTableKey),ie.$set(mt)},i($e){ne||(O(se.$$.fragment,$e),O(ue.$$.fragment,$e),O(ve.$$.fragment,$e),O(j.$$.fragment,$e),O(be.$$.fragment,$e),O(de.$$.fragment,$e),O(K.$$.fragment,$e),O(ie.$$.fragment,$e),ne=!0)},o($e){D(se.$$.fragment,$e),D(ue.$$.fragment,$e),D(ve.$$.fragment,$e),D(j.$$.fragment,$e),D(be.$$.fragment,$e),D(de.$$.fragment,$e),D(K.$$.fragment,$e),D(ie.$$.fragment,$e),ne=!1},d($e){$e&&(E(t),E(r),E(u)),q(se),q(ue),q(ve),q(j),q(be),q(de),q(K),q(ie),pe=!1,Oe(He)}}}function rl(e){let t,n,l;function a(u,f){return u[2].elo.available?di:ci}let o=a(e),c=o(e),r=e[2].elo.type==="wc3stats"&&e[2].elo.available&&ul(e);return{c(){t=d("div"),c.c(),n=w(),r&&r.c(),l=bt(),s(t,"class","d-flex justify-content-center")},m(u,f){M(u,t,f),c.m(t,null),M(u,n,f),r&&r.m(u,f),M(u,l,f)},p(u,f){o===(o=a(u))&&c?c.p(u,f):(c.d(1),c=o(u),c&&(c.c(),c.m(t,null))),u[2].elo.type==="wc3stats"&&u[2].elo.available?r?r.p(u,f):(r=ul(u),r.c(),r.m(l.parentNode,l)):r&&(r.d(1),r=null)},d(u){u&&(E(t),E(n),E(l)),c.d(),r&&r.d(u)}}}function ci(e){let t;return{c(){t=d("div"),t.textContent="ELO not found! Reach out to me on discord",s(t,"class","badge bg-danger")},m(n,l){M(n,t,l)},p:Ce,d(n){n&&E(t)}}}function di(e){let t;function n(o,c){return o[2].elo.type==="wc3stats"?pi:mi}let l=n(e),a=l(e);return{c(){t=d("div"),a.c(),s(t,"class","badge bg-success")},m(o,c){M(o,t,c),a.m(t,null)},p(o,c){l===(l=n(o))&&a?a.p(o,c):(a.d(1),a=l(o),a&&(a.c(),a.m(t,null)))},d(o){o&&E(t),a.d()}}}function mi(e){let t;return{c(){t=Z("ELO Available!")},m(n,l){M(n,t,l)},p:Ce,d(n){n&&E(t)}}}function pi(e){let t,n,l;return{c(){t=d("a"),n=Z("ELO Available!"),s(t,"href",l="https://api.wc3stats.com/maps/"+e[2].elo.lookupName)},m(a,o){M(a,t,o),i(t,n)},p(a,o){o&4&&l!==(l="https://api.wc3stats.com/maps/"+a[2].elo.lookupName)&&s(t,"href",l)},d(a){a&&E(t)}}}function ul(e){let t,n,l,a,o,c,r,u,f,b={ctx:e,current:null,token:null,hasCatch:!1,pending:bi,then:gi,catch:hi,value:5};xl(e[3],b);let p=e[2].elo.handleReplays&&cl(e);return{c(){t=d("div"),n=d("label"),n.textContent="Wc3stats Variant",l=w(),a=d("select"),b.block.c(),c=w(),p&&p.c(),r=bt(),s(n,"for","wc3statsOptions"),s(a,"class","form-select"),s(a,"id","wc3statsOptions"),s(t,"class","d-flex justify-content-center")},m(m,v){M(m,t,v),i(t,n),i(t,l),i(t,a),b.block.m(a,b.anchor=null),b.mount=()=>a,b.anchor=null,qe(a,e[2].elo.wc3StatsVariant),M(m,c,v),p&&p.m(m,v),M(m,r,v),u||(f=x(a,"change",function(){W(e[0])&&e[0].apply(this,arguments)}),u=!0)},p(m,v){e=m,ea(b,e,v),v&4&&o!==(o=e[2].elo.wc3StatsVariant)&&qe(a,e[2].elo.wc3StatsVariant),e[2].elo.handleReplays?p?p.p(e,v):(p=cl(e),p.c(),p.m(r.parentNode,r)):p&&(p.d(1),p=null)},d(m){m&&(E(t),E(c),E(r)),b.block.d(),b.token=null,b=null,p&&p.d(m),u=!1,f()}}}function hi(e){return{c:Ce,m:Ce,p:Ce,d:Ce}}function gi(e){let t,n,l,a,o=Ge(e[5]),c=[];for(let r=0;r<o.length;r+=1)c[r]=fl(il(e,o,r));return{c(){t=d("option"),n=Z("Select a value");for(let r=0;r<c.length;r+=1)c[r].c();a=bt(),t.__value="",we(t,t.__value),t.selected=l=e[2].elo.wc3StatsVariant===""},m(r,u){M(r,t,u),i(t,n);for(let f=0;f<c.length;f+=1)c[f]&&c[f].m(r,u);M(r,a,u)},p(r,u){if(u&4&&l!==(l=r[2].elo.wc3StatsVariant==="")&&(t.selected=l),u&12){o=Ge(r[5]);let f;for(f=0;f<o.length;f+=1){const b=il(r,o,f);c[f]?c[f].p(b,u):(c[f]=fl(b),c[f].c(),c[f].m(a.parentNode,a))}for(;f<c.length;f+=1)c[f].d(1);c.length=o.length}},d(r){r&&(E(t),E(a)),dt(c,r)}}}function fl(e){let t,n=e[6].key.ladder+"",l,a,o=e[6].key.mode+"",c,r,u=e[6].key.round+"",f,b,p=e[6].key.season+"",m,v;return{c(){t=d("option"),l=Z(n),a=Z(", "),c=Z(o),r=Z(", "),f=Z(u),b=Z(", "),m=Z(p),t.selected=v=JSON.stringify(e[6].key)===e[2].elo.wc3StatsVariant,t.__value=JSON.stringify(e[6].key),we(t,t.__value)},m(h,_){M(h,t,_),i(t,l),i(t,a),i(t,c),i(t,r),i(t,f),i(t,b),i(t,m)},p(h,_){_&4&&v!==(v=JSON.stringify(h[6].key)===h[2].elo.wc3StatsVariant)&&(t.selected=v)},d(h){h&&E(t)}}}function bi(e){let t;return{c(){t=d("option"),t.textContent="Fetching options...",t.__value="Fetching options...",we(t,t.__value)},m(n,l){M(n,t,l)},p:Ce,d(n){n&&E(t)}}}function cl(e){let t,n,l,a,o,c,r,u;return{c(){t=d("div"),n=d("div"),l=d("label"),l.textContent="Private Key",a=w(),o=d("input"),s(l,"for","eloPrivateKey"),s(o,"type","text"),s(o,"class","form-control"),s(o,"id","eloPrivateKey"),s(o,"placeholder","Optional"),o.value=c=e[2].elo.privateKey,s(n,"class","col"),s(t,"class","row")},m(f,b){M(f,t,b),i(t,n),i(n,l),i(n,a),i(n,o),r||(u=x(o,"change",function(){W(e[0])&&e[0].apply(this,arguments)}),r=!0)},p(f,b){e=f,b&4&&c!==(c=e[2].elo.privateKey)&&o.value!==c&&(o.value=c)},d(f){f&&E(t),r=!1,u()}}}function dl(e){let t,n;return t=new ge({props:{key:"handleReplays",frontFacingName:"Handle Replays",checked:e[2].elo.handleReplays,tooltipContent:"Automatically handle upload to wc3stats.com at the end of each game."}}),t.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),{c(){V(t.$$.fragment)},m(l,a){B(t,l,a),n=!0},p(l,a){e=l;const o={};a&4&&(o.checked=e[2].elo.handleReplays),t.$set(o)},i(l){n||(O(t.$$.fragment,l),n=!0)},o(l){D(t.$$.fragment,l),n=!1},d(l){q(t,l)}}}function ml(e){let t,n,l,a,o,c,r,u,f,b,p,m,v,h,_,y,C,H,g,$,S,N,T,k,L,A;return{c(){t=d("div"),n=d("div"),l=d("label"),l.textContent="Min Rank",a=w(),o=d("input"),r=w(),u=d("div"),f=d("label"),f.textContent="Min Games",b=w(),p=d("input"),v=w(),h=d("div"),_=d("label"),_.textContent="Min Wins",y=w(),C=d("input"),g=w(),$=d("div"),S=d("label"),S.textContent="Min Rating",N=w(),T=d("input"),s(l,"for","minRank"),s(o,"type","number"),s(o,"class","form-control"),s(o,"id","minRank"),s(o,"placeholder","0 for none"),o.value=c=e[2].elo.minRank,s(n,"class","col"),s(f,"for","minGames"),s(p,"type","number"),s(p,"class","form-control"),s(p,"id","minGames"),s(p,"placeholder","Minimum Games Played"),p.value=m=e[2].elo.minGames,s(u,"class","col"),s(_,"for","minWins"),s(C,"type","number"),s(C,"class","form-control"),s(C,"id","minWins"),s(C,"placeholder","Minimum Wins"),C.value=H=e[2].elo.minWins,s(h,"class","col"),s(S,"for","minRating"),s(T,"type","number"),s(T,"class","form-control"),s(T,"id","minRating"),s(T,"placeholder","Minimum Rating"),T.value=k=e[2].elo.minRating,s($,"class","col"),s(t,"class","row")},m(P,R){M(P,t,R),i(t,n),i(n,l),i(n,a),i(n,o),i(t,r),i(t,u),i(u,f),i(u,b),i(u,p),i(t,v),i(t,h),i(h,_),i(h,y),i(h,C),i(t,g),i(t,$),i($,S),i($,N),i($,T),L||(A=[x(o,"change",function(){W(e[1])&&e[1].apply(this,arguments)}),x(p,"change",function(){W(e[1])&&e[1].apply(this,arguments)}),x(C,"change",function(){W(e[1])&&e[1].apply(this,arguments)}),x(T,"change",function(){W(e[1])&&e[1].apply(this,arguments)})],L=!0)},p(P,R){e=P,R&4&&c!==(c=e[2].elo.minRank)&&o.value!==c&&(o.value=c),R&4&&m!==(m=e[2].elo.minGames)&&p.value!==m&&(p.value=m),R&4&&H!==(H=e[2].elo.minWins)&&C.value!==H&&(C.value=H),R&4&&k!==(k=e[2].elo.minRating)&&T.value!==k&&(T.value=k)},d(P){P&&E(t),L=!1,Oe(A)}}}function vi(e){let t,n,l,a,o,c,r,u,f,b,p,m,v,h,_,y,C,H,g,$,S,N,T,k=e[2].elo.type!=="off"&&ol(e);return{c(){t=d("form"),n=d("div"),l=d("img"),o=w(),c=d("span"),c.textContent="ELO",r=w(),u=d("div"),f=d("div"),b=d("label"),b.textContent="ELO Lookup",p=w(),m=d("select"),v=d("option"),v.textContent="Disabled",h=d("option"),h.textContent="wc3stats.com",_=d("option"),_.textContent="MariaDB",y=d("option"),y.textContent="MySQL",C=d("option"),C.textContent="Sqlite",H=d("option"),H.textContent="Random (Test mode)",$=w(),k&&k.c(),s(l,"class","float-left p-2"),Ht(l.src,a=At)||s(l,"src",a),s(c,"class","flex-1"),s(n,"class","d-flex justify-content-center text-4xl text-active-text"),s(b,"for","eloType"),s(b,"class","form-label"),v.__value="off",we(v,v.__value),h.__value="wc3stats",we(h,h.__value),_.__value="mariadb",we(_,_.__value),y.__value="mysql",we(y,y.__value),C.__value="sqlite",we(C,C.__value),H.__value="random",we(H,H.__value),s(m,"id","eloType"),s(m,"class","form-select"),s(f,"class","col"),s(u,"class","row"),s(t,"name","elo"),s(t,"class","p-2")},m(L,A){M(L,t,A),i(t,n),i(n,l),i(n,o),i(n,c),i(t,r),i(t,u),i(u,f),i(f,b),i(f,p),i(f,m),i(m,v),i(m,h),i(m,_),i(m,y),i(m,C),i(m,H),qe(m,e[2].elo.type),i(t,$),k&&k.m(t,null),S=!0,N||(T=x(m,"change",function(){W(e[0])&&e[0].apply(this,arguments)}),N=!0)},p(L,[A]){e=L,(!S||A&4&&g!==(g=e[2].elo.type))&&qe(m,e[2].elo.type),e[2].elo.type!=="off"?k?(k.p(e,A),A&4&&O(k,1)):(k=ol(e),k.c(),O(k,1),k.m(t,null)):k&&(Ne(),D(k,1,1,()=>{k=null}),Pe())},i(L){S||(O(k),S=!0)},o(L){D(k),S=!1},d(L){L&&E(t),k&&k.d(),N=!1,T()}}}async function yi(e){let n=await(await fetch("https://api.wc3stats.com/maps/"+e)).json();return n.body.variants?n.body.variants[0].stats:[]}function _i(e,t,n){let l;lt(e,ot,u=>n(2,l=u));let{onInputChange:a}=t,{updateNumber:o}=t,c=yi(l.elo.lookupName);const r=u=>o(u,20);return e.$$set=u=>{"onInputChange"in u&&n(0,a=u.onInputChange),"updateNumber"in u&&n(1,o=u.updateNumber)},[a,o,l,c,r]}class ki extends Re{constructor(t){super(),Me(this,t,_i,vi,Ie,{onInputChange:0,updateNumber:1})}}function pl(e){let t,n,l,a,o,c,r,u,f,b,p,m,v,h,_,y,C,H,g,$,S,N,T=(e[1].autoHost.type!=="smartHost"||e[1].autoHost.leaveAlternate===!1)&&hl(e);c=new ge({props:{key:"textSource",frontFacingName:"Text Source",checked:e[1].obs.textSource,tooltipContent:"Create a text source in the Documents folder that contains all lobby players and their stats."}}),c.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)});function k(P,R){if(P[1].obs.sceneSwitchType==="hotkeys")return $i;if(P[1].obs.sceneSwitchType==="websockets")return wi}let L=k(e),A=L&&L(e);return{c(){t=d("div"),n=d("div"),l=d("div"),a=d("div"),T&&T.c(),o=w(),V(c.$$.fragment),r=w(),u=d("div"),u.innerHTML=`<div class="col"><strong>Auto Stream:</strong> Presses SpaceBar in slightly randomized
            intervals to jump to POIs. Incompatible with intrusive check.<br/><strong>Text source:</strong> Outputs loby data to Documents/wc3mt.txt.</div>`,f=w(),b=d("div"),p=d("div"),m=d("label"),m.textContent="Scene Switch Type",v=w(),h=d("select"),_=d("option"),_.textContent="Disabled",y=d("option"),y.textContent="Simulate Hotkeys",C=d("option"),C.textContent="OBS Websockets(Recommended)",g=w(),A&&A.c(),s(a,"class","btn-group btn-group-sm w-100 py-1"),s(a,"role","group"),s(l,"class","col"),s(u,"class","row"),s(n,"class","row"),s(m,"for","obsSelect"),s(m,"class","form-label"),_.__value="off",we(_,_.__value),_.selected=!0,y.__value="hotkeys",we(y,y.__value),C.__value="websockets",we(C,C.__value),s(h,"id","obsSelect"),s(h,"class","form-select"),s(p,"class","col"),s(b,"class","row"),s(t,"class","border m-2 p-2")},m(P,R){M(P,t,R),i(t,n),i(n,l),i(l,a),T&&T.m(a,null),i(a,o),B(c,a,null),i(n,r),i(n,u),i(t,f),i(t,b),i(b,p),i(p,m),i(p,v),i(p,h),i(h,_),i(h,y),i(h,C),qe(h,e[1].obs.sceneSwitchType),i(t,g),A&&A.m(t,null),$=!0,S||(N=x(h,"change",function(){W(e[0])&&e[0].apply(this,arguments)}),S=!0)},p(P,R){e=P,e[1].autoHost.type!=="smartHost"||e[1].autoHost.leaveAlternate===!1?T?(T.p(e,R),R&2&&O(T,1)):(T=hl(e),T.c(),O(T,1),T.m(a,o)):T&&(Ne(),D(T,1,1,()=>{T=null}),Pe());const U={};R&2&&(U.checked=e[1].obs.textSource),c.$set(U),(!$||R&2&&H!==(H=e[1].obs.sceneSwitchType))&&qe(h,e[1].obs.sceneSwitchType),L===(L=k(e))&&A?A.p(e,R):(A&&A.d(1),A=L&&L(e),A&&(A.c(),A.m(t,null)))},i(P){$||(O(T),O(c.$$.fragment,P),$=!0)},o(P){D(T),D(c.$$.fragment,P),$=!1},d(P){P&&E(t),T&&T.d(),q(c),A&&A.d(),S=!1,N()}}}function hl(e){let t,n;return t=new ge({props:{key:"autoStream",frontFacingName:"Auto Stream (Beta)",checked:e[1].obs.autoStream,tooltipContent:"Periodically hit spacebar to jump to POIs"}}),t.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),{c(){V(t.$$.fragment)},m(l,a){B(t,l,a),n=!0},p(l,a){e=l;const o={};a&2&&(o.checked=e[1].obs.autoStream),t.$set(o)},i(l){n||(O(t.$$.fragment,l),n=!0)},o(l){D(t.$$.fragment,l),n=!1},d(l){q(t,l)}}}function wi(e){let t,n,l,a,o,c,r,u,f,b,p,m,v,h,_,y,C,H,g,$,S,N,T,k,L,A,P,R,U,J;return{c(){t=d("div"),n=d("div"),l=d("div"),a=d("label"),a.textContent="OBS Address(Blank for unchanged)",o=w(),c=d("input"),u=w(),f=d("div"),b=d("div"),p=d("label"),p.textContent="OBS Password(Optional)",m=w(),v=d("input"),_=w(),y=d("div"),C=d("div"),H=d("label"),H.textContent="In Game Scene Name",g=w(),$=d("input"),N=w(),T=d("div"),k=d("div"),L=d("label"),L.textContent="Out of Game Scene Name",A=w(),P=d("input"),s(a,"for","obsAddress"),s(c,"type","text"),s(c,"class","form-control"),s(c,"id","obsAddress"),s(c,"placeholder","ip:port"),c.value=r=e[1].obs.address,s(l,"class","col"),s(n,"class","row"),s(p,"for","obsPassword"),s(v,"type","password"),s(v,"class","form-control"),s(v,"id","obsPassword"),s(v,"placeholder","Password"),v.value=h=e[1].obs.token,s(b,"class","col"),s(f,"class","row"),s(H,"for","inGameWSScene"),s($,"type","text"),s($,"class","form-control"),s($,"id","inGameWSScene"),s($,"placeholder","In Game Scene Name"),$.value=S=e[1].obs.inGameWSScene,s(C,"class","col"),s(y,"class","row"),s(L,"for","outOfGameWSScene"),s(P,"type","text"),s(P,"class","form-control"),s(P,"id","outOfGameWSScene"),s(P,"placeholder","Out of Game Scene Name"),P.value=R=e[1].obs.outOfGameWSScene,s(k,"class","col"),s(T,"class","row"),s(t,"class","border m-2")},m(G,F){M(G,t,F),i(t,n),i(n,l),i(l,a),i(l,o),i(l,c),i(t,u),i(t,f),i(f,b),i(b,p),i(b,m),i(b,v),i(t,_),i(t,y),i(y,C),i(C,H),i(C,g),i(C,$),i(t,N),i(t,T),i(T,k),i(k,L),i(k,A),i(k,P),U||(J=[x(c,"change",function(){W(e[0])&&e[0].apply(this,arguments)}),x(v,"change",function(){W(e[0])&&e[0].apply(this,arguments)}),x($,"change",function(){W(e[0])&&e[0].apply(this,arguments)}),x(P,"change",function(){W(e[0])&&e[0].apply(this,arguments)})],U=!0)},p(G,F){e=G,F&2&&r!==(r=e[1].obs.address)&&c.value!==r&&(c.value=r),F&2&&h!==(h=e[1].obs.token)&&v.value!==h&&(v.value=h),F&2&&S!==(S=e[1].obs.inGameWSScene)&&$.value!==S&&($.value=S),F&2&&R!==(R=e[1].obs.outOfGameWSScene)&&P.value!==R&&(P.value=R)},d(G){G&&E(t),U=!1,Oe(J)}}}function $i(e){let t,n,l,a,o,c,r,u,f,b,p,m,v,h,_,y,C,H;return{c(){t=d("div"),n=d("div"),n.textContent="OBS Hotkeys Settings",l=w(),a=d("div"),o=d("div"),c=d("label"),c.textContent="In game hotkey",r=w(),u=d("input"),b=w(),p=d("div"),m=d("div"),v=d("label"),v.textContent="Out of game hotkey",h=w(),_=d("input"),s(n,"class","col d-flex justify-content-center"),s(c,"for","inGameHotkey"),s(u,"type","text"),s(u,"class","form-control"),s(u,"id","inGameHotkey"),s(u,"placeholder","In game hotkey"),u.value=f=e[1].obs.inGameHotkey?(e[1].obs.inGameHotkey.shiftKey?"Shift + ":"")+(e[1].obs.inGameHotkey.ctrlKey?"Ctrl + ":"")+(e[1].obs.inGameHotkey.altKey?"Alt + ":"")+e[1].obs.inGameHotkey.key:"",s(o,"class","col"),s(a,"class","row"),s(v,"for","outOfGameHotkey"),s(_,"type","text"),s(_,"class","form-control"),s(_,"id","outOfGameHotkey"),s(_,"placeholder","Out of game hotkey"),_.value=y=e[1].obs.outOfGameHotkey?(e[1].obs.outOfGameHotkey.shiftKey?"Shift + ":"")+(e[1].obs.outOfGameHotkey.ctrlKey?"Ctrl + ":"")+(e[1].obs.outOfGameHotkey.altKey?"Alt + ":"")+e[1].obs.outOfGameHotkey.key:"",s(m,"class","col"),s(p,"class","row"),s(t,"class","row")},m(g,$){M(g,t,$),i(t,n),i(t,l),i(t,a),i(a,o),i(o,c),i(o,r),i(o,u),i(t,b),i(t,p),i(p,m),i(m,v),i(m,h),i(m,_),C||(H=[x(u,"keydown",e[4]),x(_,"keydown",e[5])],C=!0)},p(g,$){$&2&&f!==(f=g[1].obs.inGameHotkey?(g[1].obs.inGameHotkey.shiftKey?"Shift + ":"")+(g[1].obs.inGameHotkey.ctrlKey?"Ctrl + ":"")+(g[1].obs.inGameHotkey.altKey?"Alt + ":"")+g[1].obs.inGameHotkey.key:"")&&u.value!==f&&(u.value=f),$&2&&y!==(y=g[1].obs.outOfGameHotkey?(g[1].obs.outOfGameHotkey.shiftKey?"Shift + ":"")+(g[1].obs.outOfGameHotkey.ctrlKey?"Ctrl + ":"")+(g[1].obs.outOfGameHotkey.altKey?"Alt + ":"")+g[1].obs.outOfGameHotkey.key:"")&&_.value!==y&&(_.value=y)},d(g){g&&E(t),C=!1,Oe(H)}}}function Si(e){let t,n,l,a,o,c,r,u,f,b,p,m,v;f=new ge({props:{key:"obsEnabled",frontFacingName:"Enabled",checked:e[1].obs.enabled}}),f.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)});let h=e[1].obs.enabled&&pl(e);return{c(){t=d("form"),n=d("div"),l=d("img"),o=w(),c=d("span"),c.textContent="OBS",r=w(),u=d("span"),V(f.$$.fragment),b=w(),p=d("div"),p.innerHTML='<div class="col"><div class="d-flex justify-content-center"></div></div>',m=w(),h&&h.c(),s(l,"class","float-left p-2"),Ht(l.src,a=At)||s(l,"src",a),s(c,"class","flex-1 text-4xl text-active-text"),s(u,"class","flex-1 m-auto"),s(n,"class","d-flex justify-content-center"),s(p,"class","row"),s(t,"name","obs"),s(t,"class","p-2")},m(_,y){M(_,t,y),i(t,n),i(n,l),i(n,o),i(n,c),i(n,r),i(n,u),B(f,u,null),i(t,b),i(t,p),i(t,m),h&&h.m(t,null),v=!0},p(_,[y]){e=_;const C={};y&2&&(C.checked=e[1].obs.enabled),f.$set(C),e[1].obs.enabled?h?(h.p(e,y),y&2&&O(h,1)):(h=pl(e),h.c(),O(h,1),h.m(t,null)):h&&(Ne(),D(h,1,1,()=>{h=null}),Pe())},i(_){v||(O(f.$$.fragment,_),O(h),v=!0)},o(_){D(f.$$.fragment,_),D(h),v=!1},d(_){_&&E(t),q(f),h&&h.d()}}}function Ci(e,t,n){let l;lt(e,ot,f=>n(1,l=f));let{onInputChange:a}=t,{toMain:o}=t;function c(f,b){f.preventDefault();let p=!1;f.key.toLowerCase()!=="backspace"?f.key!=="Control"&&f.key!=="Meta"&&f.key!=="Alt"&&f.key!=="Shift"&&f.key!=="Tab"&&(f.target.value=(f.shiftKey?"Shift + ":"")+(f.ctrlKey?"Ctrl + ":"")+(f.altKey?"Alt + ":"")+f.key.toUpperCase(),p={shiftKey:f.shiftKey,ctrlKey:f.ctrlKey,altKey:f.altKey,key:f.key.toUpperCase()}):f.target.value="",p&&o({messageType:"updateSettingSingle",update:{obs:{[b]:p}}})}const r=f=>c(f,"inGameHotkey"),u=f=>c(f,"outOfGameHotkey");return e.$$set=f=>{"onInputChange"in f&&n(0,a=f.onInputChange),"toMain"in f&&n(3,o=f.toMain)},[a,l,c,o,r,u]}class Ti extends Re{constructor(t){super(),Me(this,t,Ci,Si,Ie,{onInputChange:0,toMain:3})}}function gl(e){let t,n,l,a,o,c,r,u,f,b,p,m,v,h,_,y,C,H,g,$,S,N;m=new ge({props:{key:"sendDonationsInGame",frontFacingName:"Send Tips in Game",checked:e[2].streaming.sendTipsInGame,tooltipContent:"Send tips in game. Not recommended."}}),m.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),h=new ge({props:{key:"sendTipsInLobby",frontFacingName:"Send Tips in Lobby",checked:e[2].streaming.sendTipsInLobby,tooltipContent:"Send tips in lobby."}}),h.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)}),y=new ge({props:{key:"sendTipsInDiscord",frontFacingName:"Send Tips in Discord",checked:e[2].streaming.sendTipsInDiscord,tooltipContent:"Send tips in Discord."}}),y.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)});let T=(e[2].streaming.sendTipsInGame||e[2].streaming.sendTipsInLobby||e[2].streaming.sendTipsInDiscord)&&bl(e);return{c(){t=d("div"),n=d("div"),l=d("div"),a=d("label"),a.textContent="Steam Elements Token",o=w(),c=d("input"),u=w(),f=d("div"),b=d("div"),p=d("div"),V(m.$$.fragment),v=w(),V(h.$$.fragment),_=w(),V(y.$$.fragment),C=w(),H=d("div"),g=d("div"),T&&T.c(),s(a,"for","seToken"),s(c,"type","password"),s(c,"class","form-control"),s(c,"id","seToken"),s(c,"placeholder","Stream Elements JWT Token"),c.value=r=e[2].streaming.seToken,s(l,"class","col"),s(n,"class","row"),s(p,"class","btn-group btn-group-sm w-100 py-1"),s(p,"role","group"),s(b,"class","col"),s(f,"class","row"),s(g,"class","col"),s(H,"class","row"),s(t,"class","border m-2 p-2")},m(k,L){M(k,t,L),i(t,n),i(n,l),i(l,a),i(l,o),i(l,c),i(t,u),i(t,f),i(f,b),i(b,p),B(m,p,null),i(p,v),B(h,p,null),i(p,_),B(y,p,null),i(t,C),i(t,H),i(H,g),T&&T.m(g,null),$=!0,S||(N=x(c,"change",function(){W(e[0])&&e[0].apply(this,arguments)}),S=!0)},p(k,L){e=k,(!$||L&4&&r!==(r=e[2].streaming.seToken)&&c.value!==r)&&(c.value=r);const A={};L&4&&(A.checked=e[2].streaming.sendTipsInGame),m.$set(A);const P={};L&4&&(P.checked=e[2].streaming.sendTipsInLobby),h.$set(P);const R={};L&4&&(R.checked=e[2].streaming.sendTipsInDiscord),y.$set(R),e[2].streaming.sendTipsInGame||e[2].streaming.sendTipsInLobby||e[2].streaming.sendTipsInDiscord?T?T.p(e,L):(T=bl(e),T.c(),T.m(g,null)):T&&(T.d(1),T=null)},i(k){$||(O(m.$$.fragment,k),O(h.$$.fragment,k),O(y.$$.fragment,k),$=!0)},o(k){D(m.$$.fragment,k),D(h.$$.fragment,k),D(y.$$.fragment,k),$=!1},d(k){k&&E(t),q(m),q(h),q(y),T&&T.d(),S=!1,N()}}}function bl(e){let t,n,l,a,o,c;return{c(){t=d("label"),t.textContent="Min for Tip Announce",n=w(),l=d("input"),s(t,"for","minInGameTip"),s(t,"class","form-label"),s(l,"type","number"),s(l,"id","minInGameTip"),s(l,"class","form-control"),s(l,"min","1"),l.value=a=e[2].streaming.minInGameTip},m(r,u){M(r,t,u),M(r,n,u),M(r,l,u),o||(c=x(l,"change",e[3]),o=!0)},p(r,u){u&4&&a!==(a=r[2].streaming.minInGameTip)&&l.value!==a&&(l.value=a)},d(r){r&&(E(t),E(n),E(l)),o=!1,c()}}}function Hi(e){let t,n,l,a,o,c,r,u,f,b,p;f=new ge({props:{key:"streamingEnabled",frontFacingName:"Enabled",checked:e[2].streaming.enabled}}),f.$on("change",function(){W(e[0])&&e[0].apply(this,arguments)});let m=e[2].streaming.enabled&&gl(e);return{c(){t=d("form"),n=d("div"),l=d("img"),o=w(),c=d("span"),c.textContent="Streaming",r=w(),u=d("span"),V(f.$$.fragment),b=w(),m&&m.c(),s(l,"class","float-left p-2"),Ht(l.src,a=At)||s(l,"src",a),s(c,"class","flex-1 text-4xl text-active-text"),s(u,"class","flex-1 m-auto"),s(n,"class","d-flex justify-content-center"),s(t,"name","streaming"),s(t,"class","p-2")},m(v,h){M(v,t,h),i(t,n),i(n,l),i(n,o),i(n,c),i(n,r),i(n,u),B(f,u,null),i(t,b),m&&m.m(t,null),p=!0},p(v,[h]){e=v;const _={};h&4&&(_.checked=e[2].streaming.enabled),f.$set(_),e[2].streaming.enabled?m?(m.p(e,h),h&4&&O(m,1)):(m=gl(e),m.c(),O(m,1),m.m(t,null)):m&&(Ne(),D(m,1,1,()=>{m=null}),Pe())},i(v){p||(O(f.$$.fragment,v),O(m),p=!0)},o(v){D(f.$$.fragment,v),D(m),p=!1},d(v){v&&E(t),q(f),m&&m.d()}}}function Ai(e,t,n){let l;lt(e,ot,r=>n(2,l=r));let{onInputChange:a}=t,{updateNumber:o}=t;const c=r=>o(r,1);return e.$$set=r=>{"onInputChange"in r&&n(0,a=r.onInputChange),"updateNumber"in r&&n(1,o=r.updateNumber)},[a,o,l,c]}class Ni extends Re{constructor(t){super(),Me(this,t,Ai,Hi,Ie,{onInputChange:0,updateNumber:1})}}function Pi(e){let t,n,l,a,o,c,r,u,f,b,p,m,v;return n=new ni({props:{onInputChange:e[0],updateNumber:e[1],toMain:xt,updateSettingSingle:e[2]}}),a=new ii({props:{onInputChange:e[0],updateSettingSingle:e[2]}}),c=new ri({props:{onInputChange:e[0]}}),u=new ki({props:{onInputChange:e[0],updateNumber:e[1]}}),b=new Ti({props:{onInputChange:e[0],toMain:xt}}),m=new Ni({props:{onInputChange:e[0],updateNumber:e[1]}}),{c(){t=d("div"),V(n.$$.fragment),l=w(),V(a.$$.fragment),o=w(),V(c.$$.fragment),r=w(),V(u.$$.fragment),f=w(),V(b.$$.fragment),p=w(),V(m.$$.fragment),s(t,"class","container")},m(h,_){M(h,t,_),B(n,t,null),i(t,l),B(a,t,null),i(t,o),B(c,t,null),i(t,r),B(u,t,null),i(t,f),B(b,t,null),i(t,p),B(m,t,null),v=!0},p:Ce,i(h){v||(O(n.$$.fragment,h),O(a.$$.fragment,h),O(c.$$.fragment,h),O(u.$$.fragment,h),O(b.$$.fragment,h),O(m.$$.fragment,h),v=!0)},o(h){D(n.$$.fragment,h),D(a.$$.fragment,h),D(c.$$.fragment,h),D(u.$$.fragment,h),D(b.$$.fragment,h),D(m.$$.fragment,h),v=!1},d(h){h&&E(t),q(n),q(a),q(c),q(u),q(b),q(m)}}}function xt(e){window.api.send("toMain",e)}function Oi(e,t,n){let l;lt(e,ot,r=>n(3,l=r));function a(r){let u;r.currentTarget.getAttribute("type")==="checkbox"?u=r.currentTarget.checked:u=r.currentTarget.value;let f;r.currentTarget.id.indexOf(r.currentTarget.form.name)===0?f=r.currentTarget.id.charAt(r.currentTarget.form.name.length).toLowerCase()+r.currentTarget.id.slice(r.currentTarget.form.name.length+1):f=r.currentTarget.id,c(r.currentTarget.form.name,f,u)}function o(r,u=0){let f=parseInt(r.currentTarget.value);isNaN(f)&&(f=u,r.currentTarget.value=u.toString()),c(r.currentTarget.form.name,r.currentTarget.id,f)}function c(r,u,f,b=null){if(u==="closeSlots"&&b!=null){let p=b;f===!0&&!l.autoHost.closeSlots.includes(p)?l.autoHost.closeSlots.push(p):l.autoHost.closeSlots.includes(p)&&l.autoHost.closeSlots.splice(l.autoHost.closeSlots.indexOf(p),1),f=l.autoHost.closeSlots}(l[r][u]!==f||u==="closeSlots")&&xt({messageType:"updateSettingSingle",update:{[r]:{[u]:f}}})}return[a,o,c]}class Li extends Re{constructor(t){super(),Me(this,t,Oi,Pi,Ie,{})}}function Di(e){let t,n,l,a,o,c,r,u,f,b,p,m,v,h;return{c(){t=d("div"),n=d("label"),l=d("input"),u=w(),f=d("label"),p=w(),m=Z(e[3]),s(l,"type","checkbox"),s(l,"name",a=e[2]+e[1]),l.value=e[1],s(l,"id",o=e[2]+e[1]),l.checked=c=e[0]===e[1],l.disabled=r=e[0]===e[1],s(f,"class","float-left cursor-pointer"),s(f,"for",b=e[2]+e[1]),s(n,"class","cursor-pointer"),s(t,"class","flex")},m(_,y){M(_,t,y),i(t,n),i(n,l),i(n,u),i(n,f),i(n,p),i(n,m),v||(h=x(l,"change",e[4]),v=!0)},p(_,[y]){y&6&&a!==(a=_[2]+_[1])&&s(l,"name",a),y&2&&(l.value=_[1]),y&6&&o!==(o=_[2]+_[1])&&s(l,"id",o),y&3&&c!==(c=_[0]===_[1])&&(l.checked=c),y&3&&r!==(r=_[0]===_[1])&&(l.disabled=r),y&6&&b!==(b=_[2]+_[1])&&s(f,"for",b),y&8&&Te(m,_[3])},i:Ce,o:Ce,d(_){_&&E(t),v=!1,h()}}}function Ii(e,t,n){let{groupValue:l}=t,{value:a}=t,{group:o}=t,{display:c=a.toLowerCase().split(" ").map(u=>u.charAt(0).toUpperCase()+u.substring(1)).join(" ")}=t;function r(u){rt.call(this,e,u)}return e.$$set=u=>{"groupValue"in u&&n(0,l=u.groupValue),"value"in u&&n(1,a=u.value),"group"in u&&n(2,o=u.group),"display"in u&&n(3,c=u.display)},[l,a,o,c,r]}class Et extends Re{constructor(t){super(),Me(this,t,Ii,Di,Ie,{groupValue:0,value:1,group:2,display:3})}}function vl(e,t,n){const l=e.slice();return l[20]=t[n],l}function Ei(e){let t;return{c(){t=Z("Export")},m(n,l){M(n,t,l)},d(n){n&&E(t)}}}function Mi(e){let t;return{c(){t=Z("Import")},m(n,l){M(n,t,l)},d(n){n&&E(t)}}}function Ri(e){let t;return{c(){t=Z("Previous Page")},m(n,l){M(n,t,l)},d(n){n&&E(t)}}}function Fi(e){let t;return{c(){t=Z("Next Page")},m(n,l){M(n,t,l)},d(n){n&&E(t)}}}function Ui(e){let t=e[20].removal_date+"",n;return{c(){n=Z(t)},m(l,a){M(l,n,a)},p(l,a){a&2&&t!==(t=l[20].removal_date+"")&&Te(n,t)},d(l){l&&E(n)}}}function Wi(e){let t,n,l;function a(){return e[19](e[20])}return{c(){t=d("button"),t.textContent="Remove",s(t,"class","btn btn-primary")},m(o,c){M(o,t,c),n||(l=x(t,"click",a),n=!0)},p(o,c){e=o},d(o){o&&E(t),n=!1,l()}}}function yl(e){let t,n,l=e[20].username+"",a,o,c,r=e[20].add_date+"",u,f,b,p=e[20].admin+"",m,v,h,_=e[20].reason+"",y,C,H,g;function $(T,k){return T[20].removal_date?Ui:Wi}let S=$(e),N=S(e);return{c(){t=d("tr"),n=d("td"),a=Z(l),o=w(),c=d("td"),u=Z(r),f=w(),b=d("td"),m=Z(p),v=w(),h=d("td"),y=Z(_),C=w(),H=d("td"),N.c(),g=w()},m(T,k){M(T,t,k),i(t,n),i(n,a),i(t,o),i(t,c),i(c,u),i(t,f),i(t,b),i(b,m),i(t,v),i(t,h),i(h,y),i(t,C),i(t,H),N.m(H,null),i(t,g)},p(T,k){k&2&&l!==(l=T[20].username+"")&&Te(a,l),k&2&&r!==(r=T[20].add_date+"")&&Te(u,r),k&2&&p!==(p=T[20].admin+"")&&Te(m,p),k&2&&_!==(_=T[20].reason+"")&&Te(y,_),S===(S=$(T))&&N?N.p(T,k):(N.d(1),N=S(T),N&&(N.c(),N.m(H,null)))},d(T){T&&E(t),N.d()}}}function ji(e){var ae;let t,n,l,a,o,c,r,u,f,b,p,m,v,h,_,y,C,H,g,$,S,N,T,k,L,A,P,R,U,J,G,F,Q,Y,te,se;o=new Ve({props:{$$slots:{default:[Ei]},$$scope:{ctx:e}}}),o.$on("click",e[8]),r=new Ve({props:{$$slots:{default:[Mi]},$$scope:{ctx:e}}}),r.$on("click",e[9]),v=new Et({props:{groupValue:e[3],group:"sort",value:"id",display:"ID"}}),v.$on("change",e[10]),_=new Et({props:{groupValue:e[3],group:"sort",value:"username"}}),_.$on("change",e[11]),C=new Et({props:{groupValue:e[3],group:"sort",value:"admin"}}),C.$on("change",e[12]),g=new Et({props:{groupValue:e[3],group:"sort",value:"region"}}),g.$on("change",e[13]);function me(I){e[14](I)}let ue={key:e[0]+"ascOrder",frontFacingName:"Ascending"};e[5]!==void 0&&(ue.checked=e[5]),S=new ge({props:ue}),Lt.push(()=>bn(S,"checked",me)),S.$on("change",e[15]);function ye(I){e[16](I)}let ve={key:e[0]+"activeOnly",frontFacingName:"Active Only"};e[4]!==void 0&&(ve.checked=e[4]),k=new ge({props:ve}),Lt.push(()=>bn(k,"checked",ye)),k.$on("change",e[7]),R=new Ve({props:{disabled:e[1].page===0,$$slots:{default:[Ri]},$$scope:{ctx:e}}}),R.$on("click",e[17]),J=new Ve({props:{disabled:((ae=e[1].data)==null?void 0:ae.length)!==10,$$slots:{default:[Fi]},$$scope:{ctx:e}}}),J.$on("click",e[18]);let _e=Ge(e[1].data),ee=[];for(let I=0;I<_e.length;I+=1)ee[I]=yl(vl(e,_e,I));return{c(){t=d("div"),n=d("div"),n.textContent=`${e[6]}`,l=w(),a=d("div"),V(o.$$.fragment),c=w(),V(r.$$.fragment),u=w(),f=d("div"),b=d("div"),b.textContent="Sort By",p=w(),m=d("div"),V(v.$$.fragment),h=w(),V(_.$$.fragment),y=w(),V(C.$$.fragment),H=w(),V(g.$$.fragment),$=w(),V(S.$$.fragment),T=w(),V(k.$$.fragment),A=w(),P=d("div"),V(R.$$.fragment),U=w(),V(J.$$.fragment),G=w(),F=d("table"),Q=d("tr"),Q.innerHTML="<th>Username</th> <th>Date Added</th> <th>Admin</th> <th>Reason</th> <th>Removal</th>",Y=w(),te=d("tbody");for(let I=0;I<ee.length;I+=1)ee[I].c();s(n,"class","text-3xl"),s(a,"class","flex text-sm w-fit m-auto pt-2"),s(t,"class","w-full text-center py-4"),s(b,"class","text-xl p-2"),s(m,"class","grid grid-cols-6"),s(f,"class","w-full p-2 text-center border border-gray-500"),s(P,"class","flex w-fit text-center m-auto"),s(F,"class","table w-full")},m(I,j){M(I,t,j),i(t,n),i(t,l),i(t,a),B(o,a,null),i(a,c),B(r,a,null),M(I,u,j),M(I,f,j),i(f,b),i(f,p),i(f,m),B(v,m,null),i(m,h),B(_,m,null),i(m,y),B(C,m,null),i(m,H),B(g,m,null),i(m,$),B(S,m,null),i(m,T),B(k,m,null),M(I,A,j),M(I,P,j),B(R,P,null),i(P,U),B(J,P,null),M(I,G,j),M(I,F,j),i(F,Q),i(F,Y),i(F,te);for(let ke=0;ke<ee.length;ke+=1)ee[ke]&&ee[ke].m(te,null);se=!0},p(I,[j]){var ie;const ke={};j&8388608&&(ke.$$scope={dirty:j,ctx:I}),o.$set(ke);const be={};j&8388608&&(be.$$scope={dirty:j,ctx:I}),r.$set(be);const ce={};j&8&&(ce.groupValue=I[3]),v.$set(ce);const re={};j&8&&(re.groupValue=I[3]),_.$set(re);const z={};j&8&&(z.groupValue=I[3]),C.$set(z);const he={};j&8&&(he.groupValue=I[3]),g.$set(he);const de={};j&1&&(de.key=I[0]+"ascOrder"),!N&&j&32&&(N=!0,de.checked=I[5],gn(()=>N=!1)),S.$set(de);const X={};j&1&&(X.key=I[0]+"activeOnly"),!L&&j&16&&(L=!0,X.checked=I[4],gn(()=>L=!1)),k.$set(X);const K={};j&2&&(K.disabled=I[1].page===0),j&8388608&&(K.$$scope={dirty:j,ctx:I}),R.$set(K);const le={};if(j&2&&(le.disabled=((ie=I[1].data)==null?void 0:ie.length)!==10),j&8388608&&(le.$$scope={dirty:j,ctx:I}),J.$set(le),j&135){_e=Ge(I[1].data);let ne;for(ne=0;ne<_e.length;ne+=1){const pe=vl(I,_e,ne);ee[ne]?ee[ne].p(pe,j):(ee[ne]=yl(pe),ee[ne].c(),ee[ne].m(te,null))}for(;ne<ee.length;ne+=1)ee[ne].d(1);ee.length=_e.length}},i(I){se||(O(o.$$.fragment,I),O(r.$$.fragment,I),O(v.$$.fragment,I),O(_.$$.fragment,I),O(C.$$.fragment,I),O(g.$$.fragment,I),O(S.$$.fragment,I),O(k.$$.fragment,I),O(R.$$.fragment,I),O(J.$$.fragment,I),se=!0)},o(I){D(o.$$.fragment,I),D(r.$$.fragment,I),D(v.$$.fragment,I),D(_.$$.fragment,I),D(C.$$.fragment,I),D(g.$$.fragment,I),D(S.$$.fragment,I),D(k.$$.fragment,I),D(R.$$.fragment,I),D(J.$$.fragment,I),se=!1},d(I){I&&(E(t),E(u),E(f),E(A),E(P),E(G),E(F)),q(o),q(r),q(v),q(_),q(C),q(g),q(S),q(k),q(R),q(J),dt(ee,I)}}}let Mt="ASC";function Bi(e,t,n){let l,{type:a}=t,{list:o}=t,{toMain:c}=t,r="id",u=!1,f=a.split(/(?=[A-Z])/).map((T,k)=>k===0?T.charAt(0).toUpperCase()+T.slice(1):T).join(" ");function b(){c({messageType:"fetchWhiteBanList",fetch:{page:o.page,type:a,sort:r,sortOrder:Mt,activeOnly:u}})}const p=()=>{c({messageType:"exportWhitesBans",exportImport:{type:a}})},m=()=>{c({messageType:"importWhitesBans",exportImport:{type:a}})},v=()=>{n(3,r="id"),b()},h=()=>{n(3,r="username"),b()},_=()=>{n(3,r="admin"),b()},y=()=>{n(3,r="region"),b()};function C(T){l=T,n(5,l)}const H=()=>{b()};function g(T){u=T,n(4,u)}const $=()=>{c({messageType:"fetchWhiteBanList",fetch:{page:o.page-1,type:a,sort:r,sortOrder:Mt,activeOnly:u}})},S=()=>{c({messageType:"fetchWhiteBanList",fetch:{page:o.page+1,type:a,sort:r,sortOrder:Mt,activeOnly:u}})},N=T=>{c({messageType:"removeWhiteBan",removeWhiteBan:{type:a,player:T.username}}),b()};return e.$$set=T=>{"type"in T&&n(0,a=T.type),"list"in T&&n(1,o=T.list),"toMain"in T&&n(2,c=T.toMain)},n(5,l=Mt==="ASC"),[a,o,c,r,u,l,f,b,p,m,v,h,_,y,C,H,g,$,S,N]}class _l extends Re{constructor(t){super(),Me(this,t,Bi,ji,Ie,{type:0,list:1,toMain:2})}}function kl(e){let t,n=e[2].lastAction+"",l,a;return{c(){t=d("div"),l=Z(n),a=d("button"),s(a,"type","button"),s(a,"class","btn-close"),s(a,"data-bs-dismiss","alert"),s(a,"aria-label","Close"),s(t,"class","alert alert-warning alert-dismissible fade show"),s(t,"role","alert")},m(o,c){M(o,t,c),i(t,l),i(t,a)},p(o,c){c&4&&n!==(n=o[2].lastAction+"")&&Te(l,n)},d(o){o&&E(t)}}}function qi(e){let t;return{c(){t=Z("Ban")},m(n,l){M(n,t,l)},d(n){n&&E(t)}}}function Vi(e){let t;return{c(){t=Z("Unban")},m(n,l){M(n,t,l)},d(n){n&&E(t)}}}function Gi(e){let t;return{c(){t=Z("UnWhiteList")},m(n,l){M(n,t,l)},d(n){n&&E(t)}}}function Ki(e){let t;return{c(){t=Z("WhiteList")},m(n,l){M(n,t,l)},d(n){n&&E(t)}}}function zi(e){let t;return{c(){t=Z("Mod")},m(n,l){M(n,t,l)},d(n){n&&E(t)}}}function Ji(e){let t;return{c(){t=Z("Admin")},m(n,l){M(n,t,l)},d(n){n&&E(t)}}}function Yi(e){let t;return{c(){t=Z("Remove Perms")},m(n,l){M(n,t,l)},d(n){n&&E(t)}}}function Qi(e){let t,n,l,a,o,c,r,u,f,b,p,m,v,h,_,y,C,H,g,$,S,N,T,k,L,A,P,R,U,J,G,F,Q,Y,te,se,me,ue,ye,ve,_e,ee,ae=e[2].lastAction&&kl(e);return h=new Ve({props:{color:"red",$$slots:{default:[qi]},$$scope:{ctx:e}}}),h.$on("click",e[5]),C=new Ve({props:{$$slots:{default:[Vi]},$$scope:{ctx:e}}}),C.$on("click",e[6]),$=new Ve({props:{color:"red",$$slots:{default:[Gi]},$$scope:{ctx:e}}}),$.$on("click",e[7]),T=new Ve({props:{color:"green",$$slots:{default:[Ki]},$$scope:{ctx:e}}}),T.$on("click",e[8]),A=new Ve({props:{$$slots:{default:[zi]},$$scope:{ctx:e}}}),A.$on("click",e[9]),U=new Ve({props:{$$slots:{default:[Ji]},$$scope:{ctx:e}}}),U.$on("click",e[10]),Q=new Ve({props:{color:"red",$$slots:{default:[Yi]},$$scope:{ctx:e}}}),Q.$on("click",e[11]),me=new _l({props:{type:"whiteList",list:e[0].whiteList,toMain:e[1]}}),ye=new _l({props:{type:"banList",list:e[0].banList,toMain:e[1]}}),{c(){t=d("form"),ae&&ae.c(),n=w(),l=d("div"),a=d("div"),o=d("input"),c=w(),r=d("div"),u=d("input"),f=w(),b=d("div"),p=d("div"),m=d("div"),v=d("div"),V(h.$$.fragment),_=w(),y=d("div"),V(C.$$.fragment),H=w(),g=d("div"),V($.$$.fragment),S=w(),N=d("div"),V(T.$$.fragment),k=w(),L=d("div"),V(A.$$.fragment),P=w(),R=d("div"),V(U.$$.fragment),J=w(),G=d("div"),F=d("div"),V(Q.$$.fragment),Y=w(),te=d("div"),te.innerHTML=`<div class="col d-flex text-xs"><details><summary>Permissions</summary><strong>Mod:</strong>
          ?a: Aborts game start<br/>
          ?ban (name|slotNumber) (?reason): Bans a player forever<br/>
          ?close (name|slotNumber): Closes a slot/player<br/>
          ?handi (name|slotNumber) (50|60|70|80|100): Sets slot/player handicap<br/>
          ?kick (name|slotNumber) (?reason): Kicks a slot/player<br/>
          ?open (name|slotNumber) (?reason): Opens a slot/player<br/>
          ?unban (name): Un-bans a player<br/>
          ?unwhite (name): Un-whitelists a player<br/>
          ?white (name) (?reason): WhiteLists a player<br/>
          ?start: Starts game<br/>
          ?swap (name|slotNumber) (name|slotNumber): Swaps two players<br/>
          ?sp: Shuffles players completely randomly ?st: Shuffles players randomly between
          teams<br/> <strong>Admin:</strong><br/>
          ?perm (name) (?admin|mod|swapper): Promotes a player to a specified role (mod by
          default).<br/>
          ?unperm (name): Demotes player to normal<br/>
          ?autohost (?off|rapid|lobby|smart): Gets/?Sets autohost type</details></div>`,se=w(),V(me.$$.fragment),ue=w(),V(ye.$$.fragment),s(o,"type","text"),s(o,"class","form-control"),s(o,"placeholder","BattleTag"),s(o,"pattern","^\\D\\S{2,11}#\\d{4,8}$"),s(a,"class","col"),s(u,"type","text"),s(u,"class","form-control"),s(u,"placeholder","Ban Reason"),s(r,"class","col-6"),s(l,"class","row p-2"),s(v,"class","order-1"),s(y,"class","order-4"),s(g,"class","order-2"),s(N,"class","order-5"),s(L,"class","order-3"),s(R,"class","order-6"),s(F,"class","m-auto"),s(G,"class","order-7 col-span-3"),s(m,"class","grid grid-cols-3"),s(p,"class","col d-flex justify-content-center"),s(te,"class","row justify-content-center p-2"),s(b,"class","row justify-content-center p-2"),s(t,"class","border p-2")},m(I,j){M(I,t,j),ae&&ae.m(t,null),i(t,n),i(t,l),i(l,a),i(a,o),we(o,e[2].battleTag),i(l,c),i(l,r),i(r,u),we(u,e[2].banReason),i(t,f),i(t,b),i(b,p),i(p,m),i(m,v),B(h,v,null),i(m,_),i(m,y),B(C,y,null),i(m,H),i(m,g),B($,g,null),i(m,S),i(m,N),B(T,N,null),i(m,k),i(m,L),B(A,L,null),i(m,P),i(m,R),B(U,R,null),i(m,J),i(m,G),i(G,F),B(Q,F,null),i(b,Y),i(b,te),M(I,se,j),B(me,I,j),M(I,ue,j),B(ye,I,j),ve=!0,_e||(ee=[x(o,"input",e[3]),x(u,"input",e[4])],_e=!0)},p(I,[j]){I[2].lastAction?ae?ae.p(I,j):(ae=kl(I),ae.c(),ae.m(t,n)):ae&&(ae.d(1),ae=null),j&4&&o.value!==I[2].battleTag&&we(o,I[2].battleTag),j&4&&u.value!==I[2].banReason&&we(u,I[2].banReason);const ke={};j&4096&&(ke.$$scope={dirty:j,ctx:I}),h.$set(ke);const be={};j&4096&&(be.$$scope={dirty:j,ctx:I}),C.$set(be);const ce={};j&4096&&(ce.$$scope={dirty:j,ctx:I}),$.$set(ce);const re={};j&4096&&(re.$$scope={dirty:j,ctx:I}),T.$set(re);const z={};j&4096&&(z.$$scope={dirty:j,ctx:I}),A.$set(z);const he={};j&4096&&(he.$$scope={dirty:j,ctx:I}),U.$set(he);const de={};j&4096&&(de.$$scope={dirty:j,ctx:I}),Q.$set(de);const X={};j&1&&(X.list=I[0].whiteList),j&2&&(X.toMain=I[1]),me.$set(X);const K={};j&1&&(K.list=I[0].banList),j&2&&(K.toMain=I[1]),ye.$set(K)},i(I){ve||(O(h.$$.fragment,I),O(C.$$.fragment,I),O($.$$.fragment,I),O(T.$$.fragment,I),O(A.$$.fragment,I),O(U.$$.fragment,I),O(Q.$$.fragment,I),O(me.$$.fragment,I),O(ye.$$.fragment,I),ve=!0)},o(I){D(h.$$.fragment,I),D(C.$$.fragment,I),D($.$$.fragment,I),D(T.$$.fragment,I),D(A.$$.fragment,I),D(U.$$.fragment,I),D(Q.$$.fragment,I),D(me.$$.fragment,I),D(ye.$$.fragment,I),ve=!1},d(I){I&&(E(t),E(se),E(ue)),ae&&ae.d(),q(h),q(C),q($),q(T),q(A),q(U),q(Q),q(me,I),q(ye,I),_e=!1,Oe(ee)}}}function Zi(e,t,n){let l;lt(e,Tt,_=>n(2,l=_));let{lists:a}=t,{toMain:o}=t;function c(){l.battleTag=this.value,Tt.set(l)}function r(){l.banReason=this.value,Tt.set(l)}const u=()=>o({messageType:"addWhiteBan",addWhiteBan:{type:"banList",player:l.battleTag,reason:l.banReason}}),f=()=>o({messageType:"removeWhiteBan",removeWhiteBan:{type:"banList",player:l.battleTag}}),b=()=>o({messageType:"removeWhiteBan",removeWhiteBan:{type:"whiteList",player:l.battleTag}}),p=()=>o({messageType:"addWhiteBan",addWhiteBan:{type:"whiteList",player:l.battleTag,reason:l.banReason}}),m=()=>o({messageType:"changePerm",perm:{player:l.battleTag,role:"moderator"}}),v=()=>o({messageType:"changePerm",perm:{player:l.battleTag,role:"admin"}}),h=()=>o({messageType:"changePerm",perm:{player:l.battleTag,role:""}});return e.$$set=_=>{"lists"in _&&n(0,a=_.lists),"toMain"in _&&n(1,o=_.toMain)},[a,o,l,c,r,u,f,b,p,m,v,h]}class Xi extends Re{constructor(t){super(),Me(this,t,Zi,Qi,Ie,{lists:0,toMain:1})}}function xi(e){let t;return{c(){t=Z("MAIN")},m(n,l){M(n,t,l)},d(n){n&&E(t)}}}function eo(e){let t;return{c(){t=Z("BANLIST")},m(n,l){M(n,t,l)},d(n){n&&E(t)}}}function to(e){let t;return{c(){t=Z("SETTINGS")},m(n,l){M(n,t,l)},d(n){n&&E(t)}}}function no(e){let t,n;return t=new La({props:{lobby:e[0],structuredTeamData:e[4]}}),{c(){V(t.$$.fragment)},m(l,a){B(t,l,a),n=!0},p(l,a){const o={};a&1&&(o.lobby=l[0]),a&16&&(o.structuredTeamData=l[4]),t.$set(o)},i(l){n||(O(t.$$.fragment,l),n=!0)},o(l){D(t.$$.fragment,l),n=!1},d(l){q(t,l)}}}function lo(e){let t,n;return t=new Xi({props:{lists:{banList:e[1],whiteList:e[2]},toMain:nn}}),{c(){V(t.$$.fragment)},m(l,a){B(t,l,a),n=!0},p(l,a){const o={};a&6&&(o.lists={banList:l[1],whiteList:l[2]}),t.$set(o)},i(l){n||(O(t.$$.fragment,l),n=!0)},o(l){D(t.$$.fragment,l),n=!1},d(l){q(t,l)}}}function ao(e){let t,n;return t=new Li({}),{c(){V(t.$$.fragment)},m(l,a){B(t,l,a),n=!0},p:Ce,i(l){n||(O(t.$$.fragment,l),n=!0)},o(l){D(t.$$.fragment,l),n=!1},d(l){q(t,l)}}}function io(e){let t,n,l,a,o,c,r,u,f,b,p,m,v,h,_,y,C,H,g,$,S,N,T,k,L,A,P,R,U,J,G,F,Q,Y,te,se,me,ue,ye=e[5].connected?"CONNECTED TO WARCRAFT":"NO CONNECTION",ve,_e,ee,ae,I,j,ke,be,ce,re,z;t=new $a({}),h=new Ve({props:{disabled:e[3]==="main",active:e[3]==="main",$$slots:{default:[xi]},$$scope:{ctx:e}}}),h.$on("click",e[6]),C=new Ve({props:{disabled:e[3]==="banlist",active:e[3]==="banlist",$$slots:{default:[eo]},$$scope:{ctx:e}}}),C.$on("click",e[7]),$=new Ve({props:{disabled:e[3]==="settings",active:e[3]==="settings",$$slots:{default:[to]},$$scope:{ctx:e}}}),$.$on("click",e[8]);const he=[ao,lo,no],de=[];function X(K,le){return K[3]==="settings"?0:K[3]==="banlist"?1:K[3]==="main"?2:-1}return~(T=X(e))&&(k=de[T]=he[T](e)),{c(){V(t.$$.fragment),n=w(),l=d("div"),l.innerHTML='<div class="image-border top-bar w-[90%] top-2 mx-[36px] h-[39px]"></div> <div class="image-border bottom-bar w-[90%] bottom-4 mx-[36px] h-[39px]"></div> <div class="image-border left-bar h-5/6 left-0 w-9 my-[36px]"></div> <div class="image-border right-bar h-5/6 right-0 w-9 my-[36px]"></div> <div class="image-border top-left-corner corner top-2 left-0"></div> <div class="image-border top-right-corner corner top-2 right-0"></div> <div class="image-border bottom-left-corner corner bottom-4 left-0"></div> <div class="image-border bottom-right-corner corner bottom-4 right-0"></div>',a=w(),o=d("div"),c=d("div"),r=d("div"),u=d("div"),u.innerHTML="ver<br/>1.0.1",f=w(),b=d("div"),b.textContent="WC3 MULTITOOL",p=w(),m=d("div"),v=d("div"),V(h.$$.fragment),_=w(),y=d("div"),V(C.$$.fragment),H=w(),g=d("div"),V($.$$.fragment),S=w(),N=d("main"),k&&k.c(),L=w(),A=d("div"),P=d("div"),R=d("div"),U=d("div"),J=w(),G=d("div"),F=d("button"),F.innerHTML="<strong>OPEN WARCRAFT</strong>",Q=w(),Y=d("span"),te=d("div"),se=w(),me=d("h2"),ue=d("strong"),ve=Z(ye),ee=w(),ae=d("div"),I=d("div"),j=w(),ke=d("div"),be=d("button"),be.innerHTML="<strong>PLACEHOLDER</strong>",s(u,"class","friz text-center leading-none my-auto"),s(b,"class","coture my-auto text-xl font-semibold"),s(v,"class","my-auto"),s(y,"class","my-auto"),s(g,"class","my-auto"),s(m,"class","absolute flex right-0"),s(r,"class","flex w-5/6 mx-auto h-full relative items-center"),s(c,"class","top-wood fixed top-[47px] z-10 h-[83px] left-[36px] right-[39px]"),s(N,"class","fixed overflow-auto top-[130px] bottom-9 right-9 left-9"),s(U,"class","h-4"),s(F,"type","button"),s(F,"id","warcraftButton"),s(F,"class","cursor-pointer coture active:text-white w-full h-full"),s(G,"class","h-10 w-44 m-auto"),s(R,"class","launch-button content-center inline-block"),s(te,"class","h-8"),s(me,"class","coture text-center"),s(me,"id","statusText"),s(Y,"class",_e="inline-block connection-status "+(e[5].connected?"online":"offline")),s(Y,"id","mainStatus"),s(I,"class","h-4"),s(be,"type","button"),s(be,"class","cursor-pointer coture active:text-white w-full h-full"),s(ke,"class","h-10 w-44 m-auto"),s(ae,"class","launch-button content-center inline-block"),s(P,"class","m-auto"),s(A,"class","flex fixed bottom-[-15px] w-full items-center"),nt(A,"z-index","10000"),s(o,"class","w-full")},m(K,le){B(t,K,le),M(K,n,le),M(K,l,le),M(K,a,le),M(K,o,le),i(o,c),i(c,r),i(r,u),i(r,f),i(r,b),i(r,p),i(r,m),i(m,v),B(h,v,null),i(m,_),i(m,y),B(C,y,null),i(m,H),i(m,g),B($,g,null),i(o,S),i(o,N),~T&&de[T].m(N,null),i(o,L),i(o,A),i(A,P),i(P,R),i(R,U),i(R,J),i(R,G),i(G,F),i(P,Q),i(P,Y),i(Y,te),i(Y,se),i(Y,me),i(me,ue),i(ue,ve),i(P,ee),i(P,ae),i(ae,I),i(ae,j),i(ae,ke),i(ke,be),ce=!0,re||(z=[x(F,"click",e[9]),x(be,"click",e[10])],re=!0)},p(K,[le]){const ie={};le&8&&(ie.disabled=K[3]==="main"),le&8&&(ie.active=K[3]==="main"),le&4096&&(ie.$$scope={dirty:le,ctx:K}),h.$set(ie);const ne={};le&8&&(ne.disabled=K[3]==="banlist"),le&8&&(ne.active=K[3]==="banlist"),le&4096&&(ne.$$scope={dirty:le,ctx:K}),C.$set(ne);const pe={};le&8&&(pe.disabled=K[3]==="settings"),le&8&&(pe.active=K[3]==="settings"),le&4096&&(pe.$$scope={dirty:le,ctx:K}),$.$set(pe);let He=T;T=X(K),T===He?~T&&de[T].p(K,le):(k&&(Ne(),D(de[He],1,1,()=>{de[He]=null}),Pe()),~T?(k=de[T],k?k.p(K,le):(k=de[T]=he[T](K),k.c()),O(k,1),k.m(N,null)):k=null),(!ce||le&32)&&ye!==(ye=K[5].connected?"CONNECTED TO WARCRAFT":"NO CONNECTION")&&Te(ve,ye),(!ce||le&32&&_e!==(_e="inline-block connection-status "+(K[5].connected?"online":"offline")))&&s(Y,"class",_e)},i(K){ce||(O(t.$$.fragment,K),O(h.$$.fragment,K),O(C.$$.fragment,K),O($.$$.fragment,K),O(k),ce=!0)},o(K){D(t.$$.fragment,K),D(h.$$.fragment,K),D(C.$$.fragment,K),D($.$$.fragment,K),D(k),ce=!1},d(K){K&&(E(n),E(l),E(a),E(o)),q(t,K),q(h),q(C),q($),~T&&de[T].d(),re=!1,Oe(z)}}}function wl(){nn({messageType:"init"}),document.body.addEventListener("click",e=>{e.target.tagName.toLowerCase()==="a"&&(e.preventDefault(),window.api.shell(e.target.href))})}function nn(e){window.api.send("toMain",e)}function oo(e,t,n){let l;lt(e,Ft,_=>n(5,l=_));let a,o={data:[],page:0},c={data:[],page:0},r="main",u=[];Cl(()=>{document.readyState!=="loading"?wl():document.addEventListener("DOMContentLoaded",function(){wl()})});function f(){let _=a.exportTeamStructure(!1);_?n(4,u=Object.entries(_)):n(4,u=[])}return window.api.receive("fromMain",_=>{if(_.globalUpdate)_.globalUpdate.clientState&&Xt.update(y=>(Object.entries(_.globalUpdate.clientState).forEach(([C,H])=>{y[C]=H}),y)),_.globalUpdate.gameState&&Ft.update(y=>(Object.entries(_.globalUpdate.gameState).forEach(([C,H])=>{y[C]=H}),y)),_.globalUpdate.settings&&ot.update(y=>(Object.entries(_.globalUpdate.settings).forEach(([C,H])=>{Object.entries(H).forEach(([g,$])=>{y[C][g]=$})}),y));else if(_.init)Xt.set(_.init.clientState),Ft.set(_.init.gameState),ot.set(_.init.settings);else if(_.legacy){let y=_.legacy.data;switch(_.legacy.messageType){case"action":Tt.update(g=>(g.lastAction=y.value,g.banReason="",g.battleTag="",g));break;case"updater":Tt.update(g=>(g.updateStatus=y.value,g));break;case"lobbyUpdate":let C=y.lobbyData;C.newLobby?(n(0,a=new Tl.MicroLobby({region:"us",fullData:C.newLobby})),f()):C.playerPayload||C.playerData?a&&a.ingestUpdate(C).isUpdated&&f():C.leftLobby&&(n(0,a=null),n(4,u=[]));break;case"error":let H=document.createElement("div");H.classList.add("alert","alert-danger","alert-dismissible","fade","show"),H.setAttribute("role","alert"),H.innerHTML=`<strong>Error!</strong> ${_.legacy.data.error} <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>`,document.body.prepend(H);break;case"gotMapPath":ot.update(g=>(g.autoHost.mapPath=y.value,g));break;case"fetchedWhiteBanList":y.fetched&&(y.fetched.type==="banList"?n(1,o={data:y.fetched.list,page:y.fetched.page}):y.fetched.type==="whiteList"&&n(2,c={data:y.fetched.list,page:y.fetched.page}));break;default:console.log("Unknown:",_)}}}),[a,o,c,r,u,l,()=>n(3,r="main"),()=>n(3,r="banlist"),()=>n(3,r="settings"),()=>nn({messageType:"openWar"}),()=>console.log("Placeholder")]}class so extends Re{constructor(t){super(),Me(this,t,oo,io,Ie,{})}}new so({target:document.getElementById("app")});
